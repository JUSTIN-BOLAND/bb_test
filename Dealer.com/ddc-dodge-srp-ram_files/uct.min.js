var SSMGF=SSMGF||{};SSMGF.rid=SSMGF.rid||"";SSMGF.u=SSMGF.u||{};SSMGF.u.guid=SSMGF.u.guid||"";SSMGF.u.sid=SSMGF.u.sid||"";SSMGF.uct=SSMGF.uct||{};SSMGF.uct.jq=SSMGF.uct.jq||{};SSMGF.uct.v=SSMGF.uct.v||20160711;SSMGF.uct.fn=SSMGF.uct.fn||(function(W,t){var Z="//sdk.amazonaws.com/js/aws-sdk-2.2.12.min.js";var c="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js";var m="//api.speedshiftmedia.com/public/l/v1/k/pixel.gif";var i="//services.cdn.speedshiftmedia.com/gf/core.min.js";var H="413858550723";var f="2013-12-02";var L="us-east-1:2d1979f5-fdde-45c2-a867-e285d5f06ef5";var U="";var b="us-east-1";var x="arn:aws:iam::413858550723:role/Cognito_LeTigreUnauth_DefaultRole";var E="letigre_clicks_live";var R="letigre_impressions_live";var g=false;var q="";var V=null;var e="click.ssm_uct";var w="";var C=[];var h="/";var P=2500;var a="mousedown.ssm_uct";var d="";var k=t;var ae=50;var o="mouseup.ssm_uct";var u="";var Q=t;var G=false;var n="body, div, a, span, button, input, img, p, li, ul";var y=t;var ad=0;var Y=true;function O(){if(g){return false}g=true;M();return true}function r(am){try{var ak=true;var ag=[];var aj=false;var ar=30;var at="";var an="";while(am.parentNode!=null){at=am.nodeName.toLowerCase();aj=false;if(at=="html"||at=="body"){ag.unshift(at);aj=true}else{if(am.hasAttribute("id")&&am.id!=""){try{if(SSMGF.uct.jq(at+"#"+am.id).length==1){ag.unshift(at+"#"+am.id);aj=true}}catch(ai){}}}if(!aj){aj=false;if(ak){var ao=SSMGF.uct.jq(am);an=ao.text();if(/^\s|\s$|\r|\n/.test(an)){an=an.replace(/^\s+|\s+$|[\r\n].*/g,"")}if(an){if(/'/.test(an)){an=tagcont.replace(/'/g,"\\'")}if(an.length>ar){an=an.substr(0,ar)}ag.unshift(at+":contains('"+an+"')");aj=true}}if(!aj){if(am.className&&am.className!=""){ag.unshift(at+"."+aa(am.className))}else{var aq=0;var ap=0;for(var al=0;al<am.parentNode.childNodes.length;al++){var ah=am.parentNode.childNodes[al];if(ah.nodeName==am.nodeName){if(ah===am){ap=aq}aq++}}if(aq>1){ap++;ag.unshift(at+":nth-of-type("+ap+")")}else{ag.unshift(at)}}}}ak=false;am=am.parentNode}return h+ag.join(h)}catch(ai){return""}}function z(){G=true;SSMGF.uct.jq(document).off(e,n);SSMGF.uct.jq(document).off(a,n);SSMGF.uct.jq(document).off(o,n);if(W.removeEventListener){W.removeEventListener("beforeunload",J,false);W.removeEventListener("pagehide",J,false)}else{if(W.detachEvent){W.detachEvent("onbeforeunload",J)}}return true}function M(){if(typeof SSMGF.u.fn!=="undefined"){SSMGF.u.on_ready(function(){D()});SSMGF.u.fn.init()}else{l(i,function(){SSMGF.u.on_ready(function(){D()});SSMGF.u.fn.init()})}}function D(){l(c,function(){SSMGF.uct.jq=jQuery.noConflict(true);ac()})}function ac(){if(typeof SSM_PHONEBOOTH!=="undefined"){if(!Object.keys){Object.keys=function(aj){var ai=[];var ah="";if(typeof aj==="object"){for(ah in aj){if(Object.prototype.hasOwnProperty.call(aj,ah)){ai.push(ah)}}}return ai}}var ag=Object.keys(SSM_PHONEBOOTH);if(ag.length>0){q=ag[0]}}B()}function B(){if(typeof W.AWS!=="undefined"&&typeof W.AWS.config!=="undefined"){X()}else{l(Z,function(){X()})}}function X(){U=(SSMGF.u.guid=="")?""+Math.random()+"":SSMGF.u.guid;try{AWS.config.region=b;AWS.config.credentials=new AWS.CognitoIdentityCredentials({AccountId:H,IdentityPoolId:L,RoleArn:x});AWS.config.apiVersions={kinesis:f};AWS.config.credentials.get(function(ah){if(ah){Y=false}S();v()})}catch(ag){Y=false;S();v()}}function v(){SSMGF.uct.jq(document).on(e,n,p);SSMGF.uct.jq(document).on(a,n,T);SSMGF.uct.jq(document).on(o,n,A);if(W.addEventListener){W.addEventListener("beforeunload",J,false);W.addEventListener("pagehide",J,false)}else{if(W.attachEvent){W.attachEvent("onbeforeunload",J)}}}function J(){if(G){return true}if(Y&&C.length){if(y||C.length){clearTimeout(y);af(1)}if(ad>0){var ag=(new Date()).getTime();while(ad>0&&(new Date()).getTime()-ag<3000){}}}}function p(ag){if(G){return true}if(ag.target!==this){return true}w=r(ag.target);if(w==""){return true}S(w,"click",ag.which);if(w==d){clearTimeout(k)}if(w==u){clearTimeout(Q)}}function ab(ah,ag){k=setTimeout(function(){S(ah,"mousedown",ag)},P)}function T(ag){if(G){return true}if(ag.target!==this){return true}d=r(ag.target);if(d==""){return true}ab(d,ag.which)}function F(ah,ag){Q=setTimeout(function(){S(ah,"mouseup",ag)},ae)}function A(ag){if(G){return true}if(ag.target!==this){return true}u=r(ag.target);if(u==""){return true}F(u,ag.which);if(u==d){clearTimeout(k)}}function S(aj,ah,ag){var ai={uid:SSMGF.u.guid,ts:j(),url:W.location.href,referrer:document.referrer,user_agent:navigator.userAgent,rid:SSMGF.rid,cid:q,sid:SSMGF.u.sid,source_id:N(),v:SSMGF.uct.v};if(typeof aj!=="undefined"&&aj!=""){ai.dom_path=aj;ai.click_type=ah;ai.mouse_button=ag}else{}if(Y){s(ai)}else{I(ai)}}function s(ag){C.push(ag);if(y==t){y=setTimeout(af,1000)}}function I(ah){var ag=E;if(typeof ah.dom_path==="undefined"){ag=R}SSMGF.util.load.img(m+"?d="+encodeURIComponent(SSMGF.util.base64.encode(SSMGF.util.json.encode(ah)))+"&s="+encodeURIComponent(ag)+"&p="+encodeURIComponent(U))}function af(ah){if(G){return true}y=t;var ai=[];var al=[];var aj=[];if(C.length){try{while(C.length){var am=C.shift();if(typeof am.dom_path==="undefined"){aj.push({PartitionKey:U,Data:SSMGF.util.json.encode(am)})}else{al.push({PartitionKey:U,Data:SSMGF.util.json.encode(am)})}ai.push(am)}var ag;if(typeof ah!=="undefined"&&ah){ag=new AWS.Kinesis({httpOptions:{timeout:30000,xhrAsync:false}})}else{ag=new AWS.Kinesis({httpOptions:{timeout:30000}})}if(Y&&al.length>0){ad++;ag.putRecords({StreamName:E,Records:al},function(an,ao){if(an){K(ai)}else{}ad--})}if(Y&&aj.length>0){ad++;ag.putRecords({StreamName:R,Records:aj},function(an,ao){if(an){K(ai)}else{}ad--})}}catch(ak){K(ai)}}}function K(ag){Y=false;if(ag.length>0){while(ag.length){var ah=ag.shift();I(ah)}}}function N(){if(V!=null){return V}V="";if(V==""&&typeof W.magnum!=="undefined"&&typeof W.magnum.s!=="undefined"){V=W.magnum.s}return V}function j(){return Math.floor((new Date()).getTime()/1000)}function aa(ai){var ah=ai.split(" ");var aj=[];for(var ag=0;ag<ah.length;ag++){if(ah[ag]!=""){aj.push(ah[ag])}}return aj.join(".")}function l(ah,aj){try{var ag=document.createElement("script");ag.type="text/javascript";ag.src=ah;if(document.body){document.body.appendChild(ag)}if(typeof aj!=="undefined"&&aj!=null){if(ag.addEventListener){ag.addEventListener("load",function(){aj.call(W,[])},false)}else{if(ag.readyState){ag.onreadystatechange=function(){if(ag.readyState in {loaded:1,complete:1}){ag.onreadystagechange=null;aj.call(W,[])}}}}}}catch(ai){}}return{init:function(){return O()},gdp:function(ag){return r(ag)},sul:function(){return z()}}})(window);SSMGF.uct.fn.init();