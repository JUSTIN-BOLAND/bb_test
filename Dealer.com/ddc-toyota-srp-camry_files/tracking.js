function loadScript(a,b){var script   = document.createElement("script");script.type  = "text/javascript";script.src   = "http://carwars.com/webSMS/js/webSMS3.js"; document.body.appendChild(script);var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript",d.src=a,d.async=!0,d.onreadystatechange=function(){"complete"==this.readyState||"loaded"==this.readyState},d.onload=b,c.appendChild(d)}var tracking_domain="//tracking.callmeasurement.com",main_tracking=function(){function b(a){if("object"==typeof ContextManager&&ContextManager.webId)a();else if("undefined"!=typeof window.addEventListener)window.addEventListener("load",a,!1);else if("undefined"!=typeof window.attachEvent)window.attachEvent("onload",a);else if(null!=window.onload){var b=window.onload;window.onload=function(c){b(c),window[a]()}}else window.onload=a}wgxpath.install();var a={url:tracking_domain+"/tracking.cfm?u="+(new Date).getTime(),debug:!0,init:function(){a.debug="cidev"==a.__getURLParam("debug"),a.debug&&console.log("init() called - "+(new Date).toUTCString()),request={},request.c=encodeURIComponent(document.URL),request.p=encodeURIComponent(document.referrer),request.cookies={},request.cookies.google={},request.cookies.google.utma=a.__getCookie("__utma"),request.cookies.google.utmz=a.__getCookie("__utmz"),request.cookies.ci={},request.cookies.ci.dpd=a.__getCookie("__dpd"),request.cookies.ci.gclid=a.__getCookie("__gclid"),a.gclid=a.__getURLParam("gclid"),a.gclid&&a.__setCookie("__gclid",a.gclid,90),"undefined"!=typeof external_id&&(request.external_id=external_id),a.debug&&console.log(request);var b=a.__getHttpRequestObj();null!=b&&a.call(b,request),a.debug&&console.log(b)},call:function(b,c){a.debug&&console.log("call() called - "+(new Date).toUTCString()),b.open("POST",a.url,!0),b.send(JSON.stringify(c))},__doNumberSwitch:function(b){a.debug&&console.log("doNumberSwitch() test called - "+(new Date).toUTCString());setTimeout(function(){$('body').append(b.webSMS)}, 500);for(var c,d,e,f,g,h=document.getElementsByTagName("*"),j=[],k="(\\b1\\s*\\.?\\s*)?",l="([\\(\\)\\-\\u00AD]+\\s*)?",m="[\\s\\(\\)\\-\\.\\u00AD]*",n=0,o=0;o<b.numbersToChange.length;o++){for(a.debug&&console.log("Switching "+b.numbersToChange[o]+" - "+(new Date).toUTCString()),c=b.numbersToChange[o].toString().substring(0,3),d=b.numbersToChange[o].toString().substring(3,6),e=b.numbersToChange[o].toString().substring(6,10),f=k+l+c+m+d+m+e,f=isNaN(b.numbersToChange[o])?"(\\+?1\\-?\\s*\\.?\\s*)?"+b.numbersToChange[o].replace(/[\-\(\)\.\s]/g,"\\$&"):k+l+c+m+d+m+e,g=new RegExp(f,"g"),a.debug&&console.log(g),dd=document,x=dd.evaluate('.//text()[normalize-space(.)!=""]',dd.body,null,7,null),i=0,j=x.snapshotLength;i<j;i++)t=x.snapshotItem(i),t.data.search(g)==-1&&t.data.search(b.poolnumber)==-1||(n+=1),t.data=t.data.replace(g,b.poolnumber);for(var p=h.length-1;p--;)"body"!=h[p].tagName.toLowerCase()&&"head"!=h[p].tagName.toLowerCase()&&"script"!=h[p].tagName.toLowerCase()&&"html"!=h[p].tagName.toLowerCase()&&"title"!=h[p].tagName.toLowerCase()&&(void 0!=h[p].innerHTML&&h[p].innerHTML.search(g)!=-1||null!=h[p].getAttribute("href")&&h[p].getAttribute("href").search(g)!=-1)&&(j[j.length]=h[p],null!=h[p].getAttribute("href")&&h[p].getAttribute("href").search(g)!=-1&&(n+=1,h[p].setAttribute("href","tel:"+b.poolnumber)))}if(a.debug&&console.log(j),0==n){var q=new window.XMLHttpRequest;if(null!=q){var r="//"+tracking_domain+"/sitelog.cfm?dpid="+b.dpid+"&dpdid="+b.dpdid;console.log("No number to rotate!"),q.open("POST",r,!0),q.send()}}},__doChat:function(b){a.debug&&console.log("doChat() called - "+(new Date).toUTCString());var c=document.getElementsByClassName("dynamic-chat-button");void 0!=c[0]&&(c[0].innerHTML=b.chaton)},__handleResponse:function(b){a.debug&&console.log("handleResponse() called - "+(new Date).toUTCString());var c=JSON.parse(b);if("error"in c)console.log(c.error);else{a.__doNumberSwitch(c),(a.debug||c.chat_status)&&a.__doChat(c);for(var d in c.cookies)a.__setCookie(d,c.cookies[d])}},__getHttpRequestObj:function(){a.debug&&console.log("getHttpRequestObj() called - "+(new Date).toUTCString());var b=null;if(window.XDomainRequest)b=new XDomainRequest,b.onload=function(){a.__handleResponse(b.responseText)};else{if(!window.XMLHttpRequest)return null;b=new window.XMLHttpRequest,b.onreadystatechange=function(){4==b.readyState&&200==b.status&&a.__handleResponse(b.responseText)}}return b},__getCookie:function(b){a.debug&&console.log("__getCookie() called for "+b+" - "+(new Date).toUTCString());var c=document.cookie.split(b+"=");if(2==c.length)return c.pop().split(";").shift()},__setCookie:function(b,c,d){if(a.debug&&d!=-1&&console.log("__setCookie() called for "+b+" - "+(new Date).toUTCString()),d){var e=new Date;e.setTime(e.getTime()+24*d*60*60*1e3);var f="; expires="+e.toGMTString()}else var f="";document.cookie=b+"="+c+f+"; path=/"},__rmCookie:function(b){a.debug&&console.log("__rmCookie() called for "+b+" - "+(new Date).toUTCString()),a.__setCookie(b,"",-1)},__getURLParam:function(a){return(a=location.search.match(RegExp("[?&]"+a+"=([^&]*)(&?)","i")))?a[1]:a}};b(a.init)};loadScript(tracking_domain+"/wgxpath.install.js",main_tracking);