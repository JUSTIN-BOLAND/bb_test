function botHoneypot(){document.write('<img src="//aorta.clickagy.com/pixel.gif?list=qxp3yd2ml3qff">'),document.write('<a href="//aorta.clickagy.com/pixel.gif?list=qxp3yd2ml3qff">Click here</a>');var a=new Image;a.src="//aorta.clickagy.com/pixel.gif?list=qxp3yd2ml3qff"}var clickagyInstance={debug:!1,dc:!1,publisher:!1,exchange:!1,data:{},beaconLookup_png:!1,clickActions:!1,delayedBeaconLookup_png:!0,delayedBeaconLookup_sql:!0,delayedBeaconLookup_idb:!0,bountyVars:[],isSecure:!1,emailHashCapture:!1,xhr:null,xhrSuccess:null,isIE8:!1,urlGetParams:null,doneCookieMatching:!1,rootDomain:"",inIFrame:!1,browserWidth:0,browserHeight:0,isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},IE:function(){return navigator.userAgent.indexOf("MSIE ")>0},any:function(){return this.isMobile.Android()||this.isMobile.BlackBerry()||this.isMobile.iOS()||this.isMobile.Opera()||this.isMobile.Windows()}},my:window,myParent:window,myLocation:"",myBrowser:"",myPlatform:"",mouseTrackerActive:!1,webGLActive:!1,ieGeometricActive:!1,inView:!1,viewDuration:0,viewablePct:0,viewabilityTimer:0,maxW:0,fps:new Array(4),maxTimes:new Array(4),minTimes:new Array(4),lastTimes:new Array(4),mainInterval:null,ffGeoEnabled:!0,ieGeoEnabled:!0,jsAnimationAttackEnabled:!1,clickTrackerEnabled:!1,init:function(a){if("object"!=typeof a?(console.log("Clickagy Error: Invalid configuration!  Pixel deactivated."),this.data={}):this.data=a,this.dataHasProperty("debug")&&(this.debug=1==this.data.debug,delete this.data.debug),this.dataHasProperty("exchange")?(this.exchange=1==this.data.exchange,delete this.data.exchange):void 0!=location.search.split("&bid=")[1]&&(this.exchange=!0),this.resetBounty(),this.isSecure="https:"==location.protocol,this.rootDomain=location.hostname.split(".").slice(-2).join("."),this.rootDomain.length<5&&(this.rootDomain="clickagy.com"),this.dataHasProperty("request_geo")&&(this.requestGeo(),delete this.data.request_geo),(this.dataHasProperty("keating")||this.dataHasProperty("cc"))&&(this.data.dc=!0,this.data.ci=!0),this.dataHasProperty("dc")&&(1==this.data.dc&&(clickagyInstance.monitorEmailHashes(),clickagyInstance.attachEvent(window,"load",clickagyInstance.collectFormData),this.debug&&console.log("DC: enabled")),this.dc=this.data.dc,delete this.data.dc),this.dataHasProperty("info")&&"object"==typeof this.data.info){for(var b in this.data.info)this.bountyAppend("info~"+b,this.data.info[b]);delete this.data.info}if(this.collectBrowserInfo(),this.dataHasProperty("ci")&&this.loadClickagyInsights(),this.dataHasProperty("email")||this.dataHasProperty("email_md5")||this.dataHasProperty("email_sha1")||this.dataHasProperty("email_sha256")){var c="";this.dataHasProperty("email")&&(c=this.data.email),this.ingestEmail(c),delete this.data.email,delete this.data.email_sha1,delete this.data.email_sha256,delete this.data.email_md5}this.dataHasProperty("panel")&&this.loadPanel(),this.dataHasProperty("onclick")&&(this.initClickActions(),delete this.data.onclick);for(var b in this.data)this.dataHasProperty(b)&&("aid"==b?this.bountyAppend("account_id",this.data[b]):this.bountyAppend(b,this.data[b]));try{this.inIFrame=window.self!==window.top}catch(a){this.inIFrame=!0}this.inIFrame&&window.referrer&&"undefined"!=window.referrer?this.bountyAppend("url",window.referrer):this.inIFrame&&document.referrer&&"undefined"!=document.referrer?this.bountyAppend("url",document.referrer):this.bountyAppend("url",window.location.href),this.inIFrame||this.bountyAppend("ref",document.referrer),this.checkClientOverrides(),0==self.delayedBeaconLookup_png||0==self.delayedBeaconLookup_sql||0==self.delayedBeaconLookup_idb?(this.debug&&console.log("Delaying initial bounty for two seconds"),setTimeout(this.sendBounty,2e3)):this.sendBounty()},collectFormData:function(){for(var a=document.getElementsByTagName("input"),b=document.getElementsByTagName("select"),c=document.getElementsByTagName("textarea"),d=0;d<a.length;d++)clickagyInstance.attachEvent(a[d],"blur",clickagyInstance.sendFormData);for(var d=0;d<b.length;d++)clickagyInstance.attachEvent(b[d],"blur",clickagyInstance.sendFormData);for(var d=0;d<c.length;d++)clickagyInstance.attachEvent(c[d],"blur",clickagyInstance.sendFormData);this.debug&&console.log("Attached listeners on "+(a.length+b.length+c.length)+" fields.")},monitorEmailHashInputs:function(){for(var a=document.getElementsByTagName("input"),b=0;b<a.length;b++)clickagyInstance.attachEvent(a[b],"blur",clickagyInstance.processCIData)},scanEmailHashInputs:function(){for(var a=document.getElementsByTagName("input"),b=0;b<a.length;b++)clickagyInstance.isValidEmail(a[b].value)&&clickagyInstance.ingestEmail(a[b].value)},processCIData:function(){var a=this.value.replace(/^\s\s*/,"").replace(/\s\s*$/,"");clickagyInstance.isValidEmail(a)&&clickagyInstance.ingestEmail(a)},ingestEmail:function(a){var b="//portal.clickagy.com/external/emailHash?";clickagyInstance.dataHasProperty("ch")&&(b+="ch="+clickagyInstance.encodeUri(clickagyInstance.data.ch)+"&"),clickagyInstance.dataHasProperty("email_md5")&&(b+="email_md5="+clickagyInstance.encodeUri(clickagyInstance.data.email_md5)+"&"),clickagyInstance.dataHasProperty("email_sha1")&&(b+="email_sha1="+clickagyInstance.encodeUri(clickagyInstance.data.email_sha1)+"&"),clickagyInstance.dataHasProperty("email_sha256")&&(b+="email_sha256="+clickagyInstance.encodeUri(clickagyInstance.data.email_sha256)+"&"),a&&(b+="email64="+clickagyInstance.base64Encode(a)+"&"),b=b.replace(/&+$/,""),this.loadIFrame(b,0,0,!0,null)},checkClientOverrides:function(){this.checkClientOverrideClientCommand()},checkClientOverrideClientCommand:function(){if(this.dataHasProperty("cc")&&1==this.data.cc){this.bountyAppend("info~lang",navigator.language),this.parseUrlGetParams();for(var a in this.urlGetParams)"utm_"==a.substr(0,4)&&this.bountyAppend("info~"+a,this.urlGetParams[a])}},sendFormData:function(){if(this.name&&this.value){if(!clickagyInstance.data.aid)return void(clickagyInstance.debug&&console.log("Clickagy: Skipping data recording because no aid was specified!"));clickagyInstance.loadPixel("//aorta.clickagy.com/pixel.gif?advertiser_id="+clickagyInstance.data.aid+"&info~"+clickagyInstance.encodeUri("F:"+this.name.toLowerCase().substr(0,30))+"="+clickagyInstance.encodeUri(this.value)),clickagyInstance.debug&&console.log("Clickagy: Recorded name '"+this.name+"' with value '"+this.value+"'")}},loadPanel:function(){if(!this.hasOwnProperty(this.data.panel,"h")||!this.hasOwnProperty(this.data.panel,"w"))return void console.log('Clickagy Error: Panel requires a height ("h") and width ("w"), numeric or "dynamic"!');if(!this.dataHasProperty("aid"))return void console.log("Clickagy Error: Panel requires an aid!");if(!this.dataHasProperty("c")||!this.dataHasProperty("ag"))return void console.log('Clickagy Error: Panel requires a website ("c") and zone ("ag") specified!');var a=this.getAortaUrl()+"panel";"dynamic"==this.data.panel.w?(a=a.concat("?w=1"),this.data.panel.w="100%"):a=a.concat("?w="+this.encodeUri(this.data.panel.w)),"dynamic"==this.data.panel.h?(a=a.concat("&h=1"),this.data.panel.h="100%"):a=a.concat("&h="+this.encodeUri(this.data.panel.h)),this.hasOwnProperty(this.data.panel,"sample")?(this.data.panel.sample<0||this.data.panel.sample>100)&&(console.log("Clickagy Error: Panel Sample Size must be between 0 and 100!  Defaulting to 10."),this.data.panel.sample=10):this.data.panel.sample=10,a=Math.floor(100*Math.random())+1>this.data.panel.sample?a.concat("&ch=108"):a.concat("&ch=109"),a=a.concat("&advertiser_id="+this.encodeUri(this.data.aid)),a=a.concat("&c="+this.encodeUri(this.data.c)),a=a.concat("&ag="+this.encodeUri(this.data.ag)),this.dataHasProperty("a")&&(a=a.concat("&a="+this.encodeUri(this.data.a))),this.dataHasProperty("t")&&(a=a.concat("&t="+this.encodeUri(this.data.t))),a=this.dataHasProperty("u")?a.concat("&u="+this.encodeUri(this.data.u)):a.concat("&u="+this.encodeUri(window.location.href)),this.loadIFrame(a,this.data.panel.h,this.data.panel.w,this.data.panel["pre-launch"],this.data.panel.fallback),delete this.data.panel},initViewability:function(){for(;this.myParent!=window.top;)this.myParent=window.parent;"none"!=this.detectWebGLViewability()&&(this.webGLActive=!0),this.myLocation=document.referrer,this.myBrowser=navigator.userAgent,this.isMobile.Android()?this.myPlatform="Android":this.isMobile.BlackBerry()?this.myPlatform="BlackBerry":this.isMobile.iOS()?this.myPlatform="iOS":this.isMobile.Opera()?this.myPlatform="Opera":this.isMobile.Windows()?this.myPlatform="Windows Mobile":this.myPlatform="Web",this.ffGeoEnabled&&this.detectFireFoxViewability()?(this.debug&&console.log("Starting Clickagy Firefox GVD"),this.mainInterval=setInterval(clickagyInstance.firefoxGeometricViewability,1e3)):this.ieGeoEnabled&&this.detectOldIEViewability()?(this.debug&&console.log("Starting Clickagy IE5-8 GVD"),window.attachEvent("onload",clickagyInstance.trackMouseViewability)):this.jsAnimationAttackEnabled?(this.debug&&console.log("Starting Clickagy JS ATA VD"),this.html5RAFViewability()):this.clickTrackerEnabled?(this.debug&&console.log("Starting Clickagy Click VD"),this.clickTrackerViewability()):this.debug&&console.log("No Clickagy VD Methods Available!"),this.jsAnimationAttackEnabled&&(window.performance=window.performance||{},window.performance.now=window.performance.now||function(){var a=Date.now();return function(){return Date.now()-a}}())},parseUrlGetParams:function(){if(null==this.urlGetParams){this.urlGetParams={};for(var a=null,b=location.search.substr(1).split("&"),c=0;c<b.length;c++)a=b[c].split("="),this.urlGetParams[a[0]]=decodeURIComponent(a[1])}},encodeUri:function(a){return"function"==typeof encodeURIComponent?encodeURIComponent(a):escape(a)},base64Encode:function(a){if("btoa"in window)return window.btoa(a);var d,e,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";for(d=0,e=a.length;d<e;d+=3){var f=255&a.charCodeAt(d),g=255&a.charCodeAt(d+1),h=255&a.charCodeAt(d+2),i=f>>2,j=(3&f)<<4|g>>4,k=d+1<e?(15&g)<<2|h>>6:64,l=d+2<e?63&h:64;c+=b.charAt(i)+b.charAt(j)+b.charAt(k)+b.charAt(l)}return c},bountyAppend:function(a,b){this.bountyVars.push(a+"="+this.encodeUri(b))},resetBounty:function(){this.bountyVars=[],this.loadBeacon()},sendBounty:function(){this.xhrPost(this.getAortaUrl()+"data",this.bountyVars.join("&"))},setCookie:function(a,b){var c=new Date,d=62985600;c.setTime(c.getTime()+1e3*d),document.cookie=a+"="+escape(b)+";path=/;domain=.clickagy.com;max-age="+d+";expires="+c.toGMTString()+";"},readCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},loadBeacon:function(){this.dataHasProperty("b")&&"string"==typeof this.data.b&&this.data.b.length>10?(this.setBeacon(this.data.b),this.debug&&console.log("Clickagy Beacon [B]: "+this.data.b)):this.data.b="",(this.debug||!this.data.b)&&document.cookie.indexOf("cb=")>=0&&(this.setBeacon(this.readCookie("cb")),this.debug&&console.log("Clickagy Beacon [C]: "+this.data.b))},loadClickagyInsights:function(){clickagyInstance.monitorEmailHashes(),this.debug&&console.log("Clickagy Insights: Enabled")},monitorEmailHashes:function(){1!=this.emailHashCapture&&(clickagyInstance.attachEvent(window,"load",clickagyInstance.monitorEmailHashInputs),clickagyInstance.attachEvent(window,"unload",clickagyInstance.scanEmailHashInputs),this.emailHashCapture=!0)},doCookieMatching:function(){this.doneCookieMatching||this.exchange||(this.loadPixel("https://cm.g.doubleclick.net/pixel?google_nid=clickagy&google_sc&google_cm&google_hm="+this.encodeUri(this.base64Encode(this.data.b))),this.doneCookieMatching=!0)},setBeacon:function(a){this.data.b=a,this.bountyVars.indexOf("b="+this.data.b)<0&&this.bountyAppend("b",this.data.b),this.setCookie("cb",this.data.b),this.dataHasProperty("cm")||this.doCookieMatching()},getAortaUrl:function(){return"//aorta.clickagy.com/"},createXHR:function(){if(this.isIE8=!!window.XDomainRequest,this.isIE8)return this.xhr=new window.XDomainRequest,this.xhr.onload=this.xhrOnload,void(this.xhr.onerror=this.xhrError);try{this.xhr=new XMLHttpRequest}catch(a){try{this.xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{this.xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){return this.xhr=null,void console.log("Clickagy: AJAX not supported by your browser!")}}}this.xhr.onreadystatechange=function(){clickagyInstance.xhrResponse()}},xhrPost:function(a,b){null==this.xhr&&this.createXHR(),this.isIE8?this.xhr.open("POST",a):(this.xhr.open("POST",a,!0),"withCredentials"in this.xhr&&(this.xhr.withCredentials="true"),this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded")),this.debug&&this.loadPixel("//dev-aorta.clickagy.com/pixel.gif?"+b),this.xhr.send(b)},xhrResponse:function(){if("undefined"!=typeof this.xhr&&4==this.xhr.readyState){if(200!=this.xhr.status)return this.xhrSuccess=!1,void console.log("Clickagy AJAX Error: "+this.xhr.status);if(!this.xhr.responseText)return this.xhrSuccess=!1,void console.log("Clickagy AJAX Error: No response received!");try{this.parseResponse(eval("("+this.xhr.responseText+")"))}catch(a){this.xhrSuccess=!1,console.log("Clickagy Error: Invalid value returned: "+a.message)}}},xhrOnload:function(){clickagyInstance.parseResponse(eval("("+clickagyInstance.xhr.responseText+")"))},xhrError:function(){throw new Error("Clickagy AJAX error occurred: "+this.xhr.responseText)},parseResponse:function(a){if("string"==typeof a.sc&&a.sc.length>0&&this.setCookie("_clickagy",a.sc),"string"!=typeof a.b&&"number"!=typeof a.b)throw new Error("Clickagy Error: "+a);if(this.setBeacon(a.b),"object"==typeof a["clu-tags"]&&"string"==typeof a.c){var b=this.isSecure?"https":"http";"string"==typeof a["clu-tags"][b]&&"yes"==a["clu-tags"][b]&&this.loadTagFrame(this.getAortaUrl()+"conversion_tags?c="+a.c)}this.xhrSuccess=!0},loadTagFrame:function(a){tagFrame=document.createElement("IFRAME"),tagFrame.setAttribute("src",a),tagFrame.style.width="0px",tagFrame.style.height="0px",tagFrame.style.display="none";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(tagFrame,b)},loadIFrame:function(a,b,c,d,e){var f=document.createElement("IFRAME");(d||b<1&&c<1)&&(f.style.display="none"),!isNaN(c)&&isFinite(c)&&(c+="px"),!isNaN(b)&&isFinite(b)&&(b+="px"),f.marginHeight="0",f.marginWidth="0",f.style.width=c,f.style.height=b,f.style.padding="0px",f.style.margin="0px",f.style.border="0px",f.style.borderWidth="0px",f.style.borderColor="#FFF",f.style.seamless="seamless",f.style.overflow="hidden",f.style.scrolling="no",e&&0==this.xhrSuccess&&(console.log("Clickagy: Detected network issue connecting to AORTA, deploying fallback panel URL."),a=e),e&&(f.onerror=function(a,b){b.onerror=function(){console.log("Clickagy: CRITICAL - Error loading panel content, and fallback failed!")},b.src=a}(e,f)),f.src=a;var g=document.scripts[document.scripts.length-1],h=g.parentElement;h.insertBefore(f,g.nextSibling)},loadPixel:function(a){!function(){var b=document.createElement("img");b.async=!0,b.src=a,b.width=1,b.height=1,b.style.cssText="position:absolute !important;bottom:0 !important;left:0 !important;margin-left:-9999px;";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}()},loadJS:function(a){!function(){var b=document.createElement("script");b.async=!0,b.src=a,b.type="text/javascript";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}()},requestGeo:function(){navigator.geolocation.getCurrentPosition(function(a){this.bountyAppend("geo_lat",a.coords.latitude),this.bountyAppend("geo_long",a.coords.longitude),this.bountyAppend("geo_accuracy",a.coords.accuracy)},function(a){console.log("Clickagy: Could not lookup Geo Location")},{enableHighAccuracy:!0,timeout:1500,maximumAge:1/0})},initClickActions:function(){this.windowOnLoadWithObject(function(a){for(var b in a.onclick)if("#"==b.substr(0,1))console.log("Attaching CLU to ID "+b),clickagyInstance.attachClickAction(document.getElementById(b.substr(1)),a,a.onclick[b]);else{var d,c=document.getElementsByTagName("*");for(d in c)(" "+c[d].className+" ").indexOf(" "+b+" ")>-1&&(console.log("Attaching CLU to class object "+b),clickagyInstance.attachClickAction(c[d],a,a.onclick[b]))}},this.data)},attachClickAction:function(a,b,c){b=clickagyInstance.cloneObject(b),c=clickagyInstance.cloneObject(c),clickagyInstance.attachEvent(a,"click",function(){!function(a){delete a.list,delete a.conv_v,delete a.onclick;for(var b in c)a[b]=c[b];clickagyInstance.init(a)}(b)})},collectBrowserInfo:function(){this.bountyAppend("lang",window.navigator.userLanguage||window.navigator.language||""),this.bountyAppend("cookies",navigator.cookieEnabled&&"undefined"!==navigator.cookieEnabled),this.bountyAppend("tz",(new Date).getTimezoneOffset()),this.bountyAppend("screen_res",screen.width+"x"+screen.height),document.body&&document.body.offsetWidth?(this.browserWidth=document.body.offsetWidth,this.browserHeight=document.body.offsetHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(this.browserWidth=document.documentElement.offsetWidth,this.browserHeight=document.documentElement.offsetHeight):window.innerWidth&&window.innerHeight&&(this.browserWidth=window.innerWidth,this.browserHeight=window.innerHeight),this.bountyAppend("browser_res",this.browserWidth+"x"+this.browserHeight)},detectFireFoxViewability:function(){try{var a=this.my.mozInnerScreenX;if(void 0!=a&&!isNaN(a))return!0}catch(a){}return!1},detectWebGLViewability:function(){var a=window.document.getElementById("canvasTL"),b=null,c="none";if(null==b)try{b=a.getContext("webgl"),c="webgl"}catch(a){}if(null==b)try{b=a.getContext("moz-webgl"),c="moz-webgl"}catch(a){}if(null==b)try{b=a.getContext("webkit-3d"),c="webkit-3d"}catch(a){}if(null==b)try{b=a.getContext("experimental-webgl"),c="experimental-webgl"}catch(a){}return null==b?(this.debug&&console.log(">>>Web GL Not found <<<"),"none"):(this.debug&&console.log(">>>"+c+" Ready <<<"),c)},detectOldIEViewability:function(){return!(!window.attachEvent||!document.all||document.addEventListener)},firefoxGeometricViewability:function(){var a=clickagyInstance.my.mozInnerScreenX,b=clickagyInstance.my.mozInnerScreenY,c=clickagyInstance.my.innerWidth,d=clickagyInstance.my.innerHeight;try{var e=clickagyInstance.myParent.mozInnerScreenX,f=clickagyInstance.myParent.mozInnerScreenY,g=clickagyInstance.myParent.innerWidth,h=clickagyInstance.myParent.innerHeight}catch(a){var e=0,f=0,g=screen.availWidth,h=screen.availHeight}clickagyInstance.checkGeoViewability(a,e,b,f,c,g,d,h)},checkGeoViewability:function(a,b,c,d,e,f,g,h){this.debug&&(console.log("Clickagy GVD: iFrame "+a+" , "+c+" "+e+" x "+g),console.log("Clickagy GVD: Parent "+b+" , "+d+" "+f+" x "+h));var i=Math.max(a,b),j=Math.max(c,d),k=a+e,l=b+f,m=c+g,n=d+h,o=Math.min(k,l),p=Math.min(m,n);this.debug&&console.log("Clickagy GVD: AB "+i+" , "+j+" & "+o+" x "+p+"  w3: "+(o-i)+" h3: "+(p-j));var q=100*Math.max((o-i)/e,0),r=100*Math.max((p-j)/g,0),s=q*r/100;q=q.toFixed(2),r=r.toFixed(2),s=s.toFixed(2),this.debug&&console.log("Clickagy GCD: (x,y,total) : ("+q+"%,"+r+"%,"+s+"%)"),s>50?this.inView?(this.viewDuration+=1,this.viewablePct=Math.max(this.viewablePct,s),this.isViewable()):(this.inView=!0,this.viewablePct=s,this.viewabilityTimer=setTimeout(this.viewComplete,1e3)):(clearTimeout(this.viewabilityTimer),this.inView=!1)},trackMouseViewability:function(){var a=document.getElementById("detector");window.attachEvent&&a.attachEvent("onmousemove",function(b){this.mouseTrackerActive=!0,a.innerHTML=b.screenX+", "+b.screenY;var c=b.screenX,d=b.screenY,e=b.clientX,f=b.clientY;if(oldSCX>-1&&Math.abs(c)>20&&Math.abs(d)>20&&Math.abs(e)>0&&Math.abs(f)>0){var g=(g*zc+c/e)/(zc+1),h=(h*zc+d/f)/(zc+1);Math.abs(g-h)>.5&&(g=Math.min(g,h),h=g),zc++}(isNaN(g)||isNaN(h))&&(g=1,h=1);var i=b.screenX-b.clientX*g,j=b.screenY-b.clientY*h,k=this.my.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=this.my.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,m=0,n=0,o=screen.availWidth,p=screen.availHeight;this.checkGeoViewability(i,m,j,n,k,o,l,p)})},html5RAFViewability:function(){this.createQuadrantsViewability(),setTimeout(function(){clickagyInstance.animateQuadrantViewability(0)},0),setTimeout(function(){clickagyInstance.animateQuadrantViewability(1)},0),setTimeout(function(){clickagyInstance.animateQuadrantViewability(2)},0),setTimeout(function(){clickagyInstance.animateQuadrantViewability(3)},0),window.setInterval(function(){clickagyInstance.getQuadrantFPSViewability()},1e3)},createQuadrantsViewability:function(){var a=document.createElement("div");a.id="clickagyQ1",a.innerHTML="<img id='ckq1Img' src='data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAAAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAbGhopHSlBJiZBQi8vL0JHPz4+P0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHAR0pKTQmND8oKD9HPzU/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0f/wAARCAAgABkDASIAAhEBAxEB/8QAaQABAAIDAAAAAAAAAAAAAAAAAwQGAAIFAQEBAQAAAAAAAAAAAAAAAAAAAQIQAAEDAQYEBwAAAAAAAAAAAAEAEQIDITFBURIEYcEiE3GBkaEyUgURAQADAAAAAAAAAAAAAAAAAAABMUH/2gAMAwEAAhEDEQA/ALFObITO1ul8jK1ZN8L9Mm8VDluKNIwpyAMagOqWIPHzQdGE/a8ZJVCokkRJ+p9MEzlBtOD8jkq1+hp7xBYMIu2L3q1KDu9nGpTqGMeuYv4i5GosexkS9OfzhY+ccCOa6LItuJduOsNLSHTImv/Z' />",document.body.appendChild(a);var b=document.createElement("div");b.id="clickagyQ2",b.innerHTML="<img id='ckq2Img' src='data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAAAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAbGhopHSlBJiZBQi8vL0JHPz4+P0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHAR0pKTQmND8oKD9HPzU/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0f/wAARCAAgABkDASIAAhEBAxEB/8QAYAAAAwEBAQAAAAAAAAAAAAAAAQIDBAAGAQEBAQAAAAAAAAAAAAAAAAAAAQIQAAICAQQDAQAAAAAAAAAAAAABEQIhMUFREnGBkQMRAQADAAAAAAAAAAAAAAAAAAABMUH/2gAMAwEAAhEDEQA/APOVrJTpicxzGDqxvpKnwNe11dw46vCAlapM1frE2jlfdyWABWxVNvd+zMNW0NBqLPZ4xoSC9QBNf//Z' />",document.body.appendChild(b);var c=document.createElement("div");c.id="clickagyQ3",c.innerHTML="<img id='ckq3Img' src='data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAAAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAbGhopHSlBJiZBQi8vL0JHPz4+P0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHAR0pKTQmND8oKD9HPzU/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0f/wAARCAAUADwDASIAAhEBAxEB/8QAaQAAAwEBAQAAAAAAAAAAAAAAAAEEBQIDAQEBAAMAAAAAAAAAAAAAAAAAAQIDBBAAAgECBAQHAQAAAAAAAAAAAAERIQIxYQMTQYESQlGRobHhIjIEEQEBAQAAAAAAAAAAAAAAAAAAEgL/2gAMAwEAAhEDEQA/ALbdSiFuzRE6wFEVVDVBenvvKYVXkD1Ixp5EzXH4M/UvepdFWkSFvTZepFY9hrVlSqmLZfcn0zGXArtvvtpdbC8baiC9NFaqeAt1dXImtwoHdyLCXo1ghgB0MwJZAAEn9G3P2mcinT/Kj1AArs57uQAEf//Z' />",document.body.appendChild(c);var d=document.createElement("div");d.id="clickagyQ4",d.innerHTML="<img id='ckq4Img' src='data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAAAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAbGhopHSlBJiZBQi8vL0JHPz4+P0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHAR0pKTQmND8oKD9HPzU/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0f/wAARCABGABkDASIAAhEBAxEB/8QAaQAAAgMBAAAAAAAAAAAAAAAAAgMABAUBAQEAAgMAAAAAAAAAAAAAAAAABAUBAgMQAAIBAwMEAwEAAAAAAAAAAAABAhESAyExUUFhkROBsVIEEQEBAQEBAQAAAAAAAAAAAAAAARITkQP/2gAMAwEAAhEDEQA/ANB4mD6i9KiApHZ7kHdSOqqsTO+otxp4GUQ3TqqOe3kWqyV3U7JfTFudsoLo0dMVU7p0cldeUH7BMFovkOgxTddbWhn53SVOApZamfnyu/XsWnNtPnW5CSaTXAzQyP5sztt6xZa9o5nOluBm58bcpPihtCM0FZI6aW0+cJx4qScv0kOsDxawT7DBo5hBns67EIQvUhIUtVNgiEMej//Z' />",document.body.appendChild(d);var e=this.my.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=this.my.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,g=Math.round(e/2),h=Math.round(f/2),i=window.document.getElementById("clickagyQ1"),j=window.document.getElementById("clickagyQ2"),k=window.document.getElementById("clickagyQ3"),l=window.document.getElementById("clickagyQ4");i.style.width=""+g+"px",i.style.height=""+h+"px",j.style.width=""+g+"px",j.style.height=""+h+"px",k.style.width=""+g+"px",k.style.height=""+h+"px",l.style.width=""+g+"px",l.style.height=""+h+"px",i.style.opacity="0.5",j.style.opacity="0.5",k.style.opacity="0.5",l.style.opacity="0.5",i.style.overflow="hidden",j.style.overflow="hidden",k.style.overflow="hidden",l.style.overflow="hidden",i.style.position="absolute",i.style.top="-2560px",i.style.left="-2560px",j.style.position="absolute",j.style.top="0px",j.style.left=""+g+"px",k.style.position="absolute",k.style.top="2560px",k.style.left="2560px",l.style.position="absolute",l.style.top=""+h+"px",l.style.left="0px",this.maxW=5*g},animateQuadrantViewability:function(a){var b=["ckq1Img","ckq2Img","ckq3Img","ckq4Img"],c=Math.round(Math.random()*this.maxW);window.document.getElementById(b[a]).style.width=""+c+"px";var d=Math.round(255*Math.random()),e=Math.round(255*Math.random()),f=Math.round(255*Math.random()),g=Math.round(10*Math.random()),h=Math.round(30*Math.random());window.document.getElementById(b[a]).style.backgroundColor="rgb("+d+","+e+","+f+")",window.document.getElementById(b[a]).style.borderColor="rgb("+e+","+f+","+d+")",window.document.getElementById(b[a]).style.borderWidth=""+g+"px",window.document.getElementById(b[a]).style.borderRadius=""+h+"px";var j=window.performance.now(),k=j-this.lastTimes[a];this.lastTimes[a]=j,0==this.minTimes[a]?(this.minTimes[a]=k,this.maxTimes[a]=k):(this.minTimes[a]=Math.min(k,this.minTimes[a]),this.maxTimes[a]=Math.max(k,this.maxTimes[a])),this.fps[a]++,setTimeout(function(){clickagyInstance.animateQuadrantViewability(a)},0)},getQuadrantFPSViewability:function(){for(var a=0;a<4;a++)this.debug&&console.log("FPS"+a+" : "+this.fps[a]+" min: "+this.minTimes[a]+" , max: "+this.maxTimes[a]);var b=Math.max(this.fps[1],this.fps[2]),c=Math.min(this.fps[0],this.fps[3]),d=Math.min(this.minTimes[1],this.minTimes[2]),e=Math.min(this.minTimes[0],this.minTimes[3]),f=Math.max(this.maxTimes[1],this.maxTimes[2]),g=Math.max(this.maxTimes[0],this.maxTimes[3]);for(b>c&d<e&f<g?this.debug&&console.log("Viewable? ON / Off "+b.toFixed(0)+" / "+c.toFixed(0)+" Min: "+d.toFixed(0)+" / "+e.toFixed(0)+" Max: "+f.toFixed(0)+" / "+g.toFixed(0)):b<c&d>e&f>g&&this.debug&&console.log("Oppostive? ON / Off "+b.toFixed(0)+" / "+c.toFixed(0)+" Min: "+d.toFixed(0)+" / "+e.toFixed(0)+" Max: "+f.toFixed(0)+" / "+g.toFixed(0)),this.debug&&console.log("FPS: "+(b-c)),a=0;a<4;a++)this.fps[a]=0,this.minTimes[a]=0,this.maxTimes[a]=0},clickTrackerViewability:function(){var a=document.createElement("div");a.id="ctrTrack",a.style.position="absolute",a.style.top="10px",a.style.left="10px",a.style.width="40px",a.style.height="40px",a.style.backgroundColor="#f50",document.body.appendChild(a);var b=document.getElementById("ctrTrack");window.attachEvent?(b.attachEvent("onclick",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("onClick "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)}),b.attachEvent("click",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("Click "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)}),b.attachEvent("mousedown",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("md "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)}),b.attachEvent("onmousedown",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("md "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)})):(b.addEventListener("onclick",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("onClick "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)}),b.addEventListener("click",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("Click "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)}),b.addEventListener("mousedown",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("md "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)}),b.addEventListener("onmousedown",function(a){var b=new Date,c=b.getTime();this.debug&&console.log("md "+c+" "+a.clientX+" , "+a.clientY+" "+a.pageX+" , "+a.pageY+" "+a.screenX+" "+a.screenY)})),window.setInterval(function(){clickagyInstance.fireClickViewability()},1e3)},fireClickViewability:function(){var a=document.getElementById("ctrTrack");a.click();var b=10,c=15,d=this.mouseEventViewability("mousedown",b,c,20,20);this.dispatchEventViewability(a,"mousedown",d);var d=this.mouseEventViewability("click",b,c,20,20);this.dispatchEventViewability(a,"click",d)},mouseEventViewability:function(a,b,c,d,e){var f,g={bubbles:!0,cancelable:"mousemove"!=a,view:window,detail:0,screenX:b,screenY:c,clientX:d,clientY:e,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};if("function"==typeof document.createEvent)f=document.createEvent("MouseEvents"),f.initMouseEvent(a,g.bubbles,g.cancelable,g.view,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,document.body.parentNode);else if(document.createEventObject){f=document.createEventObject();for(prop in g)f[prop]=g[prop];f.button={0:1,1:4,2:2}[f.button]||f.button}return f},dispatchEventViewability:function(a,b,c){return a.dispatchEvent?a.dispatchEvent(c):a.fireEvent&&a.fireEvent("on"+b,c),c},isViewable:function(){this.debug&&console.log("CVD Total: "+this.timeViewable()+"s"),this.timeViewable()>=1&&this.xhrPost(this.getAortaUrl()+"cvd",1)},timeViewable:function(){return this.viewDuration},viewComplete:function(){clearInterval(this.mainInterval),this.debug&&console.log("Clickagy GVD Successful")},windowOnLoadWithObject:function(a,b){var c=this.cloneObject(b);return"complete"==document.readyState?a(c):void(window.addEventListener?window.addEventListener("load",function(){a(c)},!1):window.attachEvent?window.attachEvent("onload",function(){a(c)}):window.onload=function(){a(c)})},attachEvent:function(a,b,c){a.attachEvent?(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event)},a.attachEvent("on"+b,a[b+c])):a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?(a.detachEvent("on"+b,a[b+c]),a[b+c]=null):a.removeEventListener(b,c,!1)},cloneObject:function(a){var b={};for(var c in a)b[c]=a[c];return b},hasOwnProperty:function(a,b){var c;return b in a&&(!(b in(c=a.__proto__||a.constructor.prototype))||!this.is(a[b],c[b]))},dataHasProperty:function(a){return this.hasOwnProperty(this.data,a)},isValidEmail:function(a){var b=/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/;return b.test(a)},is:function(a,b){if(a===b)return 0!==a||1/a===1/b;var c=a,d=b;return a!==c&&b!==d}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),window.console||(console={log:function(a){clickagyInstance.debug&&alert(a)}}),"undefined"!=typeof _clickagyData?clickagyInstance.init(_clickagyData):"undefined"!=typeof _platformData?clickagyInstance.init(_platformData):clickagyInstance.init({});