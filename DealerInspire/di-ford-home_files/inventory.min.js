var DealerInspireCookie={CreateCookie:function(e,r,t){var i="";if(t){var n=new Date;n.setTime(n.getTime()+24*t*60*60*1e3),i="; expires="+n.toGMTString()}else i="";"object"==typeof r&&(r=JSON.stringify(r)),document.cookie=escape(e)+"="+escape(r)+i+"; path=/"},ReadCookie:function(e){var r=document.cookie,t=r.indexOf(" "+e+"=");if(-1==t&&(t=r.indexOf(e+"=")),-1==t)r=null;else{t=r.indexOf("=",t)+1;var i=r.indexOf(";",t);-1==i&&(i=r.length),r=unescape(r.substring(t,i))}return r?r:null},EraseCookie:function(e){this.CreateCookie(e,"",-1)}},DealerInspireCallTracking={ready:null,options:null,numbers:[],cookie_name:"im_phone_numbers",cookie:"",url_params:{},init:function(){try{var e=this;if("undefined"==typeof inventory_localization||"undefined"==typeof inventory_localization.call_tracking)return!1;if("undefined"!=typeof inventory_localization&&"1"===inventory_localization.is_user_logged_in,e.options=inventory_localization.call_tracking,"enabled"!==inventory_localization.call_tracking.state)return;jQuery(window).error(function(r){null===e.ready&&(e.ready="failed","undefined"!=typeof console&&console.log("Failed to initiate DI Call Tracking due to a JS error on this page."))}),jQuery(function(){e.ready=!0,e.url_params=DealerInspireInventory.query.to_obj(window.location.href.split("?").pop(),!0),e.cookie=DealerInspireCookie.ReadCookie(e.cookie_name),e.gclid(),e.utm(),e.change_numbers()})}catch(r){"undefined"!=typeof console&&console.log("DealerInspireCallTracking Error: "+r)}},gclid:function(){var e=this;this.options.gclid&&e.is_active("gclid","gclid")===!0&&jQuery.each(this.options.gclid,function(r,t){t.source="gclid",t.id="gclid",e.numbers.push(t)})},utm:function(){var e=this;this.options.numbers&&jQuery.each(this.options.numbers,function(r,t){e.is_active("utm",t.source)===!0&&(t.id=t.source,t.source="utm",e.numbers.push(t))})},is_active:function(e,r){var t=this;if(t.cookie){var i=!1,n=t.cookie.split("|");if(jQuery.each(n,function(t,o){return n[0]===e+"=>"+r?(i=!0,!0):void 0}),i===!0)return!0}switch(e){case"gclid":return"undefined"!=typeof t.url_params.gclid;case"utm":return"undefined"!=typeof t.url_params.utm_source&&t.url_params.utm_source===r}return!1},change_numbers:function(){try{var e=this,r=[],t=[];if(e.numbers){jQuery.each(e.numbers,function(i,n){var o=n.source+"=>"+n.id;-1===jQuery.inArray(o,r)&&r.push(o),jQuery.inArray(n.find,t)!==!1&&(t.push(n.find),e.dom_iterator(n.find,n.replace))});var i=r.join("|");i&&i!==e.cookie&&DealerInspireCookie.CreateCookie(e.cookie_name,i,30)}}catch(n){DealerInspireInventory.log("DealerInspireCallTracking Error: "+n)}},dom_iterator:function(e,r,t){try{e=e.replace(/[^0-9]/g,"");var i=[e,e.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"),e.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")];r=r.replace(/[^0-9]/g,"");for(var n=[r,r.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"),r.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")],o=this,a=(t||document.body).childNodes,s=a.length,l=["html","head","style","link","title","meta","script","object","iframe"];s--;){var c=a[s];if(1===c.nodeType&&("A"===c.nodeName&&c.href.match(/^tel:/)&&(c.href=c.href.replace(e,r)),-1===l.indexOf(c.nodeName.toLowerCase())&&o.dom_iterator(e,r,c)),null!=c&&3===c.nodeType&&void 0!==c.data){var u=c.data;jQuery.each(i,function(e,r){var t=n[e];u=u.replace(r,t)}),u!=c.data&&(c.data=u)}}}catch(p){DealerInspireInventory.log(p.stack,!1)}}};DealerInspireCallTracking.init();var DealerInspireDynamicTopBanners={ready:null,orginal_top_text:null,$container:null,banners:[],css_class:"top-text-item",init:function(){var e=this;jQuery(window).error(function(r){null===e.ready&&(e.ready="failed","undefined"!=typeof console&&console.log("Failed to initiate Dynamic Banners due to a JS error on this page."))}),jQuery(function(){try{if("vrp"!==DealerInspireInventory.options.is_inventory_page)return e.ready=!1,!1;if(e.get_banners(),e.ready!==!0)return void DealerInspireInventory.log("No valid Dynamic Banners found.",!1,!0);DealerInspireInventory.log(e.banners.length+" valid Dynamic Banner(s) found.",!1,!0),e.$container=jQuery(".top-text"),0===e.$container.length&&(jQuery(".post-content").prepend('<div class="top-text" />'),e.$container=jQuery(".top-text")),e.orginal_top_text=e.$container.find("."+e.css_class),jQuery("body").on("vrp-page-title-updated",function(){setTimeout(e.update_banners(),200)})}catch(r){"undefined"!=typeof console&&console.log(r)}})},get_banners:function(){var e=this;return e.banners=inventory_dynamic_top_banners,"object"!=typeof e.banners||0===e.banners.length?!1:(jQuery.each(e.banners,function(r,t){"undefined"!=typeof t.html&&t.html&&"undefined"!=typeof t.keyword&&t.keyword||e.banners.splice(r,1)}),void(e.ready=e.banners.length>0?!0:!1))},update_banners:function(){try{var e=DealerInspireDynamicTopBanners;e.$container.find("."+e.css_class).remove(),jQuery.each(e.banners,function(r,t){var i=new RegExp(t.keyword,"i");jQuery(".entry-title").text().search(i)>-1&&(DealerInspireInventory.log('Showing Dynamic Banner "'+t.description+'" for keyword '+t.keyword,!1,!0),e.$container.append('<span class="'+e.css_class+'">'+t.html+"</span>"))}),0===e.$container.find("."+e.css_class).length&&e.orginal_top_text?e.$container.append(e.orginal_top_text):e.orginal_top_text!==e.$container.find("."+e.css_class)&&jQuery("body").trigger("vrp-dynamic-top-banners-updated")}catch(r){"undefined"!=typeof console&&console.log(r)}}};DealerInspireDynamicTopBanners.init();var DealerInspireModalNotification={modal_id:"vrp-notifications-modal-container",inline_placeholder:"di-modal-inline-placeholder",current_template:null,template_data:{},init:function(){var e=this;jQuery("body").on("click","button[data-modal-template]",function(){var r=$(this).data("modal-template");if(!r)return!1;var t=$(this).data("modal-title")?$(this).data("modal-title"):"",i=$(this).data("data")?$(this).data("data"):!1;e.show(t,"tpl://"+r,i)}),jQuery("body").on("hide.bs.modal","#"+e.modal_id,function(){$inline_content=jQuery("#"+e.modal_id+" .modal-body").find(".has-"+e.inline_placeholder),$inline_content.length>0&&($inline_content.removeClass("has-"+e.inline_placeholder),$inline_content.hide().replaceAll($inline_content.data(e.inline_placeholder)).data(e.inline_placeholder,!1))})},alert:function(e,r,t,i){if(e){if(i!==!0&&DealerInspireBrowserDetection.isMobile.any()!==!1)return alert(e),!1;var r=r?r:"Error";this.show(r,e,{footer:t})}},show:function(e,r,t){try{var i=!1,n=this;if(0===jQuery("#"+n.modal_id).length&&jQuery("body").prepend("<div class='bootstrap-modal-contents' id='"+n.modal_id+"'></div>"),"object"!=typeof r||jQuery.isPlainObject(r)){if(DealerInspireLightbox.isUrl(r)===!0&&0===r.search("tpl://")){var o=r.replace("tpl://","");r=n.render(o,{options:t})}else DealerInspireLightbox.isUrl(r)===!0&&(i=!0,r='<iframe id="di-modal-notification-iframe" src="'+r+'" width="100%" height="100%" frameborder="0"></iframe>');jQuery("#"+n.modal_id).html(n.render("front-end/modal",{title:e,content:r,options:t}))}else jQuery("#"+n.modal_id).html(n.render("front-end/modal",{title:e,content:"",options:t})),r.data(n.inline_placeholder)||r.data(n.inline_placeholder,jQuery('<div class="'+n.inline_placeholder+'"></div>').insertAfter(r).hide()),r=r.show().detach(),r.appendTo("#"+n.modal_id+" .modal-body").addClass("has-"+n.inline_placeholder);jQuery("#"+n.modal_id+" .modal").modal({show:!0,keyboard:!1}),n.set_modal_size(t,i)}catch(a){DealerInspireInventory.log(a.stack)}},render:function(e,r){var t=this;t.tmpl_cache||(t.tmpl_cache={});try{if(!t.tmpl_cache[e]){var i=this.get_template_url(e),n=null;if(jQuery.ajax({url:i,method:"GET",async:!1,success:function(e){n=e},error:function(){n="Failed to load template: "+i}}),null===n)return!1;t.tmpl_cache[e]=_.template(n)}return t.current_template=e,t.template_data[e]="undefined"!=typeof r.options?r.options:null,t.tmpl_cache[e](r)}catch(o){return"undefined"!=typeof console&&console.log(o.stack),!1}},get_template_data:function(e){return e=e?e:this.current_template,e&&"undefined"!=typeof this.template_data[e]?this.template_data[e]:null},get_template_url:function(e){var r=e.match(/(?:\.([^.]+))?$/);""===r[0]&&(e+=".tpl");var t=DealerInspireInventory.options.plugin_url+"/js/templates";return t+"/"+e},set_modal_id:function(e){this.modal_id=e},set_modal_size:function(e,r){var t=this,i=1200,n=800,o={};if("undefined"==typeof e)var e={autoHeight:!0,autoWidth:!0};var a=r===!0?jQuery("#"+t.modal_id+" #di-modal-notification-iframe"):jQuery("#"+t.modal_id+" .modal-body");if(DealerInspireBrowserDetection.isMobile.phone()===!0&&(o.margin="auto"),e.autoWidth&&e.autoWidth!==!0||e.lightboxWidth){if(e.lightboxWidth)var s=Math.min(i,e.lightboxWidth)}else var s=Math.min(Math.min(i,jQuery(window).width()-.2*jQuery(window).width(),a.actual("outerWidth",{includeMargin:!0,clone:!0})));if("undefined"!=typeof s&&(o.width=s),e.autoHeight&&e.autoHeight!==!0||e.lightboxHeight){if(e.lightboxHeight)var l=Math.min(n,e.lightboxHeight)}else var l=Math.min(Math.min(n,jQuery(window).height()-.1*jQuery(window).height(),a.actual("outerHeight",{includeMargin:!0,clone:!0})));"undefined"!=typeof l&&(o.height=l),jQuery("#"+t.modal_id).find(".modal-body,.modal-dialog").css(o)}};DealerInspireModalNotification.init();var DealerInspireLightbox={library:null,init:function(){var e=this;jQuery(function(){DealerInspireInventory.options.lightboxes&&DealerInspireInventory.options.lightboxes.library&&(e.library=DealerInspireInventory.options.lightboxes.library,jQuery(document).on("click",".button-form,a",function(e){var r=jQuery(this).data();if(r.formId){for(var t in DealerInspireInventory.options.gf_forms[r.formId])t in r.vehicle&&jQuery("#input_"+r.formId+"_"+DealerInspireInventory.options.gf_forms[r.formId][t]).val(r.vehicle[t]);return jQuery.event.trigger({type:DealerInspireBrowserDetection.isMobile.any()===!0?"im_lead_start":"im_lead_start_mobile",message:{formId:r.formId},time:new Date}),jQuery(this).data("lightbox-width")||jQuery(this).data("lightbox-width",600),DealerInspireLightbox.open(jQuery(this)),!1}return jQuery(this).is(".fancy,.fancy_iframe,.fancybox,.lightbox")===!0?(DealerInspireLightbox.open(jQuery(this)),!1):void 0}))})},open:function(e){try{var r=this,t=r.getTarget(e),i=r.getContentType(t),n=e||{};if(i===!1)throw"Failed to determine content type or unsupported content was passed";if(jQuery.isPlainObject(e)?"inline"===i&&"undefined"==typeof e.element&&(e.element=t):e="html"===i?{content:e}:{element:"inline"===i?t:null,title:jQuery(e).attr("data-lightbox-title")||"",url:"iframe"===i?t:null,data:jQuery(e).data()||{}},"string"==typeof e.url&&e.url.search(/javascript/i)>-1)return!1;var o="undefined"!=typeof e.data&&e.data.lightboxOnPhones?e.data.lightboxOnPhones:"enabled",a="undefined"!=typeof e.data&&e.data.lightboxOnTablets?e.data.lightboxOnTablets:"enabled";if("iframe"===i&&DealerInspireBrowserDetection.isMobile.any()===!0&&(e.data&&e.data.vehicle&&e.url.indexOf(location.host)>-1&&(e.url=e.url+"?"+jQuery.param(e.data.vehicle)),DealerInspireBrowserDetection.isMobile.tablet()&&"disabled"===a||DealerInspireBrowserDetection.isMobile.phone()&&"disabled"===o))return window.open(e.url),!1;switch(r.library){case"bootstrap":var s=null;s="inline"===i?e.element:"html"===i?e.content:e.url,DealerInspireModalNotification.show(e.title,s,"undefiend"!=typeof e.data?e.data:e);break;case"fancybox":if("inline"===i){var l=e.element;jQuery.isPlainObject(n)&&n.hasOwnProperty("content")===!0&&(l=n),jQuery.fancybox(l,{beforeShow:function(){$(window).width()<=1024&&$("html,body").css({overflow:"hidden",position:"relative",height:"100%"})},afterClose:function(){$("html,body").css({"overflow-y":"visible",position:"static",height:"auto"})}})}else{var c={centerOnScroll:!0,width:1e3,type:i};"iframe"===i&&(c.iframe={preload:!1}),"html"===i?c.content=e.content:c.href=e.url,e.title&&(c.title=e.title),jQuery.fancybox(c)}}return!1}catch(u){"undefined"!=typeof console&&console.log(u.stack)}},getContentType:function(e){if(e===!1||"string"==typeof e&&"html"===e)return"html";if("object"==typeof e)return"inline";if("string"==typeof e){if("#"===e.charAt(0))return"inline";if(this.isUrl(e)===!0)return"iframe"}return!1},isUrl:function(e){return"string"!=typeof e?!1:(e=jQuery.trim(e),null===/\r|\n|\s/.exec(e)&&(e.indexOf("//")>-1||"/"===e.charAt(0)))},getUrl:function(e){return this.isUrl(e)===!1?!1:("//"!==e.substring(0,2)&&"/"===e.charAt(0)&&(e=location.protocol+"//"+location.host+e),e)},getTarget:function(e){if(jQuery.isPlainObject(e)){if(DealerInspireBrowserDetection.isMobile.any()===!0&&"undefined"!=typeof e.mobileUrl&&e.mobileUrl)return this.getTarget(e.mobileUrl);if("string"==typeof e.url)return this.getTarget(e.url);if("undefined"!=typeof e.content)return this.getTarget(e.content)}else{if("string"==typeof e){if("#"===e.charAt(0)){var r=jQuery(e+":first");if(0===r.length)throw"Target element not found: "+e;return r}return this.isUrl(e)===!0?this.getUrl(e):"html"}if("object"==typeof e)return DealerInspireBrowserDetection.isMobile.any()===!0&&"undefined"!=typeof e.data("mobileUrl")&&e.data("mobileUrl")?this.getTarget(e.data("mobileUrl")):"undefined"!=typeof e.attr("href")&&e.attr("href")?this.getTarget(e.attr("href")):e}return!1}};DealerInspireLightbox.init();var DealerInspireURLShortener={ajax_url:"/",translate:{},init:function(e,r){this.ajax_url=e,r&&(this.translate=r)},create_short_url:function(e){var r=this;jQuery.ajax({url:this.ajax_url,type:"POST",data:{action:"im_ajax_call",perform:"share_vrp_results",url:e},dataType:"json",success:function(e){"failed"===e.status?DealerInspireModalNotification.alert(e.msg,"Please try again later!"):DealerInspireModalNotification.alert(r.translate.short_share_body+": <b>"+e.tinyurl+"</b>",r.translate.short_share_title,e.sharing)}})}},DealerInspireBrowserDetection={isIE:{any:function(){var e=window.navigator.userAgent.indexOf("MSIE ");return e>0?!0:!1},eightOrLess:function(){var e=window.navigator.userAgent.indexOf("MSIE ");return e>0&&parseInt(window.navigator.userAgent.substring(e+5,window.navigator.userAgent.indexOf(".",e)))<=8?!0:!1},nineOrLess:function(){var e=window.navigator.userAgent.indexOf("MSIE ");return e>0&&parseInt(window.navigator.userAgent.substring(e+5,window.navigator.userAgent.indexOf(".",e)))<=9?!0:!1}},isFireFox:function(){return window.navigator.userAgent.indexOf("Firefox")>-1},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)?!0:!1},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)?!0:!1},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1},Windows:function(){return navigator.userAgent.match(/IEMobile/i)?!0:!1},any:function(){return jQuery(window).width()<=979},tablet:function(){return jQuery(window).width()<=979&&jQuery(window).width()>767},phone:function(){return jQuery(window).width()<767}}},DealerInspireCompare={options:null,compare_text:null,interface_type:null,mobile_tab_container:".mobile-tab-content-inside .compare-vehicles",vehicles:[],_cookie_name:"inventory_compare_cookie",init:function(){var e=this;if("undefined"==typeof inventory_localization||"undefined"==typeof inventory_localization.compare_settings)return!1;if(inventory_localization.is_inventory_page===!1)return!1;e.interface_type=inventory_localization.is_inventory_page,e.options=inventory_localization;var r=this.options.compare_settings.position;if(jQuery(".compare-vehicle:not(.selected):first")&&(this.compare_text=jQuery(".compare-vehicle:not(.selected):first").html()),this.compare_text=this.compare_text?this.compare_text:"Compare Vehicle","vdp"===DealerInspireCompare.interface_type&&0===jQuery("#compare-expand-btn").length&&jQuery("#compare-vehicles-sidr").before(e.template("compare_expand_btn")),DealerInspireBrowserDetection.isIE.nineOrLess()!==!1&&(jQuery("#compare-expand-btn").css("left","0px"),jQuery(".sidr#compare_div").length>0&&"none"!==jQuery(".sidr#compare_div").css("display")&&jQuery("#compare-expand-btn").css("margin-left","260px")),"function"==typeof jQuery.fn.sidr&&jQuery("#compare-expand-btn").sidr({name:"compare_div",side:r,onOpen:function(){"left"===r?jQuery("#compare-expand-btn").animate({marginLeft:260},200):jQuery("#compare-expand-btn").animate({marginRight:260},200)},onClose:function(){"left"===r?jQuery("#compare-expand-btn").animate({marginLeft:0},200):jQuery("#compare-expand-btn").animate({marginRight:0},200)}}),null!==(inventory_compare_cookie=DealerInspireCookie.ReadCookie(this._cookie_name)))try{jQuery.each(JSON.parse(inventory_compare_cookie),function(r,t){e.add_vehicle(t.vin,t.title,t.thumbnail,t.vdp_link)}),e.add_compare_actions(),setTimeout(function(){jQuery("#compare-expand-btn").fadeIn()},500),e.mark_selected()}catch(t){"undefined"!=typeof console&&console.log("Failed to restore compared vehicles from cookie: "+t)}jQuery(document).on("click",".compare-vehicle",function(){try{if(jQuery(this).hasClass("disabled"))return!1;jQuery(t).addClass("disabled");var t=this,i=jQuery(t).attr("rel"),n="",o="";if(e.vehicles&&jQuery.grep(e.vehicles,function(e){return e.vin===i}).length>0)e.remove_vehicle(i),jQuery(t).removeClass("disabled");else if(e.vehicles&&e.vehicles.length>=4)jQuery(t).removeClass("disabled"),DealerInspireModalNotification.alert("You can only compare 4 vehicles at a time. Please remove one before you can compare another vehicle.","Vehicles Compare Error!");else{if("vrp"==e.interface_type){var a=jQuery(this).closest(".vehicle").find(".vehicle-image img:first");vehicle_image=a.attr("src"),o=a.parent("a").attr("href"),n="gridview"===DealerInspireInventory.options.current_view?jQuery(this).data("title"):jQuery(this).closest(".vehicle").find(".vehicle-overview,.vehicle-card-content").attr("title")}else if("vdp"==e.interface_type){var a=jQuery(".mainvehicleimage,.gallerycarousel-thumbs").find("img:first");vehicle_image=a.attr("src"),n=a.attr("alt"),o=window.location.href}var s=DealerInspireBrowserDetection.isMobile.any()===!0&&e.has_mobile_tab()===!0?jQuery(e.mobile_tab_container):jQuery("#compare_div");if(a){var l=a.clone().offset({top:a.offset().top,left:a.offset().left}).css({opacity:"0.5",position:"absolute",height:"150px",width:"150px","z-index":"100"}).appendTo(jQuery("body")).animate({top:s.offset().top+100,left:"left"===r?s.offset().left+10:jQuery(window).width()-150,width:150,height:150,zIndex:1e4},1e3,"easeOutQuart",function(){e.add_vehicle(i,n,vehicle_image,o),e.add_compare_actions(),jQuery(t).removeClass("disabled"),e.vehicles&&jQuery("#compare-expand-btn").fadeIn()});l.animate({width:0,height:0},function(){jQuery(e).detach()})}e.add_node(this),DealerInspireBrowserDetection.isIE.nineOrLess()!==!1&&jQuery("body").trigger("init-compare-btn-ie")}}catch(c){DealerInspireInventory.log("Failed to compare vehicle: "+c,!1,!0)}return!1}),jQuery(document).on("click",".comparebtn",function(){var r=jQuery(this).attr("rel");jQuery(".compare-vehicle[rel="+r+"]").length>0?jQuery(".compare-vehicle[rel="+r+"]").click():e.remove_vehicle(r)}),jQuery(document).on("click","#show-compare",function(){e.show()}),jQuery(document).on("click","#share-compare",function(){e.share()}),jQuery("body").on("vrp-ajax-complete init-compare-btn-ie",function(r){DealerInspireBrowserDetection.isIE.nineOrLess()!==!1&&(jQuery("#compare-expand-btn").css("left","0px"),jQuery(".sidr#compare_div").length>0&&"none"!==jQuery(".sidr#compare_div").css("display")&&jQuery("#compare-expand-btn").css("margin-left","260px"),"init-compare-btn-ie"===r.type&&"undefined"==typeof jQuery("#compare-expand-btn").data("events")&&jQuery("#compare-expand-btn").sidr({name:"compare_div",side:"left",onOpen:function(){jQuery("#compare-expand-btn").animate({marginLeft:260},200)},onClose:function(){jQuery("#compare-expand-btn").animate({marginLeft:0},200)}}),null!==(inventory_compare_cookie=DealerInspireCookie.ReadCookie(this._cookie_name))&&setTimeout(function(){jQuery("#compare-expand-btn").show(),jQuery("#compare-expand-btn").sidr({name:"compare_div",side:"left",onOpen:function(){jQuery("#compare-expand-btn").animate({marginLeft:260},200)},onClose:function(){jQuery("#compare-expand-btn").animate({marginLeft:0},200)}}),e.mark_selected()},500))})},has_mobile_tab:function(){return jQuery(this.mobile_tab_container).length>0},set_comparing_text:function(e){jQuery(e).hasClass("expandbutton")||jQuery(e).html(this.options.translate.comparing)},mark_selected:function(){var e=this;jQuery.each(e.vehicles,function(r,t){var i=jQuery(".compare-vehicle[rel='"+t.vin+"']");i.length>0&&e.add_node(i)})},template:function(e,r,t,i,n){switch(e){case"mobile_tab_vehicle":case"sidr_vehicle":return'<div id="'+r+'" class="vehicle"><h5><img src="'+this.options.plugin_url+'js/fancybox/fancy_close.png" class="comparebtn" rel="'+r+'" style="vertical-align:middle"> '+t+'</h5><a href="'+n+'"><img class="thumbnail" src="'+i+'" /></a></div>';case"mobile_tab_actions":return'<div id="compare-actions"><a class="button small dark-button" id="show-compare">'+this.options.translate.compare_vehicles+"</a></div>";case"sidr_actions":return'<div id="compare-actions"><a class="button small dark-button" id="show-compare">'+this.options.translate.compare_vehicles+'</a><a class="button small dark-button" id="share-compare">'+this.options.translate.share+"</a></div>";case"compare_expand_btn":return'<a href="#" id="compare-expand-btn" class="hidden-phone hidden-xs position-left multi-button" style="display: inline;">Compare</a>'}return!1},add_node:function(e){jQuery(e).addClass("selected"),this.set_comparing_text(e)},add_vehicle:function(e,r,t,i){var n=this;jQuery("#compare_div").append(n.template("sidr_vehicle",e,r,t,i)),n.has_mobile_tab()===!0&&(jQuery(".initial-compare-vehicles").addClass("hidden"),jQuery(n.mobile_tab_container).append(n.template("mobile_tab_vehicle",e,r,t,i)));var o=[];n.vehicles&&(o=jQuery.map(n.vehicles,function(e){return e.vin})),-1===jQuery.inArray(e,o)&&(n.vehicles.push({vin:e,title:r,thumbnail:t,vdp_link:i}),n.save())},remove_vehicle:function(e){var r=this,t=jQuery("#compare_div div#"+e+","+r.mobile_tab_container+" div#"+e);t.slideUp(200,function(){t.remove(),jQuery(".compare-vehicle[rel='"+e+"']")&&jQuery(".compare-vehicle[rel='"+e+"']").html(r.compare_text).removeClass("selected"),r.vehicles=jQuery.grep(r.vehicles,function(r){return r.vin!==e}),r.vehicles.length<2&&r.hide_compare_action(),0===r.vehicles.length&&r.has_mobile_tab()===!0&&jQuery(".initial-compare-vehicles").removeClass("hidden"),r.save()})},hide_compare_action:function(){jQuery("div#compare-actions").remove()},add_compare_actions:function(){jQuery("#compare_div div.vehicle").length>1&&0===jQuery("#compare_div div#compare-actions").length&&(jQuery("#compare_div").prepend(this.template("sidr_actions")),this.has_mobile_tab()===!0&&jQuery(this.mobile_tab_container).prepend(this.template("mobile_tab_actions")))},show:function(){var e=this;if(DealerInspireBrowserDetection.isMobile.any()===!0){var r="http://"+window.location.host+"/dealer-inspire-inventory/compare_vehicles/?";return jQuery.each(e.vehicles,function(e,t){r+="&vin%5B%5D="+t.vin}),window.open(r),!1}jQuery.sidr("close","compare_div"),setTimeout(function(){jQuery.ajax({url:e.options.ajax_url,data:{action:"im_ajax_call",perform:"compare",vehicles:jQuery.map(e.vehicles,function(e){return e.vin})},type:"POST",dataType:"json",success:function(e){DealerInspireLightbox.open({content:e.html,title:"Compare Vehicles"})}})},100)},share:function(){var e=this;if(!(e.vehicles&&e.vehicles.length>=2))return!1;var r="http://"+window.location.host+"/dealer-inspire-inventory/compare_vehicles/?";jQuery.each(e.vehicles,function(e,t){r+="&vin%5B%5D="+t.vin}),jQuery.sidr("close","compare_div"),DealerInspireURLShortener.init(e.options.ajax_url,e.options.translate),DealerInspireURLShortener.create_short_url(r)},save:function(){this.vehicles&&this.vehicles.length>0?DealerInspireCookie.CreateCookie(this._cookie_name,JSON.stringify(this.vehicles),.5):this.clear()},clear:function(){jQuery.sidr("close","compare_div"),jQuery("#compare-expand-btn").hide("fast"),jQuery("#compare_div").html(""),this.vehicles=[],jQuery(".compare-vehicle").removeClass("selected"),jQuery(".compare-vehicle").html(this.compare_text),DealerInspireCookie.EraseCookie(this._cookie_name),this.has_mobile_tab()===!0&&(jQuery(this.mobile_tab_container).children(":not(.initial-compare-vehicles)").remove(),jQuery(".initial-compare-vehicles").removeClass("hidden"))}};DealerInspireCompare.init();var DealerInspireSearchAnything={selector:".inventory-search-field,.alg-searc-class",instances:[],init:function(){var e=this;jQuery(function(){e.set_instances(),jQuery("body").on("vrp-ajax-complete",function(){e.set_instances()})})},set_instances:function(){var e=this;return e.instances=[],0===jQuery(e.selector).length?!1:(jQuery(e.selector).each(function(r,t){var i=$(this).attr("placeholder")?$(this).attr("placeholder"):"Search...",n=$(this).data("type"),o=$(this).data("limit"),a=$(this).data("popover-placement"),s="enabled"===$(this).data("redirect-to-vdp")?!0:!1,l={element:jQuery(t),popover_placement:a,type:n,limit:o,placeholder_text:i,redirect_url:!1,redirect_to_vdp:s};jQuery(t).parents(".filters-container").find("input[type=hidden][name='type[]']").length>0&&(l.type=jQuery(t).parents(".filters-container").find("input[type=hidden][name='type[]']").val()),"object"!=typeof l.type&&l.type&&(l.type=l.type.split(",")),e.instances.push(l)}),void(e.instances.length>0&&(jQuery.each(e.instances,function(r,t){e.init_instance(t)}),jQuery("body").on("vrp-ajax-complete",function(){jQuery(".mobile-tab-content.open .mobile-tab-content-inside.filters-container").length>0&&(console.log("close it"),jQuery(".mobile-tab-content.open").removeClass("open"))}))))},init_instance:function(e){var r=this;try{if(e.element.hasClass("alg-searc-class"))return!1;jQuery("body").on("keyup blur focus paste",e.element,function(t){r.autocomplete(e,t)})}catch(t){return"undefined"!=typeof console&&console.log("Failed to initiate SearchAnything instance: "+t),!1}},autocomplete:function(e,r){try{var t=e.element;if(jQuery("li.ui-menu-item[rel='popover']").popover("hide"),"focusout"===r.type&&""===t.val())return t.val(e.placeholder_text),!1;if("focusin"===r.type&&t.val()===e.placeholder_text)return t.val(""),!1;var i=t.parent();t.autocomplete({source:function(r,t){jQuery.ajax({url:inventory_localization.ajax_url,dataType:"json",type:"POST",data:{action:"im_ajax_call",perform:"suggest",isMobile:DealerInspireBrowserDetection.isMobile.any(),type:e.type,limit:e.limit,search_term:r.term},beforeSend:function(){"undefined"==typeof e._original_type?e._original_type=e.type:e.type=e._original_type,e.redirect_url=!1},success:function(r){1===r.length&&(e.redirect_to_vdp===!0?"undefined"!=typeof r[0].redirect_to_vdp&&r[0].redirect_to_vdp===!0&&(e.redirect_url=r[0].link):e.type=r[0].type),t(r)}})},focus:function(e,r){return t.val(r.item.search_term),!1},select:function(e,r){return t.val(r.item.search_term),r.item.link&&(window.location.href=r.item.link,t.val("Loading...").attr("disabled","disabled")),!1},minLengthType:2,delay:DealerInspireInventory.options.search_anything.autocomplete_delay,appendTo:i,position:{my:"left top",at:"left bottom",collision:"none"}}).data("ui-autocomplete")._renderItem=function(r,t){return jQuery("<li rel='popover'></li>").data("item.autocomplete",t).data("html",!0).data("title",t.popover_title).data("content",t.details).data("placement",e.popover_placement).append("<a>"+t.label+"</a>").appendTo(r)}}catch(n){return DealerInspireInventory.log("Search Anything Error: "+n,!1,!0),!1}},get_instance:function(e){var r=this;if(0===e.length||0===r.instances.length)return!1;var t=null;return jQuery.each(r.instances,function(r,i){return i.element.get(0)===e.get(0)?(t=i,!1):void 0}),t}};DealerInspireSearchAnything.init();var DealerInspireInventory={timers:{},options:null,url_params:null,ajax_in_progress:!1,current_page:1,page_title:"",vrpFilterShowing:!1,mobilefilterselected:!1,init:function(){$=jQuery;var e=this;try{if(this.register_global_events(),"undefined"!=typeof inventory_localization){if(this.options=inventory_localization,"undefined"==typeof this.options.is_inventory_page||"vrp"!==this.options.is_inventory_page)return!1;this.options.shortcode.status===!0&&document.getElementById("results-page")&&(this.timers.disable_filters_timer=setInterval(function(){e.disable_all_filters()},100)),this.options.responsive="desktop"===this.options.device?!0:!1,this.add_mobile_events(),this.mobile_filters.init(),this.event_listeners.init(),this.pagination.init(),this.quicklook.init(),this.infinite_scrolling(),this.top_filters.init(),this.sidebar.init(),this.popovers.init(),this.view_toggle.init(),this.grid_view.init(),jQuery(function(){jQuery("body").trigger("vrp-ready")})}}catch(r){"undefined"!=typeof console&&console.log("Failed to initialize DealerInspireInventory!"+r)}},payment_calculator:{register_events:function(){var e=this;jQuery(function(){if("vdp"===DealerInspireInventory.options.is_inventory_page){var r=jQuery(".payment-calculator:first"),t=DealerInspireInventory.options.vehicle.type,i=DealerInspireInventory.options.vehicle.our_price,n=r.data("finance-rate"),o=r.data("finance-length"),a=r.data("finance-fees");e.init(t,i,n,o,a)}}),jQuery(document).on("click",".payment-calculator",function(){var r=jQuery(this).data("vehicle_type"),t=jQuery(this).data("price"),i=jQuery(this).data("finance-rate"),n=jQuery(this).data("finance-length"),o=jQuery(this).data("finance-fees"),a=jQuery(this).data("overrides");e.init(r,t,i,n,o,a)})},init:function(e,r,t,i,n,o){calculator.init(e,r,o),t&&calculator.setRate(t,!1),i&&calculator.setLoanTerm(i,!1),n&&calculator.setFees(n,!1),jQuery.isNumeric(r)&&r&&calculator.process()}},register_global_events:function(){this.payment_calculator.register_events()},event_listeners:{init:function(){var e=DealerInspireInventory,r=!0;e.translate_page(),jQuery.ajaxPrefilter(function(r,t,i){"undefined"!=typeof r.data&&r.data.search("im_ajax_call")>-1&&(e.timers.ajax_indicator=setTimeout(function(){1==e.ajax_in_progress&&jQuery("#ajax-indicator").fadeIn(200)},500))}),jQuery(document).ajaxStop(function(){clearTimeout(e.timers.ajax_indicator),jQuery("#ajax-indicator").is(":visible")?jQuery("#ajax-indicator").fadeOut(300):jQuery("#ajax-indicator").hide()}),jQuery(document).on("click",".gridtoggle,.listtoggle",function(){var r=jQuery(this).data("view");r&&e.view_toggle.set(jQuery(this).data("view"))}),jQuery(document).on("change",'.without-sidebar-filters select[name="_orderby"]',function(){jQuery('input[type=hidden][name="orderby"]').val(jQuery(this).val()),jQuery('input[type=hidden][name="order"]').val(jQuery(this).find(":selected").data("order")),e.current_page=1,e.query.set_param("order"),e.query.set_param("orderby"),e.query.update()}),jQuery(document).on("click",".sortablePrice .sortable",function(r){jQuery('input[type=hidden][name="orderby"]').val(jQuery(this).data("sortby")),jQuery('input[type=hidden][name="order"]').val(jQuery(this).data("order")),e.current_page=1,e.query.set_param("order"),e.query.set_param("orderby"),e.query.update(),r.preventDefault()}),null!==e.query.get_param("page")?e.ajax_in_progress=!0:jQuery("#results-page").css("visibility","visible"),jQuery(window).bind("hashchange",function(){if(r===!1)return!1;var t=window.location.hash?window.location.hash.replace("#",""):"";"undefined"!=typeof clicky&&t&&clicky.log("/?#"+t),t?e.load_ajax_results(t):e.resetPressed()}),window.location.hash&&(e.query.get_param("page")&&(e.current_page=e.query.get_param("page")),e.query.update(),e.refreshed=!0,e.load_ajax_results(window.location.hash.replace(/#/,""))),jQuery(document).on("click","#reset_filters,.im-reset-filters",function(){return""===window.location.hash?!1:void e.resetPressed()}),jQuery("body").bind("vrp-ajax-error",function(){}),jQuery(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){jQuery(window).trigger("window-resize-end")},500)}),"enabled"===e.options.lazy_load_images&&jQuery("body").on("vrp-ready vrp-ajax-complete",function(e){jQuery("td.results .vehicle-image img").unveil(200),
setTimeout(function(){jQuery("td.results .vehicle-image img:first").attr("src").search("loading")>-1&&(DealerInspireInventory.log("Lazy Load failed. Loading the first two images manually",!1,!0),jQuery("td.results .vehicle-image img").slice(0,4).each(function(e,r){jQuery(this).attr("src",jQuery(this).data("src"))}))},100)})}},resetPressed:function(){this.url_params={action:"im_ajax_call",perform:"get_results"},this.current_page=1,this.query.update(),jQuery("body").trigger("vrp-reset")},add_mobile_events:function(){var e=this;jQuery("#vrp-filter-menu .filters").on("click","#mobile-reset-filters-container",function(){e.resetPressed()}),null!==e.query.get_param("page")?e.ajax_in_progress=!0:jQuery("#results-page").css("visibility","visible"),jQuery(document).on("click","a.vrp-incentives",function(r){return jQuery.ajax({url:e.options.ajax_url,type:"POST",data:{action:"im_ajax_call",perform:"incentives-mobile",vin:jQuery(this).data("vin"),id:jQuery(this).data("id")},async:!1,success:function(e){var r=window.open();r.document.write(e)}}),!1}),jQuery(".button-expand a.closed").on("click",function(e){e.preventDefault();var r=jQuery(this);jQuery(this).parents(".description-cta-form").animate({maxHeight:"3000px"},400,"swing",function(){r.removeClass("closed"),r.addClass("open")})}),jQuery(".button-expand a.open").on("click",function(e){e.preventDefault();var r=jQuery(this);jQuery(this).parents(".description-cta-form").animate({maxHeight:"30px"},400,"swing",function(){r.removeClass("open"),r.addClass("closed")})})},load_ajax_results:function(e){var r=this;e||(e="action=im_ajax_call&perform=get_results&page=1&_post_id="+r.options.page.ID),r.refreshed===!0&&(e+="&_refreshed=true"),"object"==typeof icl_vars&&"en"!==icl_vars.current_language&&(e+="&_language_code="+icl_vars.current_language),this.ajax_in_progress=!0,jQuery.ajax({url:this.options.ajax_url,type:"POST",data:e+"&_referer="+window.location.pathname,dataType:"json",timeout:15e3,success:function(e){if(void 0===e.results)return r.ajax_in_progress=!1,jQuery("body").trigger("vrp-ajax-error"),!1;jQuery("body").trigger("vrp-ajax-pre-render-results");var t="#results-page td.results .results_table";window.vrp_vehicles_container_selector&&(t=window.vrp_vehicles_container_selector("#results-page td.results .results_table"));var i=".grid-view-results-wrapper";if(window.vrp_vehicles_gridview_container_selector&&(i=window.vrp_vehicles_gridview_container_selector(i)),r.is_vin=e.is_vin,r.is_stock=e.is_stock,r.num_rows=e.num_rows,r.query.to_obj(),r.current_page=parseInt(r.query.get_param("page")),"1"===r.options.infinite_scrolling)null===e.page_count||r.current_page===e.page_count?jQuery("#results-page td.results .infinite-scrolling-trigger").removeClass("load-more-results"):jQuery("#results-page td.results .infinite-scrolling-trigger").addClass("load-more-results"),r.current_page>1&&r.refreshed!==!0?jQuery("#results-page td.results .load-more-results").length>0?jQuery("#results-page td.results .load-more-results:last").before(e.results):jQuery(t).append(e.results):(jQuery("#results-page").replaceWith(e.results),r.scrollToTop());else if(r.current_page>1&&r.refreshed!==!0?(jQuery("td.results").removeClass("listview gridview").addClass(r.options.current_view),jQuery(i+","+t).replaceWith(e.results),jQuery("ul.pagination").replaceWith(e.pagination)):jQuery("#results-page").replaceWith(e.results),r.scrollToTop(),"1"===r.options.highlight_search_results&&"undefined"!=typeof DealerInspireInventory.url_params.search&&DealerInspireInventory.url_params.search){var n=DealerInspireInventory.url_params.search.split(" ").filter(function(e){return e.length>=2});n.unshift(DealerInspireInventory.url_params.search),jQuery(".vehicle").highlight(n)}DealerInspireInventory.refreshed=!1,jQuery("body").trigger("vrp-ajax-complete"),jQuery(".vrp_loading_text").remove(),r.ajax_in_progress=!1,r.update_page_title(),DealerInspireCompare.mark_selected(),1===r.current_page&&jQuery("body").trigger("vrp-updated"),jQuery(".results-table").css("visibility","visible")},error:function(e,t,i){r.ajax_in_progress=!1,jQuery("body").trigger("vrp-ajax-error")}})},pagination:{selector:"ul.pagination",init:function(){jQuery(document).on("click",this.selector+" a[data-page!='']",function(e){jQuery(this).data("page")&&(DealerInspireInventory.current_page=jQuery(this).data("page"),DealerInspireInventory.query.update())})},set:function(e){var r=jQuery(this.selector+" li a.current"),t=jQuery(this.selector+" li a[data-page="+e+"]");r.removeClass("current"),t.addClass("current")}},reset_and_search:function(e){return e?(this.url_params={action:"im_ajax_call",perform:"get_results"},this.current_page=1,this.query.set_param("search",e,!0),void this.query.update()):!1},mobile_filters:{init:function(){var e=DealerInspireInventory;if("classic"===e.options.filters.mobile)e.mobile_filters.classic(),jQuery("body").on("vrp-ajax-complete vrp-updated",function(r){e.mobile_filters.classic()}),jQuery("#vrp-filter-menu .vrp-filter-menu-button,#vrp-filter-menu .hideShowFilters").click(function(r){var t=jQuery(this).parent(),i=jQuery("#vrp-filter-menu").outerHeight()<200?200:jQuery("#vrp-filter-menu").outerHeight();i=jQuery("#vrp-filter-menu .advanced-filters").outerHeight()<i?i:jQuery("#vrp-filter-menu .advanced-filters").outerHeight(),e.vrpFilterShowing===!1?(jQuery("#vrp-filter-menu").animate({bottom:"+="+i},600,"easeInOutBack",function(){jQuery(t).find(".filter-icon").removeClass("closed").addClass("open"),jQuery(t).find(".filter-title").html("hide filters")}),e.vrpFilterShowing=!0):(jQuery("#vrp-filter-menu").animate({bottom:"-="+i},600,"easeInOutBack",function(){jQuery(this).find(".filter-icon").removeClass("open").addClass("closed"),jQuery(this).find(".filter-title").html("show filters")}),e.vrpFilterShowing=!1)}),jQuery(".mobile-filters-vrp").length>0?jQuery("body").on("vrp-updated",function(){jQuery(".filters").click(function(e){e.stopPropagation()})}):jQuery("body").on("vrp-updated",function(){jQuery(".filters").click(function(e){e.stopPropagation()})}),jQuery(document).on("change","#vrp-filter-menu select",function(){var r=jQuery(this).attr("name");e.current_page=1,jQuery(":input[name='"+r+"']").not(this).val(""),e.query.set_param(r),e.query.update()});else if("groupon"===e.options.filters.mobile){var r=!0,t=jQuery("#groupon-mobile-sidr");1===jQuery(".mobile-tab-content-inside.groupon-mobile-filters").length&&(t=jQuery(".mobile-tab-content-inside.groupon-mobile-filters"),r=!1),jQuery("body").on("accordioncreate",".groupon-sidebar div.groupon-sidebar-filters",function(){DealerInspireBrowserDetection.isMobile.phone()===!0&&(e.mobile_filters.groupon(),r&&(t=jQuery("#groupon-mobile-sidr")))}),jQuery(document).on("mouseup tab",function(e){t.is(e.target)||0!==t.has(e.target).length||r!==!0||jQuery.sidr("close","groupon-mobile-sidr")}),e.options.responsive===!0?jQuery(window).bind("window-resize-end",function(){DealerInspireBrowserDetection.isMobile.phone()!==!0&&t.find("div.groupon-sidebar-filters").length>0?(r===!0&&jQuery.sidr("close","groupon-mobile-sidr"),t.children().appendTo(".filter-results.groupon-sidebar")):DealerInspireBrowserDetection.isMobile.phone()===!0&&0===t.find("div.groupon-sidebar-filters").length&&e.mobile_filters.groupon()}):(jQuery(document).on("change click","#groupon-mobile-sidr .groupon-sidebar-filters :input, .im-mobile-reset-filters",function(r){if(jQuery(this).hasClass("im-mobile-reset-filters"))var i="action=im_ajax_call&get_results=true&perform=update-mobile-filters";else var i=t.find(".groupon-sidebar-filters :input").serialize()+"&action=im_ajax_call&get_results=true&perform=update-mobile-filters";return data=e.query.to_obj(i),jQuery.ajax({url:e.options.ajax_url,data:data,type:"POST",dataType:"json",success:function(r){t.html(r.filters),e.sidebar.groupon()}}),r.stopImmediatePropagation(),!1}),jQuery("body").on("vrp-ajax-complete vrp-updated",function(i){e.sidebar.groupon(),r===!0&&t.unbind("mouseup swipe").html("")})),jQuery(document).on("click",".groupon-mobile-filters-apply",function(i){if(r===!0){jQuery.sidr("close","groupon-mobile-sidr");var n=t.find(".groupon-sidebar-filters :input").serialize()+"&action=im_ajax_call&perform=get_results";data=e.query.to_obj(n),e.current_page=1,e.query.update()}else t.parents(".mobile-tab-content").find(".mobile-tab-title-bar .mobile-tab-close").click()}),jQuery(document).on("click",".groupon-mobile-filters-apply",function(r){e.mobilefilterselected=!1,jQuery(this).css("opacity","0")}),jQuery(document).on("click",".groupon-mobile-filters-toggle",function(e){r===!0?jQuery("body").hasClass("groupon-mobile-sidr-open")?jQuery.sidr("close","groupon-mobile-sidr"):jQuery.sidr("open","groupon-mobile-sidr"):t.parents(".mobile-tab-content").find(".mobile-tab-title-bar .mobile-tab-close").click()}),r===!0&&jQuery("#groupon-mobile-filter").sidr({name:"groupon-mobile-sidr",side:"right"}),jQuery(document).on("click",".mobile-sort-by",function(e){jQuery("[name='_orderby']").trigger("click")})}},classic:function(){if(jQuery(".mobile-filters-container").length>0){var e=jQuery(".mobile-filters-container .mobile-filters-vrp").clone(!0,!0);jQuery(".mobile-filters-container").remove(),jQuery("#vrp-filter-menu .filters").html(e)}else jQuery(".vrp-listing tr td.search-results > div").appendTo("#vrp-filter-menu .filters"),jQuery(".vrp-listing tr td.search-results > div").remove()},groupon:function(){var e=jQuery("#groupon-mobile-sidr");1===jQuery(".mobile-tab-content-inside.groupon-mobile-filters").length&&(e=jQuery(".mobile-tab-content-inside.groupon-mobile-filters"),e.empty()),DealerInspireInventory.options.responsive===!0&&e.empty(),setTimeout(function(){jQuery(".filter-results.groupon-sidebar").children().appendTo(e),DealerInspireInventory.mobilefilterselected&&jQuery(".groupon-mobile-filters-apply").css("opacity","1")},200)}},top_filters:{init:function(){var e=DealerInspireInventory;"fluid"===e.options.filters.top&&(e.top_filters.fluid(),jQuery(document).on("change","div#top-filters.bootstrap-select :input,.advanced-filters.desktop-filters :input",function(r){var t=jQuery(this).attr("name"),i=jQuery(this).val();if("search"!==t){if(null===i||"show_all"===i[0]){e.query.delete_param(t);var n=window.location.pathname.split("/");if("model[]"==t&&n.length>2){var o="#action=im_ajax_call&perform=get_results";for(var a in e.url_params)if(jQuery.isArray(e.url_params[a]))for(var s=0;s<e.url_params[a].length;s++)o+="&"+encodeURIComponent(a)+"="+encodeURIComponent(e.url_params[a][s]);return window.location.href=window.location.protocol+"//"+window.location.host+"/"+n[1]+"/"+o,!1}return e.current_page=1,e.query.update(),!1}jQuery("input[name='"+t+"']").not(this).each(function(e,r){"checkbox"===r.type?jQuery(r).removeAttr("checked"):jQuery(r).val("")}),e.current_page=1,e.query.set_param(t),e.query.update()}}),jQuery(document).on("click","#start_search",function(){e.current_page=1,e.reset_and_search(jQuery("input[name='search']#search").val())}),jQuery(document).on("keyup",'#results-page.without-sidebar-filters input[name="search"]',function(r){if(13===r.which){var t=jQuery(this).val(),i=jQuery(this).attr("placeholder");t===i||""==t?e.alert("Please type in something to search for."):e.reset_and_search(t)}else jQuery('#results-page.without-sidebar-filters input[name="search"]').val(jQuery(this).val());return!1}),jQuery(document).on("click","#results-page.without-sidebar-filters #toggle-filters",function(){jQuery(this).hasClass("expanded")?(jQuery(".advanced-filters").hide("fast"),jQuery(this).removeClass("expanded dark-button").html($(this).data("open-text")),jQuery("input[name='show_all_filters']").val("false")):(jQuery(".advanced-filters").show("fast"),jQuery(this).addClass("expanded dark-button").html($(this).data("close-text")),jQuery("input[name='show_all_filters']").val("true"))}),jQuery("body").on("vrp-ajax-complete",function(){e.top_filters.fluid()}))},fluid:function(){if(0===jQuery(".bootstrap-select").length)return!1;jQuery(".bootstrap-select .top-filter select").selectpicker({dropupAuto:!1});var e=Math.floor(10/jQuery("#top-filters.bootstrap-select .top-filter").length);e=1===e?2:e;var r="span"+e;jQuery("#top-filters.bootstrap-select .top-filter .bootstrap-select").addClass(r),jQuery("#top-filters .top-filter").css("visibility","visible")},get_value:function(e){var r=jQuery(".top-filter select[name='"+e+"']"),t=r.val();return 0===r.length||null===t?!1:(jQuery.each(t,function(e,r){t[e]=decodeURIComponent(r)}),t)}},sidebar:{init:function(){var e=DealerInspireInventory;"groupon"===e.options.filters.sidebar&&(e.sidebar.groupon(),jQuery(document).on("click","#start_search",function(){e.current_page=1;var r=jQuery("input[name='search']#search").val(),t=jQuery("input[name='search']#search").attr("placeholder");r===t||""==r?e.alert("Please type in something to search for."):e.reset_and_search(r)}),jQuery(document).on("change",".groupon-sidebar-filters :input",function(r){var t=jQuery(this).attr("name");jQuery(":input[name='"+t+"']").not(":checkbox").val(""),e.mobilefilterselected=!0,e.current_page=1,e.query.set_param(t),e.query.update()}),jQuery("body").on("click",".groupon-sidebar-filters .filter-checkbox a",function(e){var r=jQuery(this).parent(".filter-checkbox").find("input");r.is(":checked")?r.removeAttr("checked"):r.attr("checked","checked"),r.trigger("change"),e.preventDefault()}),jQuery(document).on("click",".im-share-vrp",function(){e.create_short_url(window.location.href)}),this.smart_filters.init(),jQuery("body").on("vrp-ajax-complete",function(){e.sidebar.groupon()}))},groupon:function(){var e=DealerInspireInventory;jQuery("div.groupon-sidebar-filters").accordion({header:".filter-heading",heightStyle:"content",collapsible:!0,active:!1,beforeActivate:function(r,t){if(t.newHeader[0])var i=t.newHeader,n=i.next(".ui-accordion-content");else var i=t.oldHeader,n=i.next(".ui-accordion-content");var o="true"==i.attr("aria-selected");return i.toggleClass("ui-corner-all",o).toggleClass("accordion-header-active ui-state-active ui-corner-top",!o).attr("aria-selected",(!o).toString()),i.children(".ui-icon").toggleClass("ui-icon-triangle-1-e",o).toggleClass("ui-icon-triangle-1-s",!o),n.toggleClass("accordion-content-active",!o),o?n.slideUp():n.slideDown(),e.sidebar.groupon_user_settings(!0),r.preventDefault(),!1}}).css("visibility","visible"),jQuery(".groupon-sidebar-filters-loader").remove(),this.groupon_user_settings()},smart_filters:{init:function(){var e=DealerInspireInventory;return"undefined"==typeof e.options.filters.smart_filters||"disabled"===e.options.filters.smart_filters.state?!1:void jQuery("body").on("accordioncreate",".groupon-sidebar div.groupon-sidebar-filters",function(){try{e.options.filters.smart_filters.ignore_user_settings=!1;var r=["type[]","model[]","trim[]"],t=[],i=[],n=[],o=JSON.parse(JSON.stringify(e.url_params));jQuery("div.groupon-sidebar-filters .filter-heading").each(function(e,r){var i=jQuery(this).data("panel-filter");-1===jQuery.inArray(i,t)&&t.push(i)}),jQuery.each(r,function(r,t){"undefined"==typeof o[t]&&"undefined"!=typeof e.options.shortcode[t.replace("[]","")]&&("undefined"!=typeof o.search&&o.search&&"type[]"!==t||(o[t]=e.options.shortcode[t.replace("[]","")]))});var a=e.sidebar.smart_filters.get_order_logic(o,t);if(jQuery.each(a,function(r,a){"undefined"!=typeof a.conditions&&a.conditions&&e.sidebar.smart_filters.is_valid(a,o)===!0&&(i=jQuery.unique(jQuery.merge(a.order,i.length>0?i:t)),"undefined"!=typeof a.open_panels&&jQuery.each(a.open_panels,function(e,r){"!"===r.charAt(0)?jQuery.inArray(r.substring(1),n)>-1&&n.splice(jQuery.inArray(r.substring(1),n),1):-1===jQuery.inArray(r,n)&&n.push(r)}))}),0===i.length)return!1;jQuery.each(i,function(e,r){jQuery("div.groupon-sidebar-filters").append(jQuery("div.groupon-sidebar-filters .filter-heading[data-panel-filter='"+r+"']").parent())}),n&&n.length>0&&(e.options.filters.smart_filters.ignore_user_settings=!0,jQuery("div.groupon-sidebar-filters .filter-heading").each(function(e,r){jQuery.inArray(jQuery(this).data("panel-filter"),n)>-1&&!jQuery(this).hasClass("ui-state-active")&&jQuery(this).trigger("click")}))}catch(s){DealerInspireInventory.log(s)}})},get_order_logic:function(e,r){var t=[{conditions:[{key:"type[]",value:"New",compare:"="},{key:"model[]|models[]",compare:"!EMPTY"},{key:"year[]|years[]",compare:"!EMPTY"}],order:["trim","chrome_trim","ext_color_generic","ext_color","features","packages","lease_payment","monthly_payment","price"],open_panels:["trim","chrome_trim","ext_color_generic","ext_color","features","packages","lease_payment","monthly_payment"]},{conditions:[{key:"type[]",value:"New",compare:"="},{key:"model[]|models[]",compare:"EMPTY"},{key:"year[]|years[]",compare:"!EMPTY"}],order:["model","trim","chrome_trim","ext_color_generic","ext_color","features","packages","lease_payment","monthly_payment","price"],open_panels:["model","trim","chrome_trim","ext_color_generic","ext_color","features","packages","lease_payment","monthly_payment"]},{conditions:[{key:"type[]",value:"Used",compare:"LIKE"},{key:"model[]|models[]",compare:"!EMPTY"},{key:"year[]|years[]",compare:"!EMPTY"}],order:["monthly_payment","trim","chrome_trim","bodytype","body","ext_color_generic","ext_color","packages","price"],open_panels:["trim","chrome_trim","ext_color_generic","ext_color","packages","monthly_payment"]},{conditions:[{key:"type[]",value:"Used",compare:"LIKE"},{key:"model[]|models[]",compare:"EMPTY"},{key:"make[]|makes[]",compare:"!EMPTY"},{key:"year[]|years[]",compare:"!EMPTY"}],order:["monthly_payment","bodytype","body","model","trim","chrome_trim","ext_color_generic","ext_color","packages","price"],open_panels:["monthly_payment","trim","chrome_trim","ext_color_generic","ext_color","packages"]}];return window.vrp_groupon_smart_filters_order_logic_array&&vrp_groupon_smart_filters_order_logic_array(t,e,r),t},is_valid:function(e,r){var t=!0;return jQuery.each(r,function(e,t){"object"==typeof t&&(r[e]=t.filter(function(e){return""!=e&&void 0!=e}))}),jQuery.each(e.conditions,function(e,i){var n=i.key;if(n.search("|")>-1){var o=n.split("|");$.each(o,function(e,t){return"undefined"!=typeof r[t]?(n=t,!0):void 0})}switch(i.compare){case"!=":case"=":("undefined"==typeof r[n]||"string"==typeof r[n]&&r[n]!==i.value||"object"==typeof r[n]&&(r[n].length>1||-1===jQuery.inArray(i.value,r[n])))&&(t=!1);break;case"!LIKE":case"LIKE":var a=new RegExp(i.value,"i");("undefined"==typeof r[n]||"string"==typeof r[n]&&-1===r[n].search(a)||"object"==typeof r[n]&&-1===r[n].join("").search(a))&&(t=!1);break;case"!EMPTY":case"EMPTY":"undefined"!=typeof r[n]&&(t=!1)}return"!"===i.compare.charAt(0)&&(t=t===!1?!0:!1),t===!1?!1:void 0}),t===!0&&(DealerInspireInventory.log("Applying Smart Filters:",!1,!0),DealerInspireInventory.log(e,!1,!0)),t}},groupon_user_settings:function(e){var r=DealerInspireInventory;try{if("undefined"!=typeof r.options.filters.smart_filters&&r.options.filters.smart_filters.ignore_user_settings===!0)return!1;var t=r.ReadCookie("im_sidebar_user_settings"),i=[],n=[];if(e)e&&(jQuery("div.groupon-sidebar-filters .filter-heading").each(function(e,r){jQuery(this).hasClass("ui-state-active")&&n.push(jQuery(this).data("panel-filter"))}),r.CreateCookie("im_sidebar_user_settings",n.join(","),.1));else{if(i.push(jQuery("div.groupon-sidebar-filters .filter-heading:first").data("panel-filter")),"undefined"!=typeof r.options.shortcode.type&&null!==r.options.filters.settings.sidebar_groupon_open_panels){var o=jQuery.inArray("New",r.options.shortcode.type)>-1?"new":"used";if("undefined"!=typeof r.options.filters.settings.sidebar_groupon_open_panels[o]){var a=r.options.filters.settings.sidebar_groupon_open_panels[o];"none"===a?i=[]:""!==a&&(i=a.split(","))}}n=null===t||!window.location.hash&&0===i.length?i:t.split(","),n&&jQuery.each(n,function(e,r){jQuery("div.groupon-sidebar-filters .filter-heading[data-panel-filter='"+r+"']").not(".ui-state-active").trigger("click")})}}catch(s){DealerInspireInventory.log(s)}}},popovers:{init:function(){var e=DealerInspireInventory;e.popovers.set_options(),jQuery(document).on("mouseenter","[rel='popover']",function(){jQuery("[rel='popover']").not(this).popover("hide")}),jQuery("body").on("vrp-ajax-complete",function(){e.popovers.set_options()})},set_options:function(){jQuery("[rel='popover']").not(".li.ui-menu-item").popover({html:!0,trigger:"hover",container:jQuery(this).attr("id"),placement:"right",content:function(){jQueryreturn='<div class="hover-hovercard"></div>'}})}},view_toggle:{init:function(){var e=DealerInspireInventory;e.options.responsive===!0&&(jQuery(window).bind("window-resize-end",function(){DealerInspireBrowserDetection.isMobile.phone()===!0&&"gridview"===jQuery("#static-variables [name='vrp_view']").val()&&e.view_toggle.set("listview")}),jQuery("body").on("vrp-ready vrp-ajax-complete",function(){e.options.current_view=jQuery("#static-variables [name='vrp_view']").val()}))},set:function(e){var r=DealerInspireInventory;if("undefined"==typeof r.options.current_view||e!==r.options.current_view){var t=window.location.hash.match(/page=(\d+?)/);r.current_page="1"!==r.options.infinite_scrolling&&r.current_page?r.current_page:t?t[1]:1,r.options.current_view=e,"gridview"===e?(jQuery("#results-page .gridtoggle").addClass("dark-button"),jQuery("#results-page .listtoggle").removeClass("dark-button"),jQuery("#static-variables [name='vrp_view']").val("gridview")):"listview"===e&&(jQuery("#results-page .listtoggle").addClass("dark-button"),jQuery("#results-page .gridtoggle").removeClass("dark-button"),jQuery("#static-variables [name='vrp_view']").val("listview")),r.query.set_param("vrp_view"),r.query.update()&&jQuery("#results-page td.results").addClass("gridview")}}},infinite_scrolling:function(){var e=this,r="im_infinite_scrolling_target";if("1"!==e.options.infinite_scrolling)return!1;var t=jQuery("#verticalnav").length>0&&jQuery(".sitewrapper").length>0&&"auto"===jQuery(".sitewrapper").css("overflow")?jQuery(".sitewrapper"):jQuery(window),i=jQuery("#verticalnav").length>0&&jQuery(".sitewrapper").length>0?!0:!1;t.scroll(function(){var r=!1;e.ajax_in_progress===!1&&jQuery("#results-page .load-more-results").length>0&&(i===!0?jQuery(".contentcontainer").height()-t.scrollTop()<1300&&(r=!0):jQuery("#results-page td.results").hasClass("gridview")?jQuery("#results-page .load-more-results:last").offset().top-t.scrollTop()<1300&&(r=!0):jQuery("#results-page .load-more-results:last").offset().top-t.scrollTop()<800&&(r=!0),r===!0&&e.refreshed!==!0&&e.ajax_in_progress===!1&&(e.ajax_in_progress=!0,e.current_page++,e.query.update()))}),jQuery("body").on("click",".vehicle a",function(){try{var e=($(this).parents(".vehicle"),".vehicle#"+$(this).parents(".vehicle").attr("id"));DealerInspireCookie.CreateCookie(r,e,.2)}catch(t){return DealerInspireInventory.log("Infinite Scrolling Error: "+t,!1,!0),!0}}),DealerInspireInventory.refreshed===!0&&jQuery("body").on("vrp-ajax-complete",function(){try{var t=DealerInspireCookie.ReadCookie(r);if(t){if(DealerInspireBrowserDetection.isMobile.phone()===!0)var i=jQuery(t).parents("tr.visible-xs"),n=i.index("tr.visible-xs"),o=jQuery("tr.visible-xs").outerHeight();else var i=jQuery(t).parents("tr:first"),n=i.index("tr.hidden-xs"),o=jQuery("tr.hidden-xs").outerHeight();if(DealerInspireCookie.EraseCookie(r),!(i.length>0))throw t+" not found!";var a=n*o+jQuery("tr.spacer").height()*n;DealerInspireInventory.log("Infinite Scrolling: scrolling to "+t+" at offset: "+a,!1,!0),e.scrollToTop(a)}}catch(s){return DealerInspireInventory.log("Infinite Scrolling Error: "+s,!1,!0),!1}})},update_page_title:function(e){var r=this;if(1==r.current_page){if(DealerInspireBrowserDetection.isIE.eightOrLess()===!0)return!1;try{var t=jQuery(".entry-title"),i=!0,n=JSON.parse(JSON.stringify(r.url_params)),o="",a=["type[]","search","ext_color[]","ext_color_generic[]","year[]","make[]","model[]","trim[]","chrome_trim[]"];if(jQuery.each(n,function(e,r){return jQuery.inArray(e,a)>-1?void(i=!1):void 0}),i===!0)return t.html(r.options.page.post_title),jQuery("body").trigger("vrp-page-title-updated"),!1;"undefined"==typeof n["type[]"]&&jQuery("select[name='type[]']").length>0&&r.top_filters.get_value("type[]")&&(n["type[]"]=r.top_filters.get_value("type[]")),jQuery.each(a,function(e,t){"undefined"==typeof n[t]&&"undefined"!=typeof r.options.shortcode[t.replace("[]","")]&&("undefined"!=typeof n.search&&n.search&&"type[]"!==t||(n[t]=r.options.shortcode[t.replace("[]","")]))}),"undefined"!=typeof n.search&&n.search.search(/new |used |certified /i)>-1&&(n.search=n.search.replace(/new |used |certified /gi,"")),window.vrp_search_page_title_params&&vrp_search_page_title_params(n),jQuery.each(a,function(e,t){if("undefined"!=typeof n[t]){if("object"==typeof n[t]){if("trim[]"===t){if("undefined"!=typeof n["make[]"]&&n["make[]"].length>1)return;if("undefined"!=typeof n["model[]"]&&n["model[]"].length>1)return}var i="",a=[];if(jQuery.each(n[t],function(e,r){""!==r&&a.push(r)}),"undefined"!=typeof a&&a.length>0)switch(a.length){case 1:i=r.imTypeTranslate(a[0]);break;case 2:i=r.imTypeTranslate(a.join(" and "));break;default:var s=a.pop();i=r.imTypeTranslate(a.join(", ")+" and "+s)}}else if("string"==typeof n[t]){if("search"===t&&-1===n[t].search(" ")){if(r.is_vin===!0)return o="VIN: "+n[t],!1;if(r.is_stock===!0)return o="Stock: "+n[t],!1}i=n[t]}""!==i&&(o=""===o?i:o+" "+i)}}),""===o&&(o=r.options.page.post_title),window.vrp_search_page_title&&(o=vrp_search_page_title(o,n)),t.text(o),jQuery("body").trigger("vrp-page-title-updated")}catch(e){DealerInspireInventory.log(e)}}},imTypeTranslate:function(e){return jQuery("body").hasClass("lang-french")&&(e=e.replace(/and/gi,"et"),e=e.replace(/certified used/gi,"Véhicules d’occasion certifiés"),e=e.replace(/used/gi,"Véhicules d’occasion"),e=e.replace(/new/gi,"Véhicules neufs")),jQuery("body").hasClass("lang-spanish")&&(e=e.replace(/and/gi,"y"),e="Vehículos "+e,e=e.replace(/^certified used/gi,"Usados Certificado"),e=e.replace(/^used/gi,"Usados"),e=e.replace(/^new/gi,"Nuevos")),e},quicklook:{init:function(){var e=DealerInspireInventory;jQuery(document).on("click","a.quicklook",function(){var r=jQuery(this).attr("rel");return r?e.quicklook.show(r):e.alert("VIN is not defined!","Quicklook Error!"),!1})},show:function(e){var r=DealerInspireInventory;jQuery.ajax({url:r.options.ajax_url,data:{action:"im_ajax_call",perform:"quicklook",vin:e},type:"POST",dataType:"json",success:function(e){DealerInspireLightbox.open({content:e.html,height:580,width:660})}})}},grid_view:{init:function(){var e=DealerInspireInventory;jQuery("body").on("click",".vehicle-menu-toggle",function(e){$(this).parent("div.vehicle").toggleClass("menu-open")}),DealerInspireBrowserDetection.isMobile.any()===!1||e.options.responsive===!0?(DealerInspireBrowserDetection.isIE.eightOrLess()===!1&&jQuery("#results-page .vehiclebox").on({mouseenter:function(){if(jQuery(this).has(".compare-vehicle").length){var e=jQuery(this).parent().find(".vehiclebox").height()-jQuery(this).parent().find(".button-bar").height()-35;jQuery(this).parent().find(".vehicleoverlay").stop().animate({height:e})}},mouseleave:function(){jQuery(this).has(".compare-vehicle").length&&jQuery(this).parent().find(".vehicleoverlay").stop().animate({height:"0px"})}}),jQuery(".shopping-box .more-actions li").on({mouseenter:function(){var e=jQuery(this).find("a").data("shoppingtitle");jQuery(this).closest(".more-actions").find(".currentShoppingToolTitle").text(e)},mouseleave:function(){jQuery(this).closest(".more-actions").find(".currentShoppingToolTitle").text("")}})):(jQuery(".expandbutton").removeClass("compare-vehicle").text("Quick Info"),jQuery(document).on("click",".expandbutton",function(){var e=jQuery(this).parent().height()-jQuery(this).parent().find(".button-bar").height()-35;jQuery(this).hasClass("expanded")?(jQuery(this).parent().find(".vehicleoverlay").stop().animate({height:"0px",opacity:0},200),jQuery(this).css("background-image","url(/wp-content/themes/DealerInspireCommonTheme/images/quickinfoplus.png)")):(jQuery(this).parent().find(".vehicleoverlay").stop().show().animate({height:e,opacity:1},200),jQuery(this).css("background-image","url(/wp-content/themes/DealerInspireCommonTheme/images/quickinfominus.png)")),jQuery(this).toggleClass("expanded")})),jQuery(document).on("click",".vehicleoverlay :not(.shopping-box)",function(){return DealerInspireBrowserDetection.isMobile.any()!==!1||jQuery(this).is("a")||(window.location.href=jQuery(this).parents("div.vehicle").data("link")),!1}),e.grid_view.update_vehicle_grids(),jQuery("body").on("vrp-ajax-complete",function(){e.grid_view.update_vehicle_grids()})},update_vehicle_grids:function(){if(0!==jQuery(".vehicle.grid-view .vehiclebox").length){var e=0;jQuery(".vehicle.grid-view .vehiclebox .vehicle-quickstats").each(function(r,t){var i=jQuery(this).innerHeight();e=i>e?i:e}),jQuery(".vehicle.grid-view .vehiclebox .vehicle-quickstats").height(e),jQuery(".vehicle.grid-view .vehiclebox .bottom.button-bar").css({position:"absolute",bottom:0})}}},query:{to_obj:function(e,r){r=r?r:!1;var e=e?e:window.location.hash.replace("#","");if(!e)return DealerInspireInventory.url_params={action:"im_ajax_call",perform:"get_results",_post_id:DealerInspireInventory.options.page.ID},DealerInspireInventory.url_params;for(var t,i,n=decodeURI(e),o=n.split("&"),a={},s=0,l=o.length;l>s;s++)t=o[s].split("="),t.length<2||(i=t[0],i.replace(/[^0-9A-Za-z_\[\]]/gi,"").length===i.length&&(t[1]=t[1].replace(/\+/g," "),void 0===a[i]?-1!==i.search(/\[/)?(a[i]=[],a[i].push(unescape(decodeURIComponent(t[1])))):a[i]=unescape(t[1]):("string"==typeof a[i]&&(a[i]=[a[i]]),a[i].push(unescape(t[1])))));return r===!0?a:(DealerInspireInventory.url_params=a,a)},serialize:function(){var e=null===DealerInspireInventory.url_params?DealerInspireInventory.query.to_obj():DealerInspireInventory.url_params;return jQuery.param(e)},set_param:function(e,r,t){var i=DealerInspireInventory,t=t?t:!1,n=null===i.url_params?i.query.to_obj():i.url_params,o=[];if(t===!0&&r)return n[e]=r,DealerInspireInventory.url_params=n,n;if(jQuery(":input[name='"+e+"']").each(function(e,r){if(!(jQuery(r).parents("div.filters-container").length>0)){if(DealerInspireBrowserDetection.isMobile.phone()===!0&&"classic"===i.options.filters.mobile){if(jQuery(r).hasClass("mobile-filter")===!1||""===jQuery(r).val())return}else if(jQuery(r).hasClass("mobile-filter")===!0)return;if("checkbox"===r.type&&jQuery(r).is(":checked")===!0&&-1===jQuery.inArray(jQuery(r).val(),o))o.push(decodeURIComponent(jQuery(r).val()));else if("select-one"===r.type&&-1===jQuery.inArray(jQuery(r).val(),o))o.push(decodeURIComponent(jQuery(r).val()));else if("select-multiple"===r.type)for(var t in jQuery(r).val())-1===jQuery.inArray(jQuery(r).val()[t],o)&&o.push(decodeURIComponent(jQuery(r).val()[t]));else("hidden"===r.type||"text"===r.type)&&o.push(jQuery(r).val())}}),0===o.length)return void delete DealerInspireInventory.url_params[e];if(1==o.length&&-1===e.search(/\[/))return void(DealerInspireInventory.url_params[e]=o[0]);n[e]=[];for(var a in o){var s=o[a];DealerInspireBrowserDetection.isFireFox()===!0&&s.search("&")>-1&&(s=s.replace("&","_AND_")),-1===jQuery.inArray(s,n[e])&&n[e].push(s)}return DealerInspireInventory.url_params=n,n},set_page_num:function(e){return null===DealerInspireInventory.url_params&&DealerInspireInventory.query.to_obj(),DealerInspireInventory.url_params.page=e,e},get_param:function(e){return null===DealerInspireInventory.url_params&&DealerInspireInventory.query.to_obj(),DealerInspireInventory.url_params[e]?DealerInspireInventory.url_params[e]:null},delete_param:function(e){DealerInspireInventory.query.to_obj(),delete DealerInspireInventory.url_params[e]},update:function(){var e=DealerInspireInventory;e.query.set_page_num(DealerInspireInventory.current_page),"fluid"===e.options.filters.top&&e.query.set_param("show_all_filters"),"undefined"==typeof DealerInspireInventory.url_params.action&&e.query.set_param("action","im_ajax_call",!0),"undefined"==typeof DealerInspireInventory.url_params.perform&&e.query.set_param("perform","get_results",!0),
e.query.set_param("_post_id",e.options.page.ID,!0);var r=e.query.serialize();if("undefined"!=typeof DealerInspireInventory.url_params.search&&null===DealerInspireInventory.query.get_param("_no_ga")){var t=location.protocol+"//"+location.host+location.pathname,i=DealerInspireInventory.url_params.search;"object"==typeof dataLayer?dataLayer.push({event:"inventorySearch",search:i}):"undefined"!=typeof _gaq?_gaq.push(["_trackPageview",t+"?search="+i]):"undefined"!=typeof ga&&ga("send","pageview",t+"?search="+i)}window.location.hash=r}},scrollToTop:function(e){try{if(DealerInspireInventory.refreshed===!0)return;var r=["html,body","#whitewrap",".sitewrapper",".contentcontainer",".page"],t=null;if(window.vrp_scroll_target)t=vrp_scroll_target();else do{if(0==r.length)return;var i=r.pop();jQuery(i).scrollTop()>0&&(t=jQuery(i))}while(null==t);t.animate({scrollTop:e?e:jQuery(".page").offset().top},500)}catch(n){DealerInspireInventory.log(n)}},create_short_url:function(e){DealerInspireURLShortener.init(this.options.ajax_url,this.options.translate),DealerInspireURLShortener.create_short_url(e)},alert:function(e,r,t){DealerInspireModalNotification.alert(e,r,t)},translate_page:function(){if(0===jQuery("#google_translate_element").length)return!1;var e=window.location.hash?window.location.hash.replace("#",""):"",r=null;e&&null!==(r=e.match(/language=(.*?)(?=&|$)/i))&&r[1]&&(window.location.hash=e.replace("language="+r[1],""),jQuery(window).load(function(){jQuery(".goog-te-menu-frame").contents().find('.goog-te-menu2-item span.text:contains("'+r[1]+'")').click()}))},disable_all_filters:function(){var e,r=document.getElementById("results-page"),t=["input","select"];if(null!==typeof r)for(var i in t)if("string"==typeof t[i]){var n=t[i].indexOf("\\.")>-1?r.getElementsByTagName(t[i]):r.getElementsByTagName(t[i]);for(e=0;e<n.length;e++)n[e].disabled=!0}"undefined"!=typeof jQuery&&(clearInterval(this.timers.disable_filters_timer),delete this.timers.disable_filters_timer,jQuery("#results-page :input").removeAttr("disabled"))},isIE:{any:function(){return DealerInspireBrowserDetection.isIE.any()},eightOrLess:function(){return DealerInspireBrowserDetection.isIE.eightOrLess()},nineOrLess:function(){return DealerInspireBrowserDetection.isIE.nineOrLess()}},isMobile:{Android:function(){return DealerInspireBrowserDetection.isMobile.Android()},BlackBerry:function(){return DealerInspireBrowserDetection.isMobile.BlackBerry()},iOS:function(){return DealerInspireBrowserDetection.isMobile.iOS()},Windows:function(){return DealerInspireBrowserDetection.isMobile.Windows()},any:function(){return DealerInspireBrowserDetection.isMobile.any()},tablet:function(){return DealerInspireBrowserDetection.isMobile.tablet()},phone:function(){return DealerInspireBrowserDetection.isMobile.phone()}},log:function(e,r,t){if("undefined"!=typeof console){if(t="undefined"!=typeof t?t:!1,r="undefined"!=typeof r?r:!0,t===!0&&"1"!==DealerInspireInventory.options.is_user_logged_in)return!1;if(r){var i=new Date,n=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+" ";console.log(n+e)}else console.log(e)}},format:{number:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},currency:function(e){return"$"+this.number(e)},escape:function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}},CreateCookie:function(e,r,t){DealerInspireCookie.CreateCookie(e,r,t)},ReadCookie:function(e){return DealerInspireCookie.ReadCookie(e)},EraseCookie:function(e){DealerInspireCookie.EraseCookie(e)}};DealerInspireInventory.init();