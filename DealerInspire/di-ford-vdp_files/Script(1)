function s_doPlugins(n){var t=s_gi(n.fun),i=DIL.create({partner:"cam",containerNSID:124,mappings:{c_zip:"d_zc"},uuidCookie:{name:"aam_uuid",days:30}});DIL.modules.siteCatalyst.init(t,i,{names:["pageName","channel","campaign","products","events","pe","referrer","server","purchaseID","zip","state"],iteratedNames:[{name:"eVar",maxIndex:75},{name:"prop",maxIndex:75},{name:"pev",maxIndex:3},{name:"hier",maxIndex:4}]})}function s_gi(n,t,i){var e="s.version='H.25.2';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(s.rep(m,\"\\\\\",\"\\\\\\\\\"),\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this;if(x){x=s.rep(''+x,'+',' ');return s.em==3?decodeURIComponent(x):unescape(x)}return x};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){while(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+(un),im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr()}',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';v=s.fl(v,255)}else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.substring(0,1)!='#'&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"click\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;s.t();s.eo=0;if(s.nrs>0&&s.useForcedLinkTracking&&e.target){t=e.target.target;if(e.target.dispatchEvent&&(!t||t==\\'_self\\'||t==\\'_top\\'||(s.wd.name&&t==s.wd.name))){e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();n=s.d.createEvent(\"MouseEvents\");n.initMouseEvent(\"click\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);n.s_fe=1;s.bct=e.target;s.bce=n;}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}else s.dl(vo);if(vo)s.voa(vb,1);s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='timestamp,dynamicVariablePrefix,visitorID,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",u=window,l=u.s_c_il,v=navigator,a=v.userAgent,h=v.appVersion,y=h.indexOf("MSIE "),p=a.indexOf("Netscape6/"),o,f,c,s,r;if(n&&(n=n.toLowerCase(),l))for(c=0;c<2;c++)for(f=0;f<l.length;f++)if(r=l[f],s=r._c,(!s||s=="s_c"||c>0&&s=="s_l")&&(r.oun==n||r.fs&&r.sa&&r.fs(r.oun,n))){if(r.sa&&r.sa(n),s=="s_c")return r}else r=0;return u.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a"),u.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x"),u.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)"),u.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x"),u.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")"),u.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a"),u.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;"),e=s_d(e),y>0?(o=parseInt(f=h.substring(y+5)),o>3&&(o=parseFloat(f))):o=p>0?parseFloat(a.substring(p+10)):parseFloat(h),(o<5||h.indexOf("Opera")>=0||a.indexOf("Opera")>=0)&&(e=s_ft(e)),r||(r={},u.s_c_in||(u.s_c_il=[],u.s_c_in=0),r._il=u.s_c_il,r._in=u.s_c_in,r._il[r._in]=r,u.s_c_in++),r._c="s_c",new Function("s","un","pg","ss",e)(r,n,t,i),r}function s_giqf(){var u=window,i=u.s_giq,n,t,r;if(i)for(n=0;n<i.length;n++)t=i[n],r=s_gi(t.oun),r.sa(t.un),r.setTagContainer(t.tagContainerName);u.s_giq=0}var MarketReport,globalVersion,s,s_code,s_objectID,KBB;this.createjs=this.createjs||{},function(){var n=function(){throw"UID cannot be instantiated";};n._nextID=0;n.get=function(){return n._nextID++};createjs.UID=n}();this.createjs=this.createjs||{},function(){var n=function(){throw"Ticker cannot be instantiated.";},t;n.useRAF=null;n._listeners=null;n._pauseable=null;n._paused=!1;n._inited=!1;n._startTime=0;n._pausedTime=0;n._ticks=0;n._pausedTicks=0;n._interval=50;n._lastTime=0;n._times=null;n._tickTimes=null;n._rafActive=!1;n._timeoutID=null;n.addListener=function(t,i){t!=null&&(n._inited||n.init(),n.removeListener(t),n._pauseable[n._listeners.length]=i==null?!0:i,n._listeners.push(t))};n.init=function(){n._inited=!0;n._times=[];n._tickTimes=[];n._pauseable=[];n._listeners=[];n._times.push(n._lastTime=n._startTime=n._getTime());n.setInterval(n._interval)};n.removeListener=function(t){var i=n._listeners;i&&(t=i.indexOf(t),t!=-1&&(i.splice(t,1),n._pauseable.splice(t,1)))};n.removeAllListeners=function(){n._listeners=[];n._pauseable=[]};n.setInterval=function(t){n._interval=t;n._inited&&n._setupTick()};n.getInterval=function(){return n._interval};n.setFPS=function(t){n.setInterval(1e3/t)};n.getFPS=function(){return 1e3/n._interval};n.getMeasuredFPS=function(t){return n._times.length<2?-1:(t==null&&(t=n.getFPS()|0),t=Math.min(n._times.length-1,t),1e3/((n._times[0]-n._times[t])/t))};n.setPaused=function(t){n._paused=t};n.getPaused=function(){return n._paused};n.getTime=function(t){return n._getTime()-n._startTime-(t?n._pausedTime:0)};n.getTicks=function(t){return n._ticks-(t?n._pausedTicks:0)};n._handleAF=function(){n._rafActive=!1;n._setupTick();n._getTime()-n._lastTime>=(n._interval-1)*.97&&n._tick()};n._handleTimeout=function(){n.timeoutID=null;n._setupTick();n._tick()};n._setupTick=function(){if(!(n._rafActive||n.timeoutID!=null)){if(n.useRAF){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t){t(n._handleAF);n._rafActive=!0;return}}n.timeoutID=setTimeout(n._handleTimeout,n._interval)}};n._tick=function(){var r=n._getTime(),u,i,t;n._ticks++;u=r-n._lastTime;i=n._paused;i&&(n._pausedTicks++,n._pausedTime+=u);n._lastTime=r;for(var o=n._pauseable,e=n._listeners.slice(),s=e?e.length:0,f=0;f<s;f++)t=e[f],t==null||i&&o[f]||(t.tick?t.tick(u,i):t instanceof Function&&t(u,i));for(n._tickTimes.unshift(n._getTime()-r);n._tickTimes.length>100;)n._tickTimes.pop();for(n._times.unshift(r);n._times.length>100;)n._times.pop()};t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);n._getTime=function(){return t&&t.call(performance)||(new Date).getTime()};createjs.Ticker=n}();this.createjs=this.createjs||{},function(){var t=function(n,t,i,r,u,f,e,o,s){this.initialize(n,t,i,r,u,f,e,o,s)},n=t.prototype;n.stageX=0;n.stageY=0;n.rawX=0;n.rawY=0;n.type=null;n.nativeEvent=null;n.onMouseMove=null;n.onMouseUp=null;n.target=null;n.pointerID=0;n.primary=!1;n.initialize=function(n,t,i,r,u,f,e,o,s){this.type=n;this.stageX=t;this.stageY=i;this.target=r;this.nativeEvent=u;this.pointerID=f;this.primary=e;this.rawX=o==null?t:o;this.rawY=s==null?i:s};n.clone=function(){return new t(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};n.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=t}();this.createjs=this.createjs||{},function(){var t=function(n,t,i,r,u,f){this.initialize(n,t,i,r,u,f)},n=t.prototype;t.identity=null;t.DEG_TO_RAD=Math.PI/180;n.a=1;n.b=0;n.c=0;n.d=1;n.tx=0;n.ty=0;n.alpha=1;n.shadow=null;n.compositeOperation=null;n.initialize=function(n,t,i,r,u,f){return n!=null&&(this.a=n),this.b=t||0,this.c=i||0,r!=null&&(this.d=r),this.tx=u||0,this.ty=f||0,this};n.prepend=function(n,t,i,r,u,f){var s=this.tx,e,o;return(n!=1||t!=0||i!=0||r!=1)&&(e=this.a,o=this.c,this.a=e*n+this.b*i,this.b=e*t+this.b*r,this.c=o*n+this.d*i,this.d=o*t+this.d*r),this.tx=s*n+this.ty*i+u,this.ty=s*t+this.ty*r+f,this};n.append=function(n,t,i,r,u,f){var e=this.a,o=this.b,s=this.c,h=this.d;return this.a=n*e+t*s,this.b=n*o+t*h,this.c=i*e+r*s,this.d=i*o+r*h,this.tx=u*e+f*s+this.tx,this.ty=u*o+f*h+this.ty,this};n.prependMatrix=function(n){return this.prepend(n.a,n.b,n.c,n.d,n.tx,n.ty),this.prependProperties(n.alpha,n.shadow,n.compositeOperation),this};n.appendMatrix=function(n){return this.append(n.a,n.b,n.c,n.d,n.tx,n.ty),this.appendProperties(n.alpha,n.shadow,n.compositeOperation),this};n.prependTransform=function(n,i,r,u,f,e,o,s,h){if(f%360)var c=f*t.DEG_TO_RAD,f=Math.cos(c),c=Math.sin(c);else f=1,c=0;return(s||h)&&(this.tx-=s,this.ty-=h),e||o?(e*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.prepend(f*r,c*r,-c*u,f*u,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(e),Math.cos(e),n,i)):this.prepend(f*r,c*r,-c*u,f*u,n,i),this};n.appendTransform=function(n,i,r,u,f,e,o,s,h){if(f%360)var c=f*t.DEG_TO_RAD,f=Math.cos(c),c=Math.sin(c);else f=1,c=0;return e||o?(e*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(e),Math.cos(e),n,i),this.append(f*r,c*r,-c*u,f*u,0,0)):this.append(f*r,c*r,-c*u,f*u,n,i),(s||h)&&(this.tx-=s*this.a+h*this.c,this.ty-=s*this.b+h*this.d),this};n.rotate=function(n){var t=Math.cos(n),n=Math.sin(n),i=this.a,r=this.c,u=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=r*t-this.d*n,this.d=r*n+this.d*t,this.tx=u*t-this.ty*n,this.ty=u*n+this.ty*t,this};n.skew=function(n,i){return n*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(n),Math.cos(n),0,0),this};n.scale=function(n,t){return this.a*=n,this.d*=t,this.tx*=n,this.ty*=t,this};n.translate=function(n,t){return this.tx+=n,this.ty+=t,this};n.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this};n.invert=function(){var t=this.a,i=this.b,r=this.c,u=this.d,f=this.tx,n=t*u-i*r;return this.a=u/n,this.b=-i/n,this.c=-r/n,this.d=t/n,this.tx=(r*this.ty-u*f)/n,this.ty=-(t*this.ty-i*f)/n,this};n.isIdentity=function(){return this.tx==0&&this.ty==0&&this.a==1&&this.b==0&&this.c==0&&this.d==1};n.decompose=function(n){n==null&&(n={});n.x=this.tx;n.y=this.ty;n.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);n.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var r=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a);return r==i?(n.rotation=i/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(n.rotation+=n.rotation<=0?180:-180),n.skewX=n.skewY=0):(n.skewX=r/t.DEG_TO_RAD,n.skewY=i/t.DEG_TO_RAD),n};n.reinitialize=function(n,t,i,r,u,f,e,o,s){return this.initialize(n,t,i,r,u,f),this.alpha=e||1,this.shadow=o,this.compositeOperation=s,this};n.appendProperties=function(n,t,i){return this.alpha*=n,this.shadow=t||this.shadow,this.compositeOperation=i||this.compositeOperation,this};n.prependProperties=function(n,t,i){return this.alpha*=n,this.shadow=this.shadow||t,this.compositeOperation=this.compositeOperation||i,this};n.clone=function(){var n=new t(this.a,this.b,this.c,this.d,this.tx,this.ty);return n.shadow=this.shadow,n.alpha=this.alpha,n.compositeOperation=this.compositeOperation,n};n.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};t.identity=new t(1,0,0,1,0,0);createjs.Matrix2D=t}();this.createjs=this.createjs||{},function(){var t=function(n,t){this.initialize(n,t)},n=t.prototype;n.x=0;n.y=0;n.initialize=function(n,t){this.x=n==null?0:n;this.y=t==null?0:t};n.clone=function(){return new t(this.x,this.y)};n.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=t}();this.createjs=this.createjs||{},function(){var t=function(n,t,i,r){this.initialize(n,t,i,r)},n=t.prototype;n.x=0;n.y=0;n.width=0;n.height=0;n.initialize=function(n,t,i,r){this.x=n==null?0:n;this.y=t==null?0:t;this.width=i==null?0:i;this.height=r==null?0:r};n.clone=function(){return new t(this.x,this.y,this.width,this.height)};n.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=t}();this.createjs=this.createjs||{},function(){var t=function(n,t,i,r){this.initialize(n,t,i,r)},n=t.prototype;t.identity=null;n.color=null;n.offsetX=0;n.offsetY=0;n.blur=0;n.initialize=function(n,t,i,r){this.color=n;this.offsetX=t;this.offsetY=i;this.blur=r};n.toString=function(){return"[Shadow]"};n.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)};t.identity=new t("transparent",0,0,0);createjs.Shadow=t}();this.createjs=this.createjs||{},function(){var t=function(n){this.initialize(n)},n=t.prototype;n.complete=!0;n.onComplete=null;n._animations=null;n._frames=null;n._images=null;n._data=null;n._loadCount=0;n._frameHeight=0;n._frameWidth=0;n._numFrames=0;n._regX=0;n._regY=0;n.initialize=function(n){var i,r,u,t,f,e;if(n!=null){if(n.images&&(r=n.images.length)>0)for(u=this._images=[],i=0;i<r;i++)f=n.images[i],typeof f=="string"&&(t=f,f=new Image,f.src=t),u.push(f),f.getContext||f.complete||(this._loadCount++,this.complete=!1,function(n){f.onload=function(){n._handleImageLoad()}}(this));if(n.frames!=null)if(n.frames instanceof Array)for(this._frames=[],u=n.frames,i=0,r=u.length;i<r;i++)t=u[i],this._frames.push({image:this._images[t[4]?t[4]:0],rect:new createjs.Rectangle(t[0],t[1],t[2],t[3]),regX:t[5]||0,regY:t[6]||0});else r=n.frames,this._frameWidth=r.width,this._frameHeight=r.height,this._regX=r.regX||0,this._regY=r.regY||0,this._numFrames=r.count,this._loadCount==0&&this._calculateFrames();if((r=n.animations)!=null){this._animations=[];this._data={};for(e in r){if(n={name:e},t=r[e],isNaN(t))if(t instanceof Array)for(n.frequency=t[3],n.next=t[2],u=n.frames=[],i=t[0];i<=t[1];i++)u.push(i);else n.frequency=t.frequency,n.next=t.next,i=t.frames,u=n.frames=isNaN(i)?i.slice(0):[i];else u=n.frames=[t];n.next=u.length<2||n.next==!1?null:n.next==null||n.next==!0?e:n.next;n.frequency||(n.frequency=1);this._animations.push(e);this._data[e]=n}}}};n.getNumFrames=function(n){return n==null?this._frames?this._frames.length:this._numFrames:(n=this._data[n],n==null?0:n.frames.length)};n.getAnimations=function(){return this._animations.slice(0)};n.getAnimation=function(n){return this._data[n]};n.getFrame=function(n){return this.complete&&this._frames&&(frame=this._frames[n])?frame:null};n.toString=function(){return"[SpriteSheet]"};n.clone=function(){var n=new t;return n.complete=this.complete,n._animations=this._animations,n._frames=this._frames,n._images=this._images,n._data=this._data,n._frameHeight=this._frameHeight,n._frameWidth=this._frameWidth,n._numFrames=this._numFrames,n._loadCount=this._loadCount,n};n._handleImageLoad=function(){--this._loadCount==0&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete())};n._calculateFrames=function(){if(!(this._frames||this._frameWidth==0)){this._frames=[];for(var r=0,u=this._frameWidth,f=this._frameHeight,e=0,s=this._images;e<s.length;e++){for(var o=s[e],n=(o.width+1)/u|0,t=(o.height+1)/f|0,t=this._numFrames>0?Math.min(this._numFrames-r,n*t):n*t,i=0;i<t;i++)this._frames.push({image:o,rect:new createjs.Rectangle(i%n*u,(i/n|0)*f,u,f),regX:this._regX,regY:this._regY});r+=t}this._numFrames=r}};createjs.SpriteSheet=t}();this.createjs=this.createjs||{},function(){function t(n,t,i){this.f=n;this.params=t;this.path=i==null?!0:i}t.prototype.exec=function(n){this.f.apply(n,this.params)};var i=function(){this.initialize()},n=i.prototype;i.getRGB=function(n,t,i,r){return n!=null&&i==null&&(r=t,i=n&255,t=n>>8&255,n=n>>16&255),r==null?"rgb("+n+","+t+","+i+")":"rgba("+n+","+t+","+i+","+r+")"};i.getHSL=function(n,t,i,r){return r==null?"hsl("+n%360+","+t+"%,"+i+"%)":"hsla("+n%360+","+t+"%,"+i+"%,"+r+")"};i.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};i.STROKE_CAPS_MAP=["butt","round","square"];i.STROKE_JOINTS_MAP=["miter","round","bevel"];i._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");i.beginCmd=new t(i._ctx.beginPath,[],!1);i.fillCmd=new t(i._ctx.fill,[],!1);i.strokeCmd=new t(i._ctx.stroke,[],!1);n._strokeInstructions=null;n._strokeStyleInstructions=null;n._fillInstructions=null;n._instructions=null;n._oldInstructions=null;n._activeInstructions=null;n._active=!1;n._dirty=!1;n.initialize=function(){this.clear();this._ctx=i._ctx};n.draw=function(n){this._dirty&&this._updateInstructions();for(var i=this._instructions,t=0,r=i.length;t<r;t++)i[t].exec(n)};n.drawAsPath=function(n){this._dirty&&this._updateInstructions();for(var i,r=this._instructions,t=0,u=r.length;t<u;t++)((i=r[t]).path||t==0)&&i.exec(n)};n.moveTo=function(n,i){return this._activeInstructions.push(new t(this._ctx.moveTo,[n,i])),this};n.lineTo=function(n,i){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.lineTo,[n,i])),this};n.arcTo=function(n,i,r,u,f){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.arcTo,[n,i,r,u,f])),this};n.arc=function(n,i,r,u,f,e){return this._dirty=this._active=!0,e==null&&(e=!1),this._activeInstructions.push(new t(this._ctx.arc,[n,i,r,u,f,e])),this};n.quadraticCurveTo=function(n,i,r,u){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.quadraticCurveTo,[n,i,r,u])),this};n.bezierCurveTo=function(n,i,r,u,f,e){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.bezierCurveTo,[n,i,r,u,f,e])),this};n.rect=function(n,i,r,u){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.rect,[n,i,r,u])),this};n.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new t(this._ctx.closePath,[]))),this};n.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null,this._active=this._dirty=!1,this};n.beginFill=function(n){return this._active&&this._newPath(),this._fillInstructions=n?[new t(this._setProp,["fillStyle",n],!1)]:null,this};n.beginLinearGradientFill=function(n,i,r,u,f,e){for(this._active&&this._newPath(),r=this._ctx.createLinearGradient(r,u,f,e),u=0,f=n.length;u<f;u++)r.addColorStop(i[u],n[u]);return this._fillInstructions=[new t(this._setProp,["fillStyle",r],!1)],this};n.beginRadialGradientFill=function(n,i,r,u,f,e,o,s){for(this._active&&this._newPath(),r=this._ctx.createRadialGradient(r,u,f,e,o,s),u=0,f=n.length;u<f;u++)r.addColorStop(i[u],n[u]);return this._fillInstructions=[new t(this._setProp,["fillStyle",r],!1)],this};n.beginBitmapFill=function(n,i){this._active&&this._newPath();var r=this._ctx.createPattern(n,i||"");return this._fillInstructions=[new t(this._setProp,["fillStyle",r],!1)],this};n.endFill=function(){return this.beginFill()};n.setStrokeStyle=function(n,r,u,f){return this._active&&this._newPath(),this._strokeStyleInstructions=[new t(this._setProp,["lineWidth",n==null?"1":n],!1),new t(this._setProp,["lineCap",r==null?"butt":isNaN(r)?r:i.STROKE_CAPS_MAP[r]],!1),new t(this._setProp,["lineJoin",u==null?"miter":isNaN(u)?u:i.STROKE_JOINTS_MAP[u]],!1),new t(this._setProp,["miterLimit",f==null?"10":f],!1)],this};n.beginStroke=function(n){return this._active&&this._newPath(),this._strokeInstructions=n?[new t(this._setProp,["strokeStyle",n],!1)]:null,this};n.beginLinearGradientStroke=function(n,i,r,u,f,e){for(this._active&&this._newPath(),r=this._ctx.createLinearGradient(r,u,f,e),u=0,f=n.length;u<f;u++)r.addColorStop(i[u],n[u]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",r],!1)],this};n.beginRadialGradientStroke=function(n,i,r,u,f,e,o,s){for(this._active&&this._newPath(),r=this._ctx.createRadialGradient(r,u,f,e,o,s),u=0,f=n.length;u<f;u++)r.addColorStop(i[u],n[u]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",r],!1)],this};n.beginBitmapStroke=function(n,i){this._active&&this._newPath();var r=this._ctx.createPattern(n,i||"");return this._strokeInstructions=[new t(this._setProp,["strokeStyle",r],!1)],this};n.endStroke=function(){return this.beginStroke(),this};n.curveTo=n.quadraticCurveTo;n.drawRect=n.rect;n.drawRoundRect=function(n,t,i,r,u){return this.drawRoundRectComplex(n,t,i,r,u,u,u,u),this};n.drawRoundRectComplex=function(n,i,r,u,f,e,o,s){var h=(r<u?r:u)/2,l=0,a=0,v=0,y=0,c;return f<0&&(f*=l=-1),f>h&&(f=h),e<0&&(e*=a=-1),e>h&&(e=h),o<0&&(o*=v=-1),o>h&&(o=h),s<0&&(s*=y=-1),s>h&&(s=h),this._dirty=this._active=!0,h=this._ctx.arcTo,c=this._ctx.lineTo,this._activeInstructions.push(new t(this._ctx.moveTo,[n+r-e,i]),new t(h,[n+r+e*a,i-e*a,n+r,i+e,e]),new t(c,[n+r,i+u-o]),new t(h,[n+r+o*v,i+u+o*v,n+r-o,i+u,o]),new t(c,[n+s,i+u]),new t(h,[n-s*y,i+u+s*y,n,i+u-s,s]),new t(c,[n,i+f]),new t(h,[n-f*l,i-f*l,n+f,i,f]),new t(this._ctx.closePath)),this};n.drawCircle=function(n,t,i){return this.arc(n,t,i,0,Math.PI*2),this};n.drawEllipse=function(n,i,r,u){this._dirty=this._active=!0;var f=r/2*.5522848,e=u/2*.5522848,o=n+r,s=i+u,r=n+r/2,u=i+u/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[n,u]),new t(this._ctx.bezierCurveTo,[n,u-e,r-f,i,r,i]),new t(this._ctx.bezierCurveTo,[r+f,i,o,u-e,o,u]),new t(this._ctx.bezierCurveTo,[o,u+e,r+f,s,r,s]),new t(this._ctx.bezierCurveTo,[r-f,s,n,u+e,n,u])),this};n.drawPolyStar=function(n,i,r,u,f,e){var o,s;for(this._dirty=this._active=!0,f==null&&(f=0),f=1-f,e==null?e=0:e/=180/Math.PI,o=Math.PI/u,this._activeInstructions.push(new t(this._ctx.moveTo,[n+Math.cos(e)*r,i+Math.sin(e)*r])),s=0;s<u;s++)e+=o,f!=1&&this._activeInstructions.push(new t(this._ctx.lineTo,[n+Math.cos(e)*r*f,i+Math.sin(e)*r*f])),e+=o,this._activeInstructions.push(new t(this._ctx.lineTo,[n+Math.cos(e)*r,i+Math.sin(e)*r]));return this};n.decodePath=function(n){for(var a=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo],v=[2,2,4,6],r=0,y=n.length,s=[],h=0,c=0,e=i.BASE_64;r<y;){var o=n.charAt(r),f=e[o],u=f>>3,l=a[u];if(!l||f&3)throw"bad path data (@"+r+"): "+o;for(o=v[u],u||(h=c=0),s.length=0,r++,f=(f>>2&1)+2,u=0;u<o;u++){var t=e[n.charAt(r)],p=t>>5?-1:1,t=(t&31)<<6|e[n.charAt(r+1)];f==3&&(t=t<<6|e[n.charAt(r+2)]);t=p*t/10;u%2?h=t+=h:c=t+=c;s[u]=t;r+=f}l.apply(this,s)}return this};n.clone=function(){var n=new i;return n._instructions=this._instructions.slice(),n._activeInstructions=this._activeInstructions.slice(),n._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(n._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(n._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(n._strokeStyleInstructions=this._strokeStyleInstructions.slice()),n._active=this._active,n._dirty=this._dirty,n.drawAsPath=this.drawAsPath,n};n.toString=function(){return"[Graphics]"};n.mt=n.moveTo;n.lt=n.lineTo;n.at=n.arcTo;n.bt=n.bezierCurveTo;n.qt=n.quadraticCurveTo;n.a=n.arc;n.r=n.rect;n.cp=n.closePath;n.c=n.clear;n.f=n.beginFill;n.lf=n.beginLinearGradientFill;n.rf=n.beginRadialGradientFill;n.bf=n.beginBitmapFill;n.ef=n.endFill;n.ss=n.setStrokeStyle;n.s=n.beginStroke;n.ls=n.beginLinearGradientStroke;n.rs=n.beginRadialGradientStroke;n.bs=n.beginBitmapStroke;n.es=n.endStroke;n.dr=n.drawRect;n.rr=n.drawRoundRect;n.rc=n.drawRoundRectComplex;n.dc=n.drawCircle;n.de=n.drawEllipse;n.dp=n.drawPolyStar;n.p=n.decodePath;n._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(i.beginCmd);this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions);this._strokeInstructions&&(this._instructions.push.apply(this._instructions,this._strokeInstructions),this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions));this._instructions.push.apply(this._instructions,this._activeInstructions);this._fillInstructions&&this._instructions.push(i.fillCmd);this._strokeInstructions&&this._instructions.push(i.strokeCmd)};n._getEllipseArc=function(n,i,r,u){var f=r/2*.5522848,e=u/2*.5522848,o=n+r,s=i+u,r=n+r/2,u=i+u/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[n,u]),new t(this._ctx.bezierCurveTo,[n,u-e,r-f,i,r,i]),new t(this._ctx.bezierCurveTo,[r+f,i,o,u-e,o,u]),new t(this._ctx.bezierCurveTo,[o,u+e,r+f,s,r,s]),new t(this._ctx.bezierCurveTo,[r-f,s,n,u+e,n,u])),this};n._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};n._setProp=function(n,t){this[n]=t};createjs.Graphics=i}();this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},n=t.prototype;t.suppressCrossDomainErrors=!1;t._hitTestCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t._hitTestCanvas.width=t._hitTestCanvas.height=1;t._hitTestContext=t._hitTestCanvas.getContext("2d");t._nextCacheID=1;n.alpha=1;n.cacheCanvas=null;n.id=-1;n.mouseEnabled=!0;n.name=null;n.parent=null;n.regX=0;n.regY=0;n.rotation=0;n.scaleX=1;n.scaleY=1;n.skewX=0;n.skewY=0;n.shadow=null;n.visible=!0;n.x=0;n.y=0;n.compositeOperation=null;n.snapToPixel=!1;n.onPress=null;n.onClick=null;n.onDoubleClick=null;n.onMouseOver=null;n.onMouseOut=null;n.onTick=null;n.filters=null;n.cacheID=0;n.mask=null;n.hitArea=null;n._cacheOffsetX=0;n._cacheOffsetY=0;n._cacheScale=1;n._cacheDataURLID=0;n._cacheDataURL=null;n._matrix=null;n.initialize=function(){this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D};n.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0};n.draw=function(n,t){var i=this.cacheCanvas,r;return t||!i?!1:(r=this._cacheScale,n.drawImage(i,this._cacheOffsetX,this._cacheOffsetY,i.width/r,i.height/r),!0)};n.updateContext=function(n){var t,i=this.mask;i&&i.graphics&&(t=i.getMatrix(i._matrix),n.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),i.graphics.drawAsPath(n),n.clip(),t.invert(),n.transform(t.a,t.b,t.c,t.d,t.tx,t.ty));t=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?n.transform(t.a,t.b,t.c,t.d,t.tx+.5|0,t.ty+.5|0):n.transform(t.a,t.b,t.c,t.d,t.tx,t.ty);n.globalAlpha*=this.alpha;this.compositeOperation&&(n.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(n,this.shadow)};n.cache=function(n,t,i,r,u){u=u||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this.cacheCanvas.width=Math.ceil(i*u);this.cacheCanvas.height=Math.ceil(r*u);this._cacheOffsetX=n;this._cacheOffsetY=t;this._cacheScale=u||1;this.updateCache()};n.updateCache=function(n){var r=this.cacheCanvas,f=this._cacheOffsetX,e=this._cacheOffsetY,u=this._cacheScale,i;if(!r)throw"cache() must be called before updateCache()";i=r.getContext("2d");i.save();n||i.clearRect(0,0,r.width,r.height);i.globalCompositeOperation=n;i.setTransform(u,0,0,u,-f,-e);this.draw(i,!0);this._applyFilters();i.restore();this.cacheID=t._nextCacheID++};n.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};n.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};n.getStage=function(){for(var n=this;n.parent;)n=n.parent;return n instanceof createjs.Stage?n:null};n.localToGlobal=function(n,t){var i=this.getConcatenatedMatrix(this._matrix);return i==null?null:(i.append(1,0,0,1,n,t),new createjs.Point(i.tx,i.ty))};n.globalToLocal=function(n,t){var i=this.getConcatenatedMatrix(this._matrix);return i==null?null:(i.invert(),i.append(1,0,0,1,n,t),new createjs.Point(i.tx,i.ty))};n.localToLocal=function(n,t,i){return n=this.localToGlobal(n,t),i.globalToLocal(n.x,n.y)};n.setTransform=function(n,t,i,r,u,f,e,o,s){return this.x=n||0,this.y=t||0,this.scaleX=i==null?1:i,this.scaleY=r==null?1:r,this.rotation=u||0,this.skewX=f||0,this.skewY=e||0,this.regX=o||0,this.regY=s||0,this};n.getMatrix=function(n){return(n?n.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};n.getConcatenatedMatrix=function(n){n?n.identity():n=new createjs.Matrix2D;for(var t=this;t!=null;)n.prependTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY).prependProperties(t.alpha,t.shadow,t.compositeOperation),t=t.parent;return n};n.hitTest=function(n,i){var r=t._hitTestContext,u=t._hitTestCanvas;return r.setTransform(1,0,0,1,-n,-i),this.draw(r),r=this._testHit(r),u.width=0,u.width=1,r};n.clone=function(){var n=new t;return this.cloneProps(n),n};n.toString=function(){return"[DisplayObject (name="+this.name+")]"};n.cloneProps=function(n){n.alpha=this.alpha;n.name=this.name;n.regX=this.regX;n.regY=this.regY;n.rotation=this.rotation;n.scaleX=this.scaleX;n.scaleY=this.scaleY;n.shadow=this.shadow;n.skewX=this.skewX;n.skewY=this.skewY;n.visible=this.visible;n.x=this.x;n.y=this.y;n.mouseEnabled=this.mouseEnabled;n.compositeOperation=this.compositeOperation;this.cacheCanvas&&(n.cacheCanvas=this.cacheCanvas.cloneNode(!0),n.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))};n._applyShadow=function(n,t){t=t||Shadow.identity;n.shadowColor=t.color;n.shadowOffsetX=t.offsetX;n.shadowOffsetY=t.offsetY;n.shadowBlur=t.blur};n._tick=function(n){this.onTick&&(n?this.onTick.apply(this,n):this.onTick())};n._testHit=function(n){try{var i=n.getImageData(0,0,1,1).data[3]>1}catch(r){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return i};n._applyFilters=function(){if(this.filters&&this.filters.length!=0&&this.cacheCanvas)for(var t=this.filters.length,i=this.cacheCanvas.getContext("2d"),r=this.cacheCanvas.width,u=this.cacheCanvas.height,n=0;n<t;n++)this.filters[n].applyFilter(i,0,0,r,u)};createjs.DisplayObject=t}();this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},n=t.prototype=new createjs.DisplayObject;n.children=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(){this.DisplayObject_initialize();this.children=[]};n.isVisible=function(){return this.visible&&this.alpha>0&&this.children.length&&this.scaleX!=0&&this.scaleY!=0};n.DisplayObject_draw=n.draw;n.draw=function(n,t){var i;if(this.DisplayObject_draw(n,t))return!0;for(var u=this.children.slice(0),r=0,f=u.length;r<f;r++)i=u[r],i.isVisible()&&(n.save(),i.updateContext(n),i.draw(n),n.restore());return!0};n.addChild=function(n){var t,i;if(n==null)return n;if(t=arguments.length,t>1){for(i=0;i<t;i++)this.addChild(arguments[i]);return arguments[t-1]}return n.parent&&n.parent.removeChild(n),n.parent=this,this.children.push(n),n};n.addChildAt=function(n,t){var i=arguments.length,u=arguments[i-1],r;if(u<0||u>this.children.length)return arguments[i-2];if(i>2){for(r=0;r<i-1;r++)this.addChildAt(arguments[r],u+r);return arguments[i-2]}return n.parent&&n.parent.removeChild(n),n.parent=this,this.children.splice(t,0,n),n};n.removeChild=function(n){var r=arguments.length,t,i;if(r>1){for(t=!0,i=0;i<r;i++)t=t&&this.removeChild(arguments[i]);return t}return this.removeChildAt(this.children.indexOf(n))};n.removeChildAt=function(n){var i=arguments.length,r,u,t;if(i>1){for(r=[],t=0;t<i;t++)r[t]=arguments[t];for(r.sort(function(n,t){return t-n}),u=!0,t=0;t<i;t++)u=u&&this.removeChildAt(r[t]);return u}return n<0||n>this.children.length-1?!1:((i=this.children[n])&&(i.parent=null),this.children.splice(n,1),!0)};n.removeAllChildren=function(){for(var n=this.children;n.length;)n.pop().parent=null};n.getChildAt=function(n){return this.children[n]};n.sortChildren=function(n){this.children.sort(n)};n.getChildIndex=function(n){return this.children.indexOf(n)};n.getNumChildren=function(){return this.children.length};n.swapChildrenAt=function(n,t){var i=this.children,r=i[n],u=i[t];r&&u&&(i[n]=u,i[t]=r)};n.swapChildren=function(n,t){for(var r=this.children,u,f,i=0,e=r.length;i<e;i++)if(r[i]==n&&(u=i),r[i]==t&&(f=i),u!=null&&f!=null)break;i!=e&&(r[u]=t,r[f]=n)};n.setChildIndex=function(n,t){var r=this.children,u=r.length,i;if(!(n.parent!=this||t<0||t>=u)){for(i=0;i<u;i++)if(r[i]==n)break;i==u||i==t||(r.splice(i,1),t<i&&t--,r.splice(t,0,n))}};n.contains=function(n){for(;n;){if(n==this)return!0;n=n.parent}return!1};n.hitTest=function(n,t){return this.getObjectUnderPoint(n,t)!=null};n.getObjectsUnderPoint=function(n,t){var i=[],r=this.localToGlobal(n,t);return this._getObjectsUnderPoint(r.x,r.y,i),i};n.getObjectUnderPoint=function(n,t){var i=this.localToGlobal(n,t);return this._getObjectsUnderPoint(i.x,i.y)};n.clone=function(n){var i=new t,u;if(this.cloneProps(i),n)for(var f=i.children=[],r=0,e=this.children.length;r<e;r++)u=this.children[r].clone(n),u.parent=i,f.push(u);return i};n.toString=function(){return"[Container (name="+this.name+")]"};n.DisplayObject__tick=n._tick;n._tick=function(n){for(var i,t=this.children.length-1;t>=0;t--)i=this.children[t],i._tick&&i._tick(n);this.DisplayObject__tick(n)};n._getObjectsUnderPoint=function(n,i,r,u){var s=createjs.DisplayObject._hitTestContext,h=createjs.DisplayObject._hitTestCanvas,e=this._matrix,c=u&1&&(this.onPress||this.onClick||this.onDoubleClick)||u&2&&(this.onMouseOver||this.onMouseOut),l,f,o;if(this.cacheCanvas&&c&&(this.getConcatenatedMatrix(e),s.setTransform(e.a,e.b,e.c,e.d,e.tx-n,e.ty-i),s.globalAlpha=e.alpha,this.draw(s),this._testHit(s)))return h.width=0,h.width=1,this;for(l=this.children.length-1;l>=0;l--)if(f=this.children[l],f.isVisible()&&f.mouseEnabled)if(f instanceof t){if(c){if(f=f._getObjectsUnderPoint(n,i))return this}else if(f=f._getObjectsUnderPoint(n,i,r,u),!r&&f)return f}else if((!u||c||u&1&&(f.onPress||f.onClick||f.onDoubleClick)||u&2&&(f.onMouseOver||f.onMouseOut))&&(o=f.hitArea,f.getConcatenatedMatrix(e),o&&(e.appendTransform(o.x+f.regX,o.y+f.regY,o.scaleX,o.scaleY,o.rotation,o.skewX,o.skewY,o.regX,o.regY),e.alpha*=o.alpha/f.alpha),s.globalAlpha=e.alpha,s.setTransform(e.a,e.b,e.c,e.d,e.tx-n,e.ty-i),(o||f).draw(s),this._testHit(s))){if(h.width=0,h.width=1,c)return this;if(r)r.push(f);else return f}return null};createjs.Container=t}();this.createjs=this.createjs||{},function(){var t=function(n){this.initialize(n)},n=t.prototype=new createjs.Container;t._snapToPixelEnabled=!1;n.autoClear=!0;n.canvas=null;n.mouseX=0;n.mouseY=0;n.onMouseMove=null;n.onMouseUp=null;n.onMouseDown=null;n.snapToPixelEnabled=!1;n.mouseInBounds=!1;n.tickOnUpdate=!0;n.mouseMoveOutside=!1;n._pointerData=null;n._pointerCount=0;n._primaryPointerID=null;n._mouseOverIntervalID=null;n.Container_initialize=n.initialize;n.initialize=function(n){this.Container_initialize();this.canvas=n instanceof HTMLCanvasElement?n:document.getElementById(n);this._pointerData={};this._enableMouseEvents(!0)};n.update=function(){if(this.canvas){this.autoClear&&this.clear();t._snapToPixelEnabled=this.snapToPixelEnabled;this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var n=this.canvas.getContext("2d");n.save();this.updateContext(n);this.draw(n,!1);n.restore()}};n.tick=n.update;n.clear=function(){if(this.canvas){var n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,this.canvas.width,this.canvas.height)}};n.toDataURL=function(n,t){var e,o;t||(t="image/png");var i=this.canvas.getContext("2d"),r=this.canvas.width,u=this.canvas.height,f;return n&&(f=i.getImageData(0,0,r,u),e=i.globalCompositeOperation,i.globalCompositeOperation="destination-over",i.fillStyle=n,i.fillRect(0,0,r,u)),o=this.canvas.toDataURL(t),n&&(i.clearRect(0,0,r,u),i.putImageData(f,0,0),i.globalCompositeOperation=e),o};n.enableMouseOver=function(n){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null),n==null)n=20;else if(n<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,n))};n.clone=function(){var n=new t(null);return this.cloneProps(n),n};n.toString=function(){return"[Stage (name="+this.name+")]"};n._enableMouseEvents=function(){var n=this,t=window.addEventListener?window:document;t.addEventListener("mouseup",function(t){n._handleMouseUp(t)},!1);t.addEventListener("mousemove",function(t){n._handleMouseMove(t)},!1);t.addEventListener("dblclick",function(t){n._handleDoubleClick(t)},!1);this.canvas&&this.canvas.addEventListener("mousedown",function(t){n._handleMouseDown(t)},!1)};n._getPointerData=function(n){var t=this._pointerData[n];return t||(t=this._pointerData[n]={x:0,y:0},this._primaryPointerID!=null)||(this._primaryPointerID=n),t};n._handleMouseMove=function(n){n||(n=window.event);this._handlePointerMove(-1,n,n.pageX,n.pageY)};n._handlePointerMove=function(n,t,i,r){if(this.canvas){var u=this._getPointerData(n),f=u.inBounds;if(this._updatePointerPosition(n,i,r),f||u.inBounds||this.mouseMoveOutside){if(n=new createjs.MouseEvent("onMouseMove",u.x,u.y,this,t,n,n==this._primaryPointerID,u.rawX,u.rawY),this.onMouseMove)this.onMouseMove(n);u.event&&u.event.onMouseMove&&(n=n.clone(),n.target=u.event.target,u.event.onMouseMove(n))}}};n._updatePointerPosition=function(n,t,i){var r=this._getElementRect(this.canvas),u,f;t-=r.left;i-=r.top;u=this.canvas.width;f=this.canvas.height;t/=(r.right-r.left)/u;i/=(r.bottom-r.top)/f;r=this._getPointerData(n);(r.inBounds=t>=0&&i>=0&&t<=u-1&&i<=f-1)?(r.x=t,r.y=i):this.mouseMoveOutside&&(r.x=t<0?0:t>u-1?u-1:t,r.y=i<0?0:i>f-1?f-1:i);r.rawX=t;r.rawY=i;n==this._primaryPointerID&&(this.mouseX=r.x,this.mouseY=r.y,this.mouseInBounds=r.inBounds)};n._getElementRect=function(n){var i=n.getBoundingClientRect(),r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),u=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),t=window.getComputedStyle?getComputedStyle(n):n.currentStyle,n=parseInt(t.paddingLeft)+parseInt(t.borderLeftWidth),f=parseInt(t.paddingTop)+parseInt(t.borderTopWidth),e=parseInt(t.paddingRight)+parseInt(t.borderRightWidth),t=parseInt(t.paddingBottom)+parseInt(t.borderBottomWidth);return{left:i.left+r+n,right:i.right+r-e,top:i.top+u+f,bottom:i.bottom+u-t}};n._handleMouseUp=function(n){this._handlePointerUp(-1,n,!1)};n._handlePointerUp=function(n,t,i){var r=this._getPointerData(n),u=new createjs.MouseEvent("onMouseUp",r.x,r.y,this,t,n,n==this._primaryPointerID,r.rawX,r.rawY);if(this.onMouseUp)this.onMouseUp(u);if(r.event&&r.event.onMouseUp&&(u=u.clone(),u.target=r.event.target,r.event.onMouseUp(u)),r.target&&r.target.onClick&&this._getObjectsUnderPoint(r.x,r.y,null,!0,this._mouseOverIntervalID?3:1)==r.target)r.target.onClick(new createjs.MouseEvent("onClick",r.x,r.y,r.target,t,n,n==this._primaryPointerID,r.rawX,r.rawY));i?(n==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[n]):r.event=r.target=null};n._handleMouseDown=function(n){this._handlePointerDown(-1,n,!1)};n._handlePointerDown=function(n,t,i,r){var u=this._getPointerData(n);if(r!=null&&this._updatePointerPosition(n,i,r),this.onMouseDown)this.onMouseDown(new createjs.MouseEvent("onMouseDown",u.x,u.y,this,t,n,n==this._primaryPointerID,u.rawX,u.rawY));(i=this._getObjectsUnderPoint(u.x,u.y,null,this._mouseOverIntervalID?3:1))&&(i.onPress&&(n=new createjs.MouseEvent("onPress",u.x,u.y,i,t,n,n==this._primaryPointerID,u.rawX,u.rawY),i.onPress(n),n.onMouseMove||n.onMouseUp)&&(u.event=n),u.target=i)};n._testMouseOver=function(){if(this._primaryPointerID==-1&&!(this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds)){var n=null;if(this.mouseInBounds&&(n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY),this._mouseOverTarget!=n){if(this._mouseOverTarget&&this._mouseOverTarget.onMouseOut)this._mouseOverTarget.onMouseOut(new createjs.MouseEvent("onMouseOut",this.mouseX,this.mouseY,this._mouseOverTarget));if(n&&n.onMouseOver)n.onMouseOver(new createjs.MouseEvent("onMouseOver",this.mouseX,this.mouseY,n));this._mouseOverTarget=n}}};n._handleDoubleClick=function(n){if(this.onDoubleClick)this.onDoubleClick(new createjs.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,this,n,-1,!0));var t=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,this._mouseOverIntervalID?3:1);if(t&&t.onDoubleClick)t.onDoubleClick(new createjs.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,t,n,-1,!0))};createjs.Stage=t}();this.createjs=this.createjs||{},function(){var t=function(n){this.initialize(n)},n=t.prototype=new createjs.DisplayObject;n.image=null;n.snapToPixel=!0;n.sourceRect=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(n){this.DisplayObject_initialize();typeof n=="string"?(this.image=new Image,this.image.src=n):this.image=n};n.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2)};n.DisplayObject_draw=n.draw;n.draw=function(n,t){if(this.DisplayObject_draw(n,t))return!0;var i=this.sourceRect;return i?n.drawImage(this.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height):n.drawImage(this.image,0,0),!0};n.clone=function(){var n=new t(this.image);return this.cloneProps(n),n};n.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=t}();this.createjs=this.createjs||{},function(){var t=function(n){this.initialize(n)},n=t.prototype=new createjs.DisplayObject;n.onAnimationEnd=null;n.currentFrame=-1;n.currentAnimation=null;n.paused=!0;n.spriteSheet=null;n.snapToPixel=!0;n.offset=0;n.currentAnimationFrame=0;n._advanceCount=0;n._animation=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(n){this.DisplayObject_initialize();this.spriteSheet=n};n.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.spriteSheet.complete&&this.currentFrame>=0};n.DisplayObject_draw=n.draw;n.draw=function(n,t){var r,i;return this.DisplayObject_draw(n,t)?!0:(this._normalizeFrame(),r=this.spriteSheet.getFrame(this.currentFrame),r!=null?(i=r.rect,n.drawImage(r.image,i.x,i.y,i.width,i.height,-r.regX,-r.regY,i.width,i.height),!0):void 0)};n.play=function(){this.paused=!1};n.stop=function(){this.paused=!0};n.gotoAndPlay=function(n){this.paused=!1;this._goto(n)};n.gotoAndStop=function(n){this.paused=!0;this._goto(n)};n.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++;this._normalizeFrame()};n.clone=function(){var n=new t(this.spriteSheet);return this.cloneProps(n),n};n.toString=function(){return"[BitmapAnimation (name="+this.name+")]"};n.DisplayObject__tick=n._tick;n._tick=function(n){var t=this._animation?this._animation.frequency:1;this.paused||(++this._advanceCount+this.offset)%t!=0||this.advance();this.DisplayObject__tick(n)};n._normalizeFrame=function(){var n=this._animation;if(n)if(this.currentAnimationFrame>=n.frames.length){if(n.next?this._goto(n.next):(this.paused=!0,this.currentAnimationFrame=n.frames.length-1,this.currentFrame=n.frames[this.currentAnimationFrame]),this.onAnimationEnd)this.onAnimationEnd(this,n.name)}else this.currentFrame=n.frames[this.currentAnimationFrame];else if(this.currentFrame>=this.spriteSheet.getNumFrames()&&(this.currentFrame=0,this.onAnimationEnd))this.onAnimationEnd(this,null)};n.DisplayObject_cloneProps=n.cloneProps;n.cloneProps=function(n){this.DisplayObject_cloneProps(n);n.onAnimationEnd=this.onAnimationEnd;n.currentFrame=this.currentFrame;n.currentAnimation=this.currentAnimation;n.paused=this.paused;n.offset=this.offset;n._animation=this._animation;n.currentAnimationFrame=this.currentAnimationFrame};n._goto=function(n){if(isNaN(n)){var t=this.spriteSheet.getAnimation(n);t&&(this.currentAnimationFrame=0,this._animation=t,this.currentAnimation=n,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=n};createjs.BitmapAnimation=t}();this.createjs=this.createjs||{},function(){var t=function(n){this.initialize(n)},n=t.prototype=new createjs.DisplayObject;n.graphics=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(n){this.DisplayObject_initialize();this.graphics=n?n:new createjs.Graphics};n.isVisible=function(){return Boolean(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.graphics)};n.DisplayObject_draw=n.draw;n.draw=function(n,t){return this.DisplayObject_draw(n,t)?!0:(this.graphics.draw(n),!0)};n.clone=function(n){return n=new t(n&&this.graphics?this.graphics.clone():this.graphics),this.cloneProps(n),n};n.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=t}();this.createjs=this.createjs||{},function(){var t=function(n,t,i){this.initialize(n,t,i)},n=t.prototype=new createjs.DisplayObject;t._workingContext=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");n.text="";n.font=null;n.color="#000";n.textAlign="left";n.textBaseline="top";n.maxWidth=null;n.outline=!1;n.lineHeight=0;n.lineWidth=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(n,t,i){this.DisplayObject_initialize();this.text=n;this.font=t;this.color=i?i:"#000"};n.isVisible=function(){return Boolean(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.text!=null&&this.text!=="")};n.DisplayObject_draw=n.draw;n.draw=function(n,t){return this.DisplayObject_draw(n,t)?!0:(this.outline?n.strokeStyle=this.color:n.fillStyle=this.color,n.font=this.font,n.textAlign=this.textAlign||"start",n.textBaseline=this.textBaseline||"alphabetic",this._drawText(n),!0)};n.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width};n.getMeasuredLineHeight=function(){return this._getWorkingContext().measureText("M").width*1.2};n.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())};n.clone=function(){var n=new t(this.text,this.font,this.color);return this.cloneProps(n),n};n.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"};n.DisplayObject_cloneProps=n.cloneProps;n.cloneProps=function(n){this.DisplayObject_cloneProps(n);n.textAlign=this.textAlign;n.textBaseline=this.textBaseline;n.maxWidth=this.maxWidth;n.outline=this.outline;n.lineHeight=this.lineHeight;n.lineWidth=this.lineWidth};n._getWorkingContext=function(){var n=t._workingContext;return n.font=this.font,n.textAlign=this.textAlign||"start",n.textBaseline=this.textBaseline||"alphabetic",n};n._drawText=function(n){var e=!!n,t;e||(n=this._getWorkingContext());for(var o=String(this.text).split(/(?:\r\n|\r|\n)/),s=this.lineHeight||this.getMeasuredLineHeight(),r=0,u=0,h=o.length;u<h;u++){if(t=n.measureText(o[u]).width,this.lineWidth==null||t<this.lineWidth)e&&this._drawTextLine(n,o[u],r*s);else{for(var t=o[u].split(/(\s)/),f=t[0],i=1,c=t.length;i<c;i+=2)n.measureText(f+t[i]+t[i+1]).width>this.lineWidth?(e&&this._drawTextLine(n,f,r*s),r++,f=t[i+1]):f+=t[i]+t[i+1];e&&this._drawTextLine(n,f,r*s)}r++}return r};n._drawTextLine=function(n,t,i){this.outline?n.strokeText(t,0,i,this.maxWidth||65535):n.fillText(t,0,i,this.maxWidth||65535)};createjs.Text=t}();this.createjs=this.createjs||{},function(){var n=function(){throw"SpriteSheetUtils cannot be instantiated";};n._workingCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n._workingContext=n._workingCanvas.getContext("2d");n.addFlippedFrames=function(t,i,r,u){if(i||r||u){var f=0;i&&n._flip(t,++f,!0,!1);r&&n._flip(t,++f,!1,!0);u&&n._flip(t,++f,!0,!0)}};n.extractFrame=function(t,i){var u,r,f;return(isNaN(i)&&(i=t.getAnimation(i).frames[0]),u=t.getFrame(i),!u)?null:(r=u.rect,f=n._workingCanvas,f.width=r.width,f.height=r.height,n._workingContext.drawImage(u.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height),u=new Image,u.src=f.toDataURL("image/png"),u)};n.mergeAlpha=function(n,t,i){i||(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));i.width=Math.max(t.width,n.width);i.height=Math.max(t.height,n.height);var r=i.getContext("2d");return r.save(),r.drawImage(n,0,0),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),r.restore(),i};n._flip=function(t,i,r,u){for(var f,s,a=t._images,l=n._workingCanvas,e=n._workingContext,c=a.length/i,o=0;o<c;o++)f=a[o],f.__tmp=o,l.width=0,l.width=f.width,l.height=f.height,e.setTransform(r?-1:1,0,0,u?-1:1,r?f.width:0,u?f.height:0),e.drawImage(f,0,0),s=new Image,s.src=l.toDataURL("image/png"),s.width=f.width,s.height=f.height,a.push(s);for(e=t._frames,l=e.length/i,o=0;o<l;o++){var f=e[o],h=f.rect.clone(),s=a[f.image.__tmp+c*i],v={image:s,rect:h,regX:f.regX,regY:f.regY};r&&(h.x=s.width-h.x-h.width,v.regX=h.width-f.regX);u&&(h.y=s.height-h.y-h.height,v.regY=h.height-f.regY);e.push(v)}for(r="_"+(r?"h":"")+(u?"v":""),u=t._animations,t=t._data,a=u.length/i,o=0;o<a;o++){for(e=u[o],f=t[e],c={name:e+r,frequency:f.frequency,next:f.next,frames:[]},f.next&&(c.next+=r),e=f.frames,f=0,s=e.length;f<s;f++)c.frames.push(e[f]+l*i);t[c.name]=c;u.push(c.name)}};createjs.SpriteSheetUtils=n}();this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},n=t.prototype;t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";t.ERR_RUNNING="a build is already running";n.maxWidth=2048;n.maxHeight=2048;n.spriteSheet=null;n.scale=1;n.padding=1;n._frames=null;n._animations=null;n._data=null;n._nextFrameIndex=0;n._index=0;n._callback=null;n._timeSlice=null;n._timerID=null;n._scale=1;n.initialize=function(){this._frames=[];this._animations={}};n.addFrame=function(n,i,r,u,f,e){if(this._data)throw t.ERR_RUNNING;return(i=i||n.bounds||n.nominalBounds,!i&&n.getBounds&&(i=n.getBounds()),!i)?null:(r=r||1,this._frames.push({source:n,sourceRect:i,scale:r,funct:u,params:f,scope:e,index:this._frames.length,height:i.height*r})-1)};n.addAnimation=function(n,i,r,u){if(this._data)throw t.ERR_RUNNING;this._animations[n]={frames:i,next:r,frequency:u}};n.addMovieClip=function(n,i,r){var e,f,i,u,n,o;if(this._data)throw t.ERR_RUNNING;if(e=n.frameBounds,f=i||n.bounds||n.nominalBounds,!f&&n.getBounds&&(f=n.getBounds()),!f&&!e)return null;for(i=n.timeline.duration,u=0;u<i;u++)this.addFrame(n,e&&e[u]?e[u]:f,r,function(n){var t=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(n);this.actionsEnabled=t},[u],n);u=n.timeline._labels;n=[];for(o in u)n.push({index:u[o],label:o});if(n.length)for(n.sort(function(n,t){return n.index-t.index}),u=0,o=n.length;u<o;u++){for(var r=n[u].label,e=u==o-1?i:n[u+1].index,f=[],s=n[u].index;s<e;s++)f.push(s);this.addAnimation(r,f,!0)}};n.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._callback=null,this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};n.buildAsync=function(n,i){if(this._data)throw t.ERR_RUNNING;this._callback=n;this._startBuild();this._timeSlice=Math.max(.01,Math.min(.99,i||.3))*50;var r=this;this._timerID=setTimeout(function(){r._run()},50-this._timeSlice)};n.stopAsync=function(){clearTimeout(this._timerID);this._data=null};n.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};n.toString=function(){return"[SpriteSheetBuilder]"};n._startBuild=function(){var s=this.padding||0,e,n,i,f;if(this.spriteSheet=null,this._index=0,this._scale=this.scale,e=[],this._data={images:[],frames:e,animations:this._animations},n=this._frames.slice(),n.sort(function(n,t){return n.height<=t.height?-1:1}),n[n.length-1].height+s*2>this.maxHeight)throw t.ERR_DIMENSIONS;for(var r=0,u=0,o=0;n.length;)i=this._fillRow(n,r,o,e,s),i.w>u&&(u=i.w),r+=i.h,i.h&&n.length||(f=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),f.width=this._getSize(u,this.maxWidth),f.height=this._getSize(r,this.maxHeight),this._data.images[o]=f,i.h||(u=r=0,o++))};n._getSize=function(n,t){for(var i=4;Math.pow(2,++i)<n;);return Math.min(t,Math.pow(2,i))};n._fillRow=function(n,i,r,u,f){var v=this.maxWidth,p=this.maxHeight-i,h=f,l,c;for(i+=f,l=0,c=n.length-1;c>=0;c--){var o=n[c],s=this._scale*o.scale,e=o.sourceRect,y=o.source,w=Math.floor(s*e.x-f),b=Math.floor(s*e.y-f),a=Math.ceil(s*e.height+f*2),e=Math.ceil(s*e.width+f*2);if(e>v)throw t.ERR_DIMENSIONS;a>p||h+e>v||(o.img=r,o.rect=new createjs.Rectangle(h,i,e,a),l=l||a,n.splice(c,1),u[o.index]=[h,i,e,a,r,Math.round(-w+s*y.regX-f),Math.round(-b+s*y.regY-f)],h+=e)}return{w:h,h:l}};n._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this._callback&&this._callback(this)};n._run=function(){for(var i,t=(new Date).getTime()+this._timeSlice,n=!1;t>(new Date).getTime();)if(!this._drawNext()){n=!0;break}n?this._endBuild():(i=this,this._timerID=setTimeout(function(){i._run()},50-this._timeSlice))};n._drawNext=function(){var n=this._frames[this._index],r=n.scale*this._scale,i=n.rect,u=n.sourceRect,t=this._data.images[n.img].getContext("2d");return n.funct&&n.funct.apply(n.scope,n.params),t.save(),t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.clip(),t.translate(Math.ceil(i.x-u.x*r),Math.ceil(i.y-u.y*r)),t.scale(r,r),n.source.draw(t),t.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=t}();this.createjs=this.createjs||{},function(){var t=function(n){this.initialize(n)},n=t.prototype=new createjs.DisplayObject;n.htmlElement=null;n._style=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(n){typeof n=="string"&&(n=document.getElementById(n));this.DisplayObject_initialize();this.mouseEnabled=!1;(this.htmlElement=n)&&(this._style=n.style,this._style.position="absolute",this._style.transformOrigin=this._style.WebkitTransformOrigin=this._style.msTransformOrigin=this._style.MozTransformOrigin=this._style.OTransformOrigin="0% 0%")};n.isVisible=function(){return this.htmlElement!=null};n.draw=function(){if(this.htmlElement!=null){var n=this.getConcatenatedMatrix(this._matrix),t=this.htmlElement;return t.style.opacity=""+n.alpha,t.style.visibility=this.visible?"visible":"hidden",t.style.transform=t.style.WebkitTransform=t.style.OTransform=t.style.msTransform=["matrix("+n.a,n.b,n.c,n.d,n.tx+.5|0,(n.ty+.5|0)+")"].join(","),t.style.MozTransform=["matrix("+n.a,n.b,n.c,n.d,(n.tx+.5|0)+"px",(n.ty+.5|0)+"px)"].join(","),!0}};n.cache=function(){};n.uncache=function(){};n.updateCache=function(){};n.hitTest=function(){};n.localToGlobal=function(){};n.globalToLocal=function(){};n.localToLocal=function(){};n.clone=function(){var n=new t;return this.cloneProps(n),n};n.toString=function(){return"[DOMElement (name="+this.name+")]"};n._tick=function(n){if(this.htmlElement!=null&&(this.htmlElement.style.visibility="hidden",this.onTick))this.onTick(n)};createjs.DOMElement=t}();this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},n=t.prototype;n.initialize=function(){};n.getBounds=function(){return new createjs.Rectangle(0,0,0,0)};n.applyFilter=function(){};n.toString=function(){return"[Filter]"};n.clone=function(){return new t};createjs.Filter=t}();this.createjs=this.createjs||{},function(){var n=function(){throw"Touch cannot be instantiated";};n.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled};n.enable=function(t,i,r){return!t||!t.canvas||!n.isSupported()?!1:(t.__touch={pointers:{},multitouch:!i,preventDefault:!r,count:0},"ontouchstart"in window?n._IOS_enable(t):window.navigator.msPointerEnabled&&n._IE_enable(t),!0)};n.disable=function(t){t&&("ontouchstart"in window?n._IOS_disable(t):window.navigator.msPointerEnabled&&n._IE_disable(t))};n._IOS_enable=function(t){var i=t.canvas,r=t.__touch.f=function(i){n._IOS_handleEvent(t,i)};i.addEventListener("touchstart",r,!1);i.addEventListener("touchmove",r,!1);i.addEventListener("touchend",r,!1);i.addEventListener("touchcancel",r,!1)};n._IOS_disable=function(n){var t=n.canvas;t&&(n=n.__touch.f,t.removeEventListener("touchstart",n,!1),t.removeEventListener("touchmove",n,!1),t.removeEventListener("touchend",n,!1),t.removeEventListener("touchcancel",n,!1))};n._IOS_handleEvent=function(n,t){var i,u;if(n){n.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var e=t.changedTouches,r=t.type,f=0,o=e.length;f<o;f++)i=e[f],u=i.identifier,i.target==n.canvas&&(r=="touchstart"?this._handleStart(n,u,t,i.pageX,i.pageY):r=="touchmove"?this._handleMove(n,u,t,i.pageX,i.pageY):(r=="touchend"||r=="touchcancel")&&this._handleEnd(n,u,t))}};n._IE_enable=function(t){var r=t.canvas,i=t.__touch.f=function(i){n._IE_handleEvent(t,i)};r.addEventListener("MSPointerDown",i,!1);window.addEventListener("MSPointerMove",i,!1);window.addEventListener("MSPointerUp",i,!1);window.addEventListener("MSPointerCancel",i,!1);t.__touch.preventDefault&&(r.style.msTouchAction="none");t.__touch.activeIDs={}};n._IE_disable=function(n){var t=n.__touch.f;window.removeEventListener("MSPointerMove",t,!1);window.removeEventListener("MSPointerUp",t,!1);window.removeEventListener("MSPointerCancel",t,!1);n.canvas&&n.canvas.removeEventListener("MSPointerDown",t,!1)};n._IE_handleEvent=function(n,t){if(n){n.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var r=t.type,i=t.pointerId,u=n.__touch.activeIDs;r=="MSPointerDown"?t.srcElement==n.canvas&&(u[i]=!0,this._handleStart(n,i,t,t.pageX,t.pageY)):u[i]&&(r=="MSPointerMove"?this._handleMove(n,i,t,t.pageX,t.pageY):(r=="MSPointerUp"||r=="MSPointerCancel")&&(delete u[i],this._handleEnd(n,i,t)))}};n._handleStart=function(n,t,i,r,u){var f=n.__touch,e;(f.multitouch||!f.count)&&(e=f.pointers,e[t]||(e[t]=!0,f.count++,n._handlePointerDown(t,i,r,u)))};n._handleMove=function(n,t,i,r,u){n.__touch.pointers[t]&&n._handlePointerMove(t,i,r,u)};n._handleEnd=function(n,t,i){var r=n.__touch,u=r.pointers;u[t]&&(r.count--,n._handlePointerUp(t,i,!0),delete u[t])};createjs.Touch=n}();this.createjs=this.createjs||{},function(){var i=function(n,t){this.initialize(n,t)},t=i.prototype;i.NONE=0;i.LOOP=1;i.REVERSE=2;i.IGNORE={};i._tweens=[];i._plugins={};i.get=function(n,t,r){return new i(n,t,r)};i.tick=function(n,t){for(var r,f=i._tweens.slice(),u=f.length-1;u>=0;u--)r=f[u],t&&!r.ignoreGlobalPause||r._paused||r.tick(r._useTicks?1:n)};createjs.Ticker&&createjs.Ticker.addListener(i,!1);i.removeTweens=function(n){if(n.tweenjs_count){for(var r=i._tweens,t=r.length-1;t>=0;t--)r[t]._target==n&&(r[t]._paused=!0,r.splice(t,1));n.tweenjs_count=0}};i.hasActiveTweens=function(n){return n?n.tweenjs_count:i._tweens&&i._tweens.length};i.installPlugin=function(n,t){var e=n.priority,r;e==null&&(n.priority=e=0);for(var o=0,h=t.length,u=i._plugins;o<h;o++)if(r=t[o],u[r]){for(var s=u[r],f=0,c=s.length;f<c;f++)if(e<s[f].priority)break;u[r].splice(f,0,n)}else u[r]=[n]};i._register=function(n,t){var r=n._target;t?(r&&(r.tweenjs_count=r.tweenjs_count?r.tweenjs_count+1:1),i._tweens.push(n)):(r&&r.tweenjs_count--,r=i._tweens.indexOf(n),r!=-1&&i._tweens.splice(r,1))};t.ignoreGlobalPause=!1;t.loop=!1;t.duration=0;t.pluginData=null;t.onChange=null;t.target=null;t.position=null;t._paused=!1;t._curQueueProps=null;t._initQueueProps=null;t._steps=null;t._actions=null;t._prevPosition=0;t._stepPosition=0;t._prevPos=-1;t._target=null;t._useTicks=!1;t.initialize=function(n,t,r){this.target=this._target=n;t&&(this._useTicks=t.useTicks,this.ignoreGlobalPause=t.ignoreGlobalPause,this.loop=t.loop,this.onChange=t.onChange,t.override&&i.removeTweens(n));this.pluginData=r||{};this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];t&&t.paused?this._paused=!0:i._register(this,!0);t&&t.position!=null&&this.setPosition(t.position,i.NONE)};t.wait=function(n){if(n==null||n<=0)return this;var t=this._cloneProps(this._curQueueProps);return this._addStep({d:n,p0:t,e:this._linearEase,p1:t})};t.to=function(n,t,i){return(isNaN(t)||t<0)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(n))})};t.call=function(n,t,i){return this._addAction({f:n,p:t?t:[this],o:i?i:this._target})};t.set=function(n,t){return this._addAction({f:this._set,o:this,p:[n,t?t:this._target]})};t.play=function(n){return this.call(n.setPaused,[!1],n)};t.pause=function(n){return n||(n=this),this.call(n.setPaused,[!0],n)};t.setPosition=function(n,t){var i,u,r,f;if(n<0&&(n=0),t==null&&(t=1),i=n,u=!1,i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,u=!0)),i==this._prevPos)return u;if(this._target)if(u)this._updateTargetProps(null,1);else if(this._steps.length>0){for(r=0,f=this._steps.length;r<f;r++)if(this._steps[r].t>i)break;r=this._steps[r-1];this._updateTargetProps(r,(this._stepPosition=i-r.t)/r.d,i)}return r=this._prevPos,this.position=this._prevPos=i,this._prevPosition=n,t!=0&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):t==1&&i<r?(r!=this.duration&&this._runActions(r,this.duration),this._runActions(0,i,!0)):this._runActions(r,i)),u&&this.setPaused(!0),this.onChange&&this.onChange(this),u};t.tick=function(n){this._paused||this.setPosition(this._prevPosition+n)};t.setPaused=function(n){return this._paused=!!n,i._register(this,!n),this};t.w=t.wait;t.t=t.to;t.c=t.call;t.s=t.set;t.toString=function(){return"[Tween]"};t.clone=function(){throw"Tween can not be cloned.";};t._updateTargetProps=function(t,r,u){var o,s,f,e,c,h,a,l;!t&&r==1?o=s=this._curQueueProps:(t.e&&(r=t.e(r,0,1,1)),o=t.p0,s=t.p1);for(n in this._initQueueProps){if((f=o[n])==null&&(o[n]=f=this._initQueueProps[n]),(e=s[n])==null&&(s[n]=e=f),f=f==e||r==0||r==1||typeof f!="number"?r==1?e:f:f+(e-f)*r,c=!1,e=i._plugins[n])for(h=0,a=e.length;h<a;h++)l=e[h].tween(this,n,f,o,s,r,u,!t),l==i.IGNORE?c=!0:f=l;c||(this._target[n]=f)}};t._runActions=function(n,t,i){var o=n,u=t,f=-1,e=this._actions.length,s=1,t,r;for(n>t&&(o=t,u=n,f=e,e=s=-1);(f+=s)!=e;)t=this._actions[f],r=t.t,(r==u||r>o&&r<u||i&&r==n)&&t.f.apply(t.o,t.p)};t._appendQueueProps=function(n){var f,r,e,t,u,o;for(t in n){if(this._initQueueProps[t]==null){if(r=this._target[t],f=i._plugins[t])for(u=0,o=f.length;u<o;u++)e=f[u].init(this,t,r),e!=i.IGNORE&&(r=e);this._initQueueProps[t]=r}this._curQueueProps[t]=n[t]}return this._curQueueProps};t._cloneProps=function(n){var t={};for(var i in n)t[i]=n[i];return t};t._addStep=function(n){return n.d>0&&(this._steps.push(n),n.t=this.duration,this.duration+=n.d),this};t._addAction=function(n){return n.t=this.duration,this._actions.push(n),this};t._set=function(n,t){for(var i in n)t[i]=n[i]};createjs.Tween=i}();this.createjs=this.createjs||{},function(){var t=function(n,t,i){this.initialize(n,t,i)},n=t.prototype;n.ignoreGlobalPause=!1;n.duration=0;n.loop=!1;n.onChange=null;n.position=null;n._paused=!1;n._tweens=null;n._labels=null;n._prevPosition=0;n._prevPos=-1;n._useTicks=!1;n.initialize=function(n,t,i){this._tweens=[];i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,this.onChange=i.onChange);n&&this.addTween.apply(this,n);this.setLabels(t);i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0);i&&i.position!=null&&this.setPosition(i.position,createjs.Tween.NONE)};n.addTween=function(n){var i=arguments.length,t;if(i>1){for(t=0;t<i;t++)this.addTween(arguments[t]);return arguments[0]}return i==0?null:(this.removeTween(n),this._tweens.push(n),n.setPaused(!0),n._paused=!1,n._useTicks=this._useTicks,n.duration>this.duration&&(this.duration=n.duration),this._prevPos>=0&&n.setPosition(this._prevPos,createjs.Tween.NONE),n)};n.removeTween=function(n){var t=arguments.length,i,r;if(t>1){for(i=!0,r=0;r<t;r++)i=i&&this.removeTween(arguments[r]);return i}return t==0?!1:(t=this._tweens.indexOf(n),t!=-1?(this._tweens.splice(t,1),n.duration>=this.duration&&this.updateDuration(),!0):!1)};n.addLabel=function(n,t){this._labels[n]=t};n.setLabels=function(n){this._labels=n?n:{}};n.gotoAndPlay=function(n){this.setPaused(!1);this._goto(n)};n.gotoAndStop=function(n){this.setPaused(!0);this._goto(n)};n.setPosition=function(n,t){var i,r,u,f;if(n<0&&(n=0),i=this.loop?n%this.duration:n,r=!this.loop&&n>=this.duration,i==this._prevPos)return r;for(this._prevPosition=n,this.position=this._prevPos=i,u=0,f=this._tweens.length;u<f;u++)if(this._tweens[u].setPosition(i,t),i!=this._prevPos)return!1;return r&&this.setPaused(!0),this.onChange&&this.onChange(this),r};n.setPaused=function(n){this._paused=!!n;createjs.Tween._register(this,!n)};n.updateDuration=function(){for(var n=this.duration=0,t=this._tweens.length;n<t;n++)(tween=this._tweens[n],tween.duration>this.duration)&&(this.duration=tween.duration)};n.tick=function(n){this.setPosition(this._prevPosition+n)};n.resolve=function(n){var t=parseFloat(n);return isNaN(t)&&(t=this._labels[n]),t};n.toString=function(){return"[Timeline]"};n.clone=function(){throw"Timeline can not be cloned.";};n._goto=function(n){n=this.resolve(n);n!=null&&this.setPosition(n)};createjs.Timeline=t}();this.createjs=this.createjs||{},function(){var n=function(){throw"Ease cannot be instantiated.";};n.linear=function(n){return n};n.none=n.linear;n.get=function(n){return n<-1&&(n=-1),n>1&&(n=1),function(t){return n==0?t:n<0?t*(t*-n+1+n):t*((2-t)*n+(1-n))}};n.getPowIn=function(n){return function(t){return Math.pow(t,n)}};n.getPowOut=function(n){return function(t){return 1-Math.pow(1-t,n)}};n.getPowInOut=function(n){return function(t){return(t*=2)<1?.5*Math.pow(t,n):1-.5*Math.abs(Math.pow(2-t,n))}};n.quadIn=n.getPowIn(2);n.quadOut=n.getPowOut(2);n.quadInOut=n.getPowInOut(2);n.cubicIn=n.getPowIn(3);n.cubicOut=n.getPowOut(3);n.cubicInOut=n.getPowInOut(3);n.quartIn=n.getPowIn(4);n.quartOut=n.getPowOut(4);n.quartInOut=n.getPowInOut(4);n.quintIn=n.getPowIn(5);n.quintOut=n.getPowOut(5);n.quintInOut=n.getPowInOut(5);n.sineIn=function(n){return 1-Math.cos(n*Math.PI/2)};n.sineOut=function(n){return Math.sin(n*Math.PI/2)};n.sineInOut=function(n){return-.5*(Math.cos(Math.PI*n)-1)};n.getBackIn=function(n){return function(t){return t*t*((n+1)*t-n)}};n.backIn=n.getBackIn(1.7);n.getBackOut=function(n){return function(t){return--t*t*((n+1)*t+n)+1}};n.backOut=n.getBackOut(1.7);n.getBackInOut=function(n){return n*=1.525,function(t){return(t*=2)<1?.5*t*t*((n+1)*t-n):.5*((t-=2)*t*((n+1)*t+n)+2)}};n.backInOut=n.getBackInOut(1.7);n.circIn=function(n){return-(Math.sqrt(1-n*n)-1)};n.circOut=function(n){return Math.sqrt(1- --n*n)};n.circInOut=function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)};n.bounceIn=function(t){return 1-n.bounceOut(1-t)};n.bounceOut=function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375};n.bounceInOut=function(t){return t<.5?n.bounceIn(t*2)*.5:n.bounceOut(t*2-1)*.5+.5};n.getElasticIn=function(n,t){var i=Math.PI*2;return function(r){if(r==0||r==1)return r;var u=t/i*Math.asin(1/n);return-(n*Math.pow(2,10*(r-=1))*Math.sin((r-u)*i/t))}};n.elasticIn=n.getElasticIn(1,.3);n.getElasticOut=function(n,t){var i=Math.PI*2;return function(r){if(r==0||r==1)return r;var u=t/i*Math.asin(1/n);return n*Math.pow(2,-10*r)*Math.sin((r-u)*i/t)+1}};n.elasticOut=n.getElasticOut(1,.3);n.getElasticInOut=function(n,t){var i=Math.PI*2;return function(r){var u=t/i*Math.asin(1/n);return(r*=2)<1?-.5*n*Math.pow(2,10*(r-=1))*Math.sin((r-u)*i/t):n*Math.pow(2,-10*(r-=1))*Math.sin((r-u)*i/t)*.5+1}};n.elasticInOut=n.getElasticInOut(1,.3*1.5);createjs.Ease=n}();this.createjs=this.createjs||{},function(){var t=function(n){this.initialize(n)},n=t.prototype=new createjs.Container;t._snapToPixelEnabled=!1;n.autoClear=!0;n.canvas=null;n.mouseX=0;n.mouseY=0;n.onMouseMove=null;n.onMouseUp=null;n.onMouseDown=null;n.snapToPixelEnabled=!1;n.mouseInBounds=!1;n.tickOnUpdate=!0;n.mouseMoveOutside=!1;n._pointerData=null;n._pointerCount=0;n._primaryPointerID=null;n._mouseOverIntervalID=null;n.Container_initialize=n.initialize;n.initialize=function(n){this.Container_initialize();this.canvas=typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement?n:document.getElementById(n);this._pointerData={};this._enableMouseEvents(!0)};n.update=function(){if(this.canvas){this.autoClear&&this.clear();t._snapToPixelEnabled=this.snapToPixelEnabled;this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var n=this.canvas.getContext("2d");n.save();this.updateContext(n);this.draw(n,!1);n.restore()}};n.tick=n.update;n.clear=function(){if(this.canvas){var n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,this.canvas.width,this.canvas.height)}};n.toDataURL=function(n,t){var e,o;t||(t="image/png");var i=this.canvas.getContext("2d"),r=this.canvas.width,u=this.canvas.height,f;return n&&(f=i.getImageData(0,0,r,u),e=i.globalCompositeOperation,i.globalCompositeOperation="destination-over",i.fillStyle=n,i.fillRect(0,0,r,u)),o=this.canvas.toDataURL(t),n&&(i.clearRect(0,0,r,u),i.putImageData(f,0,0),i.globalCompositeOperation=e),o};n.enableMouseOver=function(n){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null),n==null)n=20;else if(n<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,n))};n.clone=function(){var n=new t(null);return this.cloneProps(n),n};n.toString=function(){return"[Stage (name="+this.name+")]"};n._enableMouseEvents=function(){var n=this,t;window.addEventListener?(t=window.addEventListener?window:document,t.addEventListener("mouseup",function(t){n._handleMouseUp(t)},!1),t.addEventListener("mousemove",function(t){n._handleMouseMove(t)},!1),t.addEventListener("dblclick",function(t){n._handleDoubleClick(t)},!1),this.canvas&&this.canvas.addEventListener("mousedown",function(t){n._handleMouseDown(t)},!1)):(t=window.addEventListener?window:document,t.attachEvent("onmouseup",function(t){n._handleMouseUp(t)},!1),t.attachEvent("onmousemove",function(t){n._handleMouseMove(t)},!1),t.attachEvent("ondblclick",function(t){n._handleDoubleClick(t)},!1),this.canvas&&this.canvas.attachEvent("onmousedown",function(t){n._handleMouseDown(t)},!1))};n._getPointerData=function(n){var t=this._pointerData[n];return t||(t=this._pointerData[n]={x:0,y:0},this._primaryPointerID==null&&(this._primaryPointerID=n)),t};n._handleMouseMove=function(n){n||(n=window.event);this._handlePointerMove(-1,n,n.pageX,n.pageY)};n._handlePointerMove=function(n,t,i,r){var u,e,f;if(this.canvas&&(u=this._getPointerData(n),e=u.inBounds,this._updatePointerPosition(n,i,r),e||u.inBounds||this.mouseMoveOutside)){if(f=new createjs.MouseEvent("onMouseMove",u.x,u.y,this,t,n,n==this._primaryPointerID,u.rawX,u.rawY),this.onMouseMove)this.onMouseMove(f);if(u.event&&u.event.onMouseMove){f=f.clone();f.target=u.event.target;u.event.onMouseMove(f)}}};n._updatePointerPosition=function(n,t,i){var u=this._getElementRect(this.canvas),f,e,r;t-=u.left;i-=u.top;f=this.canvas.width;e=this.canvas.height;t/=(u.right-u.left)/f;i/=(u.bottom-u.top)/e;r=this._getPointerData(n);(r.inBounds=t>=0&&i>=0&&t<=f-1&&i<=e-1)?(r.x=t,r.y=i):this.mouseMoveOutside&&(r.x=t<0?0:t>f-1?f-1:t,r.y=i<0?0:i>e-1?e-1:i);r.rawX=t;r.rawY=i;n==this._primaryPointerID&&(this.mouseX=r.x,this.mouseY=r.y,this.mouseInBounds=r.inBounds)};n._getElementRect=function(n){try{var i=n.getBoundingClientRect(),r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),u=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),t=window.getComputedStyle?getComputedStyle(n):n.currentStyle,f=parseInt(t.paddingLeft)+parseInt(t.borderLeftWidth),e=parseInt(t.paddingTop)+parseInt(t.borderTopWidth),o=parseInt(t.paddingRight)+parseInt(t.borderRightWidth),s=parseInt(t.paddingBottom)+parseInt(t.borderBottomWidth);return{left:i.left+r+f,right:i.right+r-o,top:i.top+u+e,bottom:i.bottom+u-s}}catch(n){return{left:0,right:0,top:0,bottom:0}}};n._handleMouseUp=function(n){this._handlePointerUp(-1,n,!1)};n._handlePointerUp=function(n,t,i){var r=this._getPointerData(n),u=new createjs.MouseEvent("onMouseUp",r.x,r.y,this,t,n,n==this._primaryPointerID,r.rawX,r.rawY);if(this.onMouseUp)this.onMouseUp(u);if(r.event&&r.event.onMouseUp){u=u.clone();u.target=r.event.target;r.event.onMouseUp(u)}if(r.target&&r.target.onClick&&this._getObjectsUnderPoint(r.x,r.y,null,!0,this._mouseOverIntervalID?3:1)==r.target)r.target.onClick(new createjs.MouseEvent("onClick",r.x,r.y,r.target,t,n,n==this._primaryPointerID,r.rawX,r.rawY));i?(n==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[n]):r.event=r.target=null};n._handleMouseDown=function(n){this._handlePointerDown(-1,n,!1)};n._handlePointerDown=function(n,t,i,r){var u=this._getPointerData(n),f,e;if(r!=null&&this._updatePointerPosition(n,i,r),this.onMouseDown)this.onMouseDown(new createjs.MouseEvent("onMouseDown",u.x,u.y,this,t,n,n==this._primaryPointerID,u.rawX,u.rawY));if(f=this._getObjectsUnderPoint(u.x,u.y,null,this._mouseOverIntervalID?3:1),f){if(f.onPress){e=new createjs.MouseEvent("onPress",u.x,u.y,f,t,n,n==this._primaryPointerID,u.rawX,u.rawY);f.onPress(e);(e.onMouseMove||e.onMouseUp)&&(u.event=e)}u.target=f}};n._testMouseOver=function(){if(this._primaryPointerID==-1&&(this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var n=null;if(this.mouseInBounds&&(n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY),this._mouseOverTarget!=n){if(this._mouseOverTarget&&this._mouseOverTarget.onMouseOut)this._mouseOverTarget.onMouseOut(new createjs.MouseEvent("onMouseOut",this.mouseX,this.mouseY,this._mouseOverTarget));if(n&&n.onMouseOver)n.onMouseOver(new createjs.MouseEvent("onMouseOver",this.mouseX,this.mouseY,n));this._mouseOverTarget=n}}};n._handleDoubleClick=function(n){if(this.onDoubleClick)this.onDoubleClick(new createjs.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,this,n,-1,!0));var t=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,this._mouseOverIntervalID?3:1);if(t&&t.onDoubleClick)t.onDoubleClick(new createjs.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,t,n,-1,!0))};createjs.Stage=t}();this.createjs=this.createjs||{},function(){function t(n,t,i){this.f=n;this.params=t;this.path=i==null?!0:i}t.prototype.exec=function(n){this.f.apply(n,this.params||[])};var i=function(){this.initialize()},n=i.prototype;i.getRGB=function(n,t,i,r){return n!=null&&i==null&&(r=t,i=n&255,t=n>>8&255,n=n>>16&255),r==null?"rgb("+n+","+t+","+i+")":"rgba("+n+","+t+","+i+","+r+")"};i.getHSL=function(n,t,i,r){return r==null?"hsl("+n%360+","+t+"%,"+i+"%)":"hsla("+n%360+","+t+"%,"+i+"%,"+r+")"};i.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"0":52,"1":53,"2":54,"3":55,"4":56,"5":57,"6":58,"7":59,"8":60,"9":61,"+":62,"/":63};i.STROKE_CAPS_MAP=["butt","round","square"];i.STROKE_JOINTS_MAP=["miter","round","bevel"];i._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");i.beginCmd=new t(i._ctx.beginPath,[],!1);i.fillCmd=new t(i._ctx.fill,[],!1);i.strokeCmd=new t(i._ctx.stroke,[],!1);n._strokeInstructions=null;n._strokeStyleInstructions=null;n._fillInstructions=null;n._instructions=null;n._oldInstructions=null;n._activeInstructions=null;n._active=!1;n._dirty=!1;n.initialize=function(){this.clear();this._ctx=i._ctx};n.draw=function(n){var i,t,r;for(this._dirty&&this._updateInstructions(),i=this._instructions,t=0,r=i.length;t<r;t++)i[t].exec(n)};n.drawAsPath=function(n){var r,i,t,u;for(this._dirty&&this._updateInstructions(),i=this._instructions,t=0,u=i.length;t<u;t++)((r=i[t]).path||t==0)&&r.exec(n)};n.moveTo=function(n,i){return this._activeInstructions.push(new t(this._ctx.moveTo,[n,i])),this};n.lineTo=function(n,i){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.lineTo,[n,i])),this};n.arcTo=function(n,i,r,u,f){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.arcTo,[n,i,r,u,f])),this};n.arc=function(n,i,r,u,f,e){return this._dirty=this._active=!0,e==null&&(e=!1),this._activeInstructions.push(new t(this._ctx.arc,[n,i,r,u,f,e])),this};n.quadraticCurveTo=function(n,i,r,u){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.quadraticCurveTo,[n,i,r,u])),this};n.bezierCurveTo=function(n,i,r,u,f,e){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.bezierCurveTo,[n,i,r,u,f,e])),this};n.rect=function(n,i,r,u){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.rect,[n,i,r,u])),this};n.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new t(this._ctx.closePath,[]))),this};n.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null,this._active=this._dirty=!1,this};n.beginFill=function(n){return this._active&&this._newPath(),this._fillInstructions=n?[new t(this._setProp,["fillStyle",n],!1)]:null,this};n.beginLinearGradientFill=function(n,i,r,u,f,e){var s,o,h;for(this._active&&this._newPath(),s=this._ctx.createLinearGradient(r,u,f,e),o=0,h=n.length;o<h;o++)s.addColorStop(i[o],n[o]);return this._fillInstructions=[new t(this._setProp,["fillStyle",s],!1)],this};n.beginRadialGradientFill=function(n,i,r,u,f,e,o,s){var c,h,l;for(this._active&&this._newPath(),c=this._ctx.createRadialGradient(r,u,f,e,o,s),h=0,l=n.length;h<l;h++)c.addColorStop(i[h],n[h]);return this._fillInstructions=[new t(this._setProp,["fillStyle",c],!1)],this};n.beginBitmapFill=function(n,i){this._active&&this._newPath();i=i||"";var r=this._ctx.createPattern(n,i);return this._fillInstructions=[new t(this._setProp,["fillStyle",r],!1)],this};n.endFill=function(){return this.beginFill()};n.setStrokeStyle=function(n,r,u,f){return this._active&&this._newPath(),this._strokeStyleInstructions=[new t(this._setProp,["lineWidth",n==null?"1":n],!1),new t(this._setProp,["lineCap",r==null?"butt":isNaN(r)?r:i.STROKE_CAPS_MAP[r]],!1),new t(this._setProp,["lineJoin",u==null?"miter":isNaN(u)?u:i.STROKE_JOINTS_MAP[u]],!1),new t(this._setProp,["miterLimit",f==null?"10":f],!1)],this};n.beginStroke=function(n){return this._active&&this._newPath(),this._strokeInstructions=n?[new t(this._setProp,["strokeStyle",n],!1)]:null,this};n.beginLinearGradientStroke=function(n,i,r,u,f,e){var s,o,h;for(this._active&&this._newPath(),s=this._ctx.createLinearGradient(r,u,f,e),o=0,h=n.length;o<h;o++)s.addColorStop(i[o],n[o]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",s],!1)],this};n.beginRadialGradientStroke=function(n,i,r,u,f,e,o,s){var c,h,l;for(this._active&&this._newPath(),c=this._ctx.createRadialGradient(r,u,f,e,o,s),h=0,l=n.length;h<l;h++)c.addColorStop(i[h],n[h]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",c],!1)],this};n.beginBitmapStroke=function(n,i){this._active&&this._newPath();var r=this._ctx.createPattern(n,i||"");return this._strokeInstructions=[new t(this._setProp,["strokeStyle",r],!1)],this};n.endStroke=function(){return this.beginStroke(),this};n.curveTo=n.quadraticCurveTo;n.drawRect=n.rect;n.drawRoundRect=function(n,t,i,r,u){return this.drawRoundRectComplex(n,t,i,r,u,u,u,u),this};n.drawRoundRectComplex=function(n,i,r,u,f,e,o,s){var h=(r<u?r:u)/2,a=0,v=0,y=0,p=0,c,l;return f<0&&(f*=a=-1),f>h&&(f=h),e<0&&(e*=v=-1),e>h&&(e=h),o<0&&(o*=y=-1),o>h&&(o=h),s<0&&(s*=p=-1),s>h&&(s=h),this._dirty=this._active=!0,c=this._ctx.arcTo,l=this._ctx.lineTo,this._activeInstructions.push(new t(this._ctx.moveTo,[n+r-e,i]),new t(c,[n+r+e*v,i-e*v,n+r,i+e,e]),new t(l,[n+r,i+u-o]),new t(c,[n+r+o*y,i+u+o*y,n+r-o,i+u,o]),new t(l,[n+s,i+u]),new t(c,[n-s*p,i+u+s*p,n,i+u-s,s]),new t(l,[n,i+f]),new t(c,[n-f*a,i-f*a,n+f,i,f]),new t(this._ctx.closePath)),this};n.drawCircle=function(n,t,i){return this.arc(n,t,i,0,Math.PI*2),this};n.drawEllipse=function(n,i,r,u){this._dirty=this._active=!0;var l=.5522848,o=r/2*l,s=u/2*l,h=n+r,c=i+u,e=n+r/2,f=i+u/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[n,f]),new t(this._ctx.bezierCurveTo,[n,f-s,e-o,i,e,i]),new t(this._ctx.bezierCurveTo,[e+o,i,h,f-s,h,f]),new t(this._ctx.bezierCurveTo,[h,f+s,e+o,c,e,c]),new t(this._ctx.bezierCurveTo,[e-o,c,n,f+s,n,f])),this};n.drawPolyStar=function(n,i,r,u,f,e){var o,s;for(this._dirty=this._active=!0,f==null&&(f=0),f=1-f,e==null?e=0:e/=180/Math.PI,o=Math.PI/u,this._activeInstructions.push(new t(this._ctx.moveTo,[n+Math.cos(e)*r,i+Math.sin(e)*r])),s=0;s<u;s++)e+=o,f!=1&&this._activeInstructions.push(new t(this._ctx.lineTo,[n+Math.cos(e)*r*f,i+Math.sin(e)*r*f])),e+=o,this._activeInstructions.push(new t(this._ctx.lineTo,[n+Math.cos(e)*r,i+Math.sin(e)*r]));return this};n.decodePath=function(n){for(var w=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo],b=[2,2,4,6],r=0,k=n.length,e=[],o=0,s=0,f=i.BASE_64,y,l,u,t,p;r<k;){var a=n.charAt(r),h=f[a],c=h>>3,v=w[c];if(!v||h&3)throw"bad path data (@"+r+"): "+a;for(y=b[c],c||(o=s=0),e.length=0,r++,l=(h>>2&1)+2,u=0;u<y;u++)t=f[n.charAt(r)],p=t>>5?-1:1,t=(t&31)<<6|f[n.charAt(r+1)],l==3&&(t=t<<6|f[n.charAt(r+2)]),t=p*t/10,u%2?o=t+=o:s=t+=s,e[u]=t,r+=l;v.apply(this,e)}return this};n.clone=function(){var n=new i;return n._instructions=this._instructions.slice(),n._activeInstructions=this._activeInstructions.slice(),n._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(n._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(n._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(n._strokeStyleInstructions=this._strokeStyleInstructions.slice()),n._active=this._active,n._dirty=this._dirty,n.drawAsPath=this.drawAsPath,n};n.toString=function(){return"[Graphics]"};n.mt=n.moveTo;n.lt=n.lineTo;n.at=n.arcTo;n.bt=n.bezierCurveTo;n.qt=n.quadraticCurveTo;n.a=n.arc;n.r=n.rect;n.cp=n.closePath;n.c=n.clear;n.f=n.beginFill;n.lf=n.beginLinearGradientFill;n.rf=n.beginRadialGradientFill;n.bf=n.beginBitmapFill;n.ef=n.endFill;n.ss=n.setStrokeStyle;n.s=n.beginStroke;n.ls=n.beginLinearGradientStroke;n.rs=n.beginRadialGradientStroke;n.bs=n.beginBitmapStroke;n.es=n.endStroke;n.dr=n.drawRect;n.rr=n.drawRoundRect;n.rc=n.drawRoundRectComplex;n.dc=n.drawCircle;n.de=n.drawEllipse;n.dp=n.drawPolyStar;n.p=n.decodePath;n._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(i.beginCmd);this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions);this._strokeInstructions&&(this._instructions.push.apply(this._instructions,this._strokeInstructions),this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions));this._instructions.push.apply(this._instructions,this._activeInstructions);this._fillInstructions&&this._instructions.push(i.fillCmd);this._strokeInstructions&&this._instructions.push(i.strokeCmd)};n._getEllipseArc=function(n,i,r,u){var l=.5522848,o=r/2*l,s=u/2*l,h=n+r,c=i+u,e=n+r/2,f=i+u/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[n,f]),new t(this._ctx.bezierCurveTo,[n,f-s,e-o,i,e,i]),new t(this._ctx.bezierCurveTo,[e+o,i,h,f-s,h,f]),new t(this._ctx.bezierCurveTo,[h,f+s,e+o,c,e,c]),new t(this._ctx.bezierCurveTo,[e-o,c,n,f+s,n,f])),this};n._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};n._setProp=function(n,t){this[n]=t};createjs.Graphics=i}();MarketReport=MarketReport||{};MarketReport.Components=MarketReport.Components||{};MarketReport.Logic=MarketReport.Logic||{};MarketReport.Model=MarketReport.Model||{};MarketReport.Meter=MarketReport.Meter||{};MarketReport.Styling=MarketReport.Styling||{};MarketReport.Collision=MarketReport.Collision||{};MarketReport.Util=MarketReport.Util||{};MarketReport.Config=MarketReport.Config||{},function(){MarketReport.MarketMeterWidget=function(n,t,i,r,u){var o=this,e,s,f;for(t.flashCanvasEnabled=typeof FlashCanvas!="undefined",this.isActive=!0,this.pendingRemoveTransitions=0,this.pendingReplaceTransitions=0,this.stage=n,this.meterConstant=MarketReport.Model.MeterFactory.getConstants(t.type),this.canvasCoordinateManager=new MarketReport.Logic.CanvasCoordinateManager(n,t,this.meterConstant),this.model=null,this.overlay=r,this.logic={collisionManager:typeof MarketReport.Logic.CollisionManager!="undefined"?new MarketReport.Logic.CollisionManager:null},this.pendingAssets=0,this.ignoreAssets=!1,this.config=t,this.previousWidget=i,this.moduleInterface=u,this.initializing=!0,this.imageCache={},this.overClassName="challenger-cursor",this.overClassRegExp=new RegExp("(?!S)"+this.overClassName+"(?!S)","g"),e=!1,s=function(){o.pendingAssets!=0||e||(e=!0,o.init())},f=0;f<MarketReport.Model.MeterFactory.requiredAssets.length;f++)o.requireAsset(t.imageDir+"/"+MarketReport.Model.MeterFactory.requiredAssets[f],s);if(window.devicePixelRatio&&window.devicePixelRatio>1)for(f=0;f<MarketReport.Model.MeterFactory.requiredRetinaAssets.length;f++)o.requireAsset(t.imageDir+"/"+MarketReport.Model.MeterFactory.requiredRetinaAssets[f],s);this.pendingAssets!=0||e||(e=!0,this.init())};MarketReport.MarketMeterWidget.prototype={imageCache:null,lastClickTime:0,clickThrottle:700,addMouseListeners:function(n,t,i){var r=this,u,f;n&&(this.model.config.valid||this.model.config.allowMouseEventsForInvalid||i==!0)&&(n.hasListener("mousedown")&&(t.onPress=function(t){n.dispatchEvent({type:"mousedown",target:n,x:t.rawX,y:t.rawY})}),n.hasListener("click")&&(t.onClick=function(t){t.nativeEvent.preventDefault();Date.now()-r.lastClickTime>r.clickThrottle&&n.dispatchEvent({type:"click",target:n,x:t.rawX,y:t.rawY});r.lastClickTime=Date.now()},t.onMouseOver=function(){t.model&&t.model.alpha===0||r.showSelectCursor()},t.onMouseOut=function(){r.hideSelectCursor()},t.hasAddedListeners=!0),n.hasListener("mouseover")&&(u=t.onMouseOver,t.onMouseOver=function(t){n.dispatchEvent({type:"mouseover",target:n,x:t.rawX,y:t.rawY});(u||function(){})()}),n.hasListener("mouseout")&&(f=t.onMouseOut,t.onMouseOut=function(t){n.dispatchEvent({type:"mouseout",target:n,x:t.rawX,y:t.rawY});(f||function(){})()}))},showSelectCursor:function(){this.stage.canvas.className.match(this.overClassRegExp)||(this.stage.canvas.className=(this.stage.canvas.className+" "+this.overClassName).trim())},hideSelectCursor:function(){this.stage.canvas.className=this.stage.canvas.className.replace(this.overClassRegExp,"")},getImage:function(n){return this.imageCache[n]},requireAsset:function(n,t){var r,i;this.imageCache[n]==null&&(r=this,this.pendingAssets++,i=new Image,i.onload=function(){r.addImageToCache(n,i);r.onImageLoad(t)},i.onerror=function(){r.onImageLoad(t)},i.src=n)},addImageToCache:function(n,t){this.imageCache[n]=t;typeof FlashCanvas!="undefined"&&this.stage.canvas.getContext("2d").drawImage(t,0,0,1,1)},onImageLoad:function(n){this.pendingAssets--;n!=null&&n();this.ignoreAssets||this.updateDisplay()},init:function(){var n=this;switch(this.config.mode){case"animate":this.config.animate=!0;break;case"image":this.config.animate=!1;break;case"snap":this.config.animate=!1;break;default:this.config.animate=!0}this.createNewModel();this.model.dispatchEvent({type:"render"});this.previousWidget==null||this.previousWidget.rootComponent==null?(this.rootComponent=new MarketReport.Components.Meter(this.model,this),this.stage.removeAllChildren(),this.stage.addChild(this.rootComponent),this.config.animate==!1?this.executeInitialPhase():setTimeout(function(){n.executeInitialPhase()},1)):(this.previousWidget.ignoreAssets=!0,this.previousWidget.isActive=!1,this.rootComponent=this.previousWidget.rootComponent,this.rootComponent.widget=this,this.stage.removeAllChildren(),this.stage.addChild(this.rootComponent),this.previousWidget.model.config.animate=this.config.animate,this.config.animate==!1?this.executeRemovePhase():setTimeout(function(){n.executeRemovePhase()},1))},updateDisplay:function(){this.stage.update();this.moduleInterface&&this.moduleInterface.onDisplayUpdate&&this.moduleInterface.onDisplayUpdate()},createNewModel:function(){this.model=MarketReport.Model.MeterFactory.newInstance(this,this.config,this.previousWidget&&this.previousWidget.rootComponent?this.previousWidget.model:null)},dispatchEvent:function(n){this.model&&this.model.dispatchEvent(n)},executeInitialPhase:function(){this.dispatchEvent({type:"initialRender",transitionManager:new MarketReport.Model.TransitionManager(this.executeLabelPhase,this)})},executeRemovePhase:function(){this.previousWidget.model.dispatchEvent({type:"remove",transitionManager:new MarketReport.Model.TransitionManager(this.executeReplacePhase,this)})},executeReplacePhase:function(){this.dispatchEvent({type:"removeComplete"});this.model.setOldComponents(this.previousWidget.model);this.overlay.html("");this.rootComponent.setModel(this.model);delete this.previousWidget;this.dispatchEvent({type:"replace",transitionManager:new MarketReport.Model.TransitionManager(this.executeLabelPhase,this)})},executeLabelPhase:function(){this.dispatchEvent({type:"showLabel",transitionManager:new MarketReport.Model.TransitionManager(this.animationsComplete,this)})},animationsComplete:function(){this.initializing=!1},tick:function(){this.rootComponent.tick()},onAfterTransition:function(){this.stage._mouseOverTarget&&this.stage._mouseOverTarget.model&&this.stage._mouseOverTarget.model.alpha===0&&this.hideSelectCursor()}}}();MarketReport.Util.BackgroundUtil={roundedBox:function(n,t,i,r){return function(){var e=r!==undefined?r:"#FFFFFF",u=new createjs.Graphics,f;return u.beginFill(n),u.drawRoundRect(0,0,this.width,this.height,t),u.endFill(),u.beginFill(e),u.drawRoundRect(1,1,this.width-2,this.height-2,t-2),u.endFill(),f=new createjs.Shape(u),i&&(f.shadow=new createjs.Shadow(i,2,2,5)),f}},headerBox:function(n,t,i,r){return function(){var u=new createjs.Graphics,f;return u.beginFill(i),u.drawRoundRect(0,0,this.width,this.height,r),u.endFill(),u.beginFill(n),u.drawRoundRect(1,1,this.width-2,this.height-2,r-2),u.endFill(),u.beginFill(t),u.drawRoundRectComplex(1,1,this.width-2,this.height/2,r-2,r-2,0,0),u.endFill(),f=new createjs.Shape(u),f.shadow=new createjs.Shadow("rgba(204,204,204,0.3)",2,2,5),f}},modalBox:function(){return function(){var i=-.5,r=-.5,u=this.width+1,f=this.height+1,n=10,e=new createjs.Graphics,c,t,l,o,s,h;return e.beginStroke("#a2a2a2"),e.beginFill("rgb(244,244,244)"),e.drawRect(i,r,u,f),c=new createjs.Shape(e),c.alpha=.6,t=new createjs.Graphics,t.beginFill("rgb(255,0,0)"),t.drawRect(i-n,r-n,n,f+2*n),t.drawRect(i-n,r-n,u+2*n,n),t.drawRect(i+u,r-n,n,f+2*n),t.drawRect(i-n,r+f,u+2*n,n),l=new createjs.Shape(t),o=new createjs.Graphics,o.beginFill("rgb(244,244,244)"),o.drawRect(i,r,u,f),s=new createjs.Shape(o),s.shadow=new createjs.Shadow("#ccc",-3,3,6),s.mask=l,h=new createjs.Container,h.addChild(s),h.addChild(c),h}}};MarketReport.Util.ClassUtil={extend:function(){return $.extend.apply($,arguments)},extendClass:function(n,t){n.prototype=this.extend(Object.create(t.prototype),n.prototype)}};MarketReport.Util.DomUtil={position:function(n){try{return $(n).position()}catch(t){return{}}}};MarketReport.Util.LabelUtil={center:function(n,t,i,r){if(!n.centered){var u=this.measureLabels(n,t);n[0].paddingTop+=(r-u.height-2*i)/2;n.centered=!0}},addCommas:function(n){n+="";x=n.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2},wrapLabel:function(n,t){var f;if(this.measure(n),n.width>t){for(var u=n.text.split(" "),r=u.length,i=$.extend(!0,{},n);r>1&&i.width>t;)r--,i=$.extend(!0,{},n),i.text=u.slice(0,r).join(" "),delete i.width,this.measure(i);if(r<u.length)return f=$.extend(!0,{},n),f.text=u.slice(r).join(" "),delete f.width,[i].concat(this.wrapLabel(f,t))}return[n]},measure:function(n){var i,t,r;return n=$.extend(n,n.style),i=(n.weight?n.weight+" ":"")+n.fontSize+"px "+n.font,typeof FlashCanvas!="undefined"?(t=document.createElement("span"),t.innerHTML=n.text,t.style.font=i,document.getElementsByTagName("body")[0].appendChild(t),n.width||(n.width=t.offsetWidth),n.height||(n.height=t.offsetHeight),document.getElementsByTagName("body")[0].removeChild(t)):(r=new createjs.Text(n.text,i,n.color),n.width||(n.width=r.getMeasuredWidth()),n.height||(n.height=r.getMeasuredHeight())),n.paddingTop=n.paddingTop||0,n.paddingBottom=n.paddingBottom||0,n},measureText:function(n){var u=(n.weight?n.weight+" ":"")+n.fontSize+"px "+n.font,i={},t,r;return typeof FlashCanvas!="undefined"?(t=document.createElement("span"),t.innerHTML=n.text,t.style.font=u,document.getElementsByTagName("body")[0].appendChild(t),i.width=t.offsetWidth,i.height=t.offsetHeight,document.getElementsByTagName("body")[0].removeChild(t)):(r=new createjs.Text(n.text,u,n.color),i.width=r.getMeasuredWidth(),i.height=r.getMeasuredHeight()),i},measureLabels:function(n,t){var f=0,r=0,u,i;if(n.length){for(u=0;u<n.length;u++)i=n[u],i=i.type=="hbox"?this.measureHorizontalLabels(i):this.measure(i),f=Math.max(f,i.width),r+=i.height+t+i.paddingTop+i.paddingBottom;r=r-n[n.length-1].paddingBottom}return{width:f,height:r}},measureHorizontalLabels:function(n){var u=0,r=0,i,t;if(n.type=="hbox"){for(i=0;i<n.children.length;i++)t=this.measure(n.children[i]),u+=t.width,r=Math.max(r,t.height+t.paddingTop+t.paddingBottom);n.width=u;n.height=r;n.paddingTop=0;n.paddingBottom=0}return n},cappedNumberDisplay:function(n){if(n>99999)return"99K+";if(n>999){var t=Math.floor(n/10),i=t/100;return this.addCommas(i)+"K"}return this.addCommas(n)}};MarketReport.Util.CanvasUtil={createTether:function(n,t,i,r,u){return new MarketReport.Model.Tether(n,{alpha:0,includeTetherKnob:!1,path:[{x:i.x,y:i.y},{x:i.x,y:r+i.y},{x:t.getActualX()+t.getActualWidth()/2,y:r+i.y},{x:t.getActualX()+t.getActualWidth()/2,y:t.getActualY()}],states:{initial:{alpha:0},finalState:{alpha:1}}},u)},avoidAngleOverlap:function(n,t,i,r){var u=n-t,f=u==0?1:u/Math.abs(u);return Math.abs(u)<i?(r&&r(n+f*i),n+f*i):n},followCurveTween:function(n){return function(t){var i={getX:t.getX,getY:t.getY};t.getX=function(){return this.centerX-Math.min(this.radius,n.radius)*Math.cos(Math.PI-Math.min(n.endAngle,this.angle))};t.getY=function(){return this.centerY+Math.min(this.radius,n.radius)*Math.sin(Math.PI-Math.min(n.endAngle,this.angle))};createjs.Tween.get(t).to(i,this.duration,createjs.Ease.sineOut).call(this.transitionComplete,[],this)}},insideRect:function(n,t,i,r,u,f){return n>=i&&n<=i+u&&t>=r&&t<=r+f},doHorizontalLinesIntersect:function(n,t,i,r,u){return u=typeof u!="undefined"?u:0,n>i&&n<r||n>r&&n<i||t>r&&t<i||t>i&&t<r||i>n&&i<t||i>t&&i<n||r>t&&r<n||r>n&&r<t||n-u>i&&n-u<r||n-u>r&&n-u<i||t+u>r&&t+u<i||t+u>i&&t+u<r||i+u>n&&i+u<t||i+u>t&&i+u<n||r-u>t&&r-u<n||r-u>n&&r-u<t||n+u>i&&n+u<r||n+u>r&&n+u<i||t-u>r&&t-u<i||t-u>i&&t-u<r||i-u>n&&i-u<t||i-u>t&&i-u<n||r+u>t&&r+u<n||r+u>n&&r+u<t},getXOfPointInACircle:function(n,t,i){return n-t*Math.cos(Math.PI-i)}},function(){MarketReport.Styles=MarketReport.Styles||{};MarketReport.Styles.PricePoint={Green:{inner:{colors:["#178207","#5CA049"],positions:[0,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},BlueGradient:{inner:{colors:["#4E8ABE","#00549C"],positions:[0,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},Blue:{inner:{colors:["#0C82C4","#0C82C4"],positions:[0,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},Grey:{inner:{colors:["#777777","#969696"],positions:[0,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},Grey2:{inner:{colors:["#969A96","#767A76"],positions:[0,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},Grey3:{inner:{colors:["#767A76","#464A46"],positions:[0,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},Red:{inner:{colors:["#DA001E","#DA001E","#F64846"],positions:[0,.143,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},Red2:{inner:{colors:["#D75A4F","#BC0202"],positions:[0,1],angle:-90},middle:{colors:["#D8EBDD","#D8EBDD","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#D1E8C5","#D1E8C5","#B3C7C5"],positions:[0,.143,1],angle:-56}},Orange:{inner:{colors:["#FF8004","#FF8004"],positions:[0,1],angle:-90},middle:{colors:["#E8FBED","#E8FBED","#B3C7C5"],positions:[0,.143,1],angle:135},outer:{colors:["#E1F8D5","#E1F8D5","#B3C7C5"],positions:[0,.143,1],angle:-56}},getLargePoint:function(n,t){return this.getPoint(n,t,{inner:6/155,middle:1.18*(6/155),outer:1.9*(6/155)})},getSmallPoint:function(n,t){return this.getPoint(n,t,{inner:5/155,middle:1.18*(5/155),outer:1.9*(5/155)})},getSmallerMediumPoint:function(n,t){return this.getPoint(n,t,{inner:.9*(6/155),middle:6/155,outer:1.66*(6/155)})},getMediumPoint:function(n,t){return this.getPoint(n,t,{inner:.8*(6/155),middle:.98*(6/155),outer:1.7*(6/155)})},getSmallSolidPoint:function(n,t){return this.getPoint(n,t,{inner:5/155,middle:0,outer:0})},getPoint:function(n,t,i){return{shadowSpread:8,inner:{radius:i.inner*n,gradient:t.inner},middle:{radius:i.middle*n,gradient:t.middle},outer:{radius:i.outer*n,gradient:t.outer}}}}}(),function(){MarketReport.Styles=MarketReport.Styles||{};MarketReport.Styles.Labels={RangeHeaderSpacer:function(n){return{height:18,fontSize:11,font:n.font,color:"#FFFFFF",weight:"bold"}},RangeValueSpacer:function(n){return{height:18,fontSize:15,font:n.font,color:"#FFFFFF"}},RangeHeader:function(n){return{height:14,fontSize:12,font:n.font,color:"#FFFFFF"}},RangeValue:function(n){return{height:16,fontSize:16,font:n.font,color:"#FFFFFF",weight:"bold"}},PriceLabelClose:function(n){return{height:12,fontSize:12,font:n.font,color:"#333333"}},PriceSmallLabel:function(n){return{height:14,fontSize:12,font:n.font,color:"#333333"}},PriceSmallValue:function(n){return{height:14,fontSize:12,font:n.font,color:"#333333",weight:"bold"}},NoInfoHeader:function(n){return{height:16,fontSize:14,font:n.font,color:"#333333",weight:"bold"}},NoInfoContent:function(n){return{height:14,fontSize:12,font:n.font,color:"#333333"}},SuggestedRetailPrice:function(n){return{height:22,fontSize:18,font:n.font,color:"#559C56",weight:"bold"}},PricePartyConditionLabel:function(n){return{fontSize:11,font:n.font,color:"#333333",height:12}},PricePartyHeader:function(n){return{height:16,fontSize:12,font:n.font,color:"#333333"}},PricePartyValue:function(n){return{height:16,fontSize:16,font:n.font,weight:"bold",color:"#005CB0"}},PricePartyMonthly:function(n){return{height:14,fontSize:12,font:n.font,color:"#005CB0"}},PricePartyStar:function(n){return{height:14,fontSize:12,font:n.font,color:"#333333"}},PricingDefinitionLabel:function(n){return{height:12,fontSize:12,font:n.font,textAlign:"left",color:"#005CB0"}},PricingDefinitionLabelNoWrap:function(n){return{height:12,fontSize:11,font:n.font,textAlign:"left",color:"#005CB0"}},UnavialableLabel:function(n){return{height:15,fontSize:12,font:n.font,color:"#666666",weight:"bold"}},UnavialableLabelLarge:function(n){return{height:15,fontSize:14,font:n.font,color:"#060606",weight:"bold"}},UnavialableWhyLabel:function(n){return{height:12,fontSize:12,font:n.font,color:"#005CB0"}},SmallNewCarLabel:function(n){return{height:12,fontSize:12,font:n.font,color:"#333333"}}}}(),function(){MarketReport.Components.MeterComponent=function(n,t){this.model=n;this.widget=t;this.initialize()};MarketReport.Components.MeterComponent.prototype={initialize:function(){createjs.Container.prototype.initialize.call(this);this.renderComponent();this.addListeners(this.model)},setWidget:function(n){this.widget=n},addListeners:function(n){var t=this;n.addEventListener("propertyChange",function(){t.renderComponent();t.widget.updateDisplay()});this.widget.addMouseListeners(n,this)},renderComponent:function(){},tick:function(){(this.model.animating||this.model.animationComplete)&&(this.model.animating||(this.model.animationComplete=!1),this.renderComponent())},renderBounds:function(){if(this.model.bounds){var n=new createjs.Container;n.x=-this.x;n.y=-this.y;this._renderBounds(this.model.bounds,n);this.addChild(n)}},_renderBounds:function(n,t){switch(n.type){case"composite":this.renderCompositeBounds(n,t);break;case"rectangle":this.renderRectangleBounds(n,t);break;case"triangle":this.renderTriangleBounds(n,t)}},renderCompositeBounds:function(n,t){var r=new createjs.Container,i;for(r.x=n.model.x+n.model.dx,r.y=n.model.y+n.model.dy,i=0;i<n.model.nodes.length;i++)n.model.nodes[i].model.dx=0,n.model.nodes[i].model.dy=0,this._renderBounds(n.model.nodes[i],r);t.addChild(r)},renderRectangleBounds:function(n,t){var i=new createjs.Graphics;i.beginFill(createjs.Graphics.getRGB(0,255,0));i.drawRect(n.model.x+n.model.dx,n.model.y+n.model.dy,n.model.width,n.model.height);t.addChild(new createjs.Shape(i))},renderTriangleBounds:function(n,t){var i=n.model.verticies,u=new createjs.Graphics,r;for(u.beginFill(createjs.Graphics.getRGB(255,0,0)),u.moveTo(i[0].x,i[0].y),r=1;r<i.length;r++)u.lineTo(i[r%i.length].x,i[r%i.length].y);t.addChild(new createjs.Shape(u))}};MarketReport.Util.ClassUtil.extendClass(MarketReport.Components.MeterComponent,createjs.Container)}(),function(){MarketReport.Components.Tether=function(n,t){MarketReport.Components.MeterComponent.call(this,n,t)};var n=MarketReport.Components.Tether.prototype=Object.create(MarketReport.Components.MeterComponent.prototype);n.renderComponent=function(){this.removeAllChildren();this.tetherLine=this.drawTetherFromAnchorToLabel(this.model);this.alpha=this.model.alpha;this.addChild(this.tetherLine)};n.drawTetherFromAnchorToLabel=function(n){var t=new createjs.Graphics,i;for(t.setStrokeStyle(1),t.beginStroke(n.lineColor),t.moveTo(n.path[0].x,n.path[0].y),i=1;i<n.path.length;i++)t.lineTo(n.path[i].x-.5,n.path[i].y-.5);return n.includeTetherKnob&&(t.beginFill(n.knobColor),t.drawCircle(n.path[n.path.length-1].x,n.path[n.path.length-1].y,2),t.endFill()),new createjs.Shape(t)}}(),function(){MarketReport.Components.ExternalTether=function(n,t){MarketReport.Components.MeterComponent.call(this,n,t)};var n=MarketReport.Components.ExternalTether.prototype=Object.create(MarketReport.Components.MeterComponent.prototype);n.domElement=null;n.renderComponent=function(){if(!this.domElement){this.widget.overlay.append('<div id="tether_'+this.model.name+'"><div class="t1"/><div class="t2"/><\/div>');this.domElement=$("#tether_"+this.model.name);var n=this.model.start.x+this.widget.canvasCoordinateManager.canvasX,t=this.model.start.y+this.widget.canvasCoordinateManager.canvasY;this.domElement.children(".t1").css({position:"absolute",left:n,top:Math.min(t,this.model.end.y),width:3,height:Math.abs(this.model.end.y-t),backgroundColor:"#414BA2"});this.domElement.children(".t2").css({position:"absolute",left:n,top:this.model.end.y,width:Math.abs(this.model.end.x-n),height:3,backgroundColor:"#414BA2"})}this.domElement[0].style.opacity=this.model.alpha}}(),function(){MarketReport.Components.Logo=function(n,t){this.isInitialized=!1;MarketReport.Components.MeterComponent.call(this,n,t)};MarketReport.Components.Logo.prototype={renderComponent:function(){this.x=this.model.x;this.y=this.model.y;this.scaleX=this.model.scaleX;this.scaleY=this.model.scaleY;this.isInitialized||this.addChild(new createjs.Bitmap(this.widget.getImage(this.model.imageUrl)));this.model.animating=!1;this.isInitialized=!0}};MarketReport.Util.ClassUtil.extendClass(MarketReport.Components.Logo,MarketReport.Components.MeterComponent)}(),function(){var t=MarketReport.Components.MeterComponent,n;return MarketReport.Components.CurvedLabel=function(n,i){this.image=null;this.container=null;t.call(this,n,i)},n=MarketReport.Components.CurvedLabel.prototype=Object.create(t.prototype),n.renderComponent=function(){var t=this,n=this.model.scale==null?1:this.model.scale;this.image==null&&(this.widget.requireAsset(this.model.url,function(){t.renderComponent()}),this.image=new createjs.Bitmap(this.widget.getImage(this.model.url)?this.widget.getImage(this.model.url):this.model.url),this.image.scaleX=n,this.image.scaleY=n,this.container=new createjs.Container,this.addChild(this.container),this.container.addChild(this.image));this.image.y=-this.model.radius;this.image.x=-n*this.model.width/2;this.container.x=this.model.centerX;this.container.y=this.model.centerY;this.container.rotation=-90+(this.model.angle-Math.PI)*180/Math.PI;this.image.alpha=this.model.alpha},n}(),function(){MarketReport.Components.Label=function(n,t){MarketReport.Components.MeterComponent.call(this,n,t)};var n=MarketReport.Components.Label.prototype=Object.create(MarketReport.Components.MeterComponent.prototype);n.domElement=null;n.renderComponent=function(){this.removeAllChildren();this.label=this.drawLabel();this.label.x=this.model.getActualX();this.label.y=this.model.getActualY();this.label.alpha=this.model.alpha;this.addChild(this.label)};n.createLabel=function(n){var t=new createjs.Text(n.text,(n.weight?n.weight+" ":"")+n.fontSize+"px "+n.font,n.color);return t.y=n.y||t.y,t.textAlign=n.textAlign||"left",t.textBaseline=n.textBaseline||"bottom",t.alpha=n.hasOwnProperty("alpha")?n.alpha*this.model.alpha:this.model.alpha,t};n.createShadowLabel=function(n){var r,i,t;if(typeof FlashCanvas!="undefined"){for(r=new createjs.Container,i=0;i<8;i++)t=new createjs.Text(n.text,(n.weight?n.weight+" ":"")+n.fontSize+"px "+n.font,"#FFFFFF"),t.textAlign="left",t.textBaseline="bottom",t.x=1*Math.cos(i*2*Math.PI/8),t.y=1*Math.sin(i*2*Math.PI/8),r.addChild(t);return r}return t=new createjs.Text(n.text,(n.weight?n.weight+" ":"")+n.fontSize+"px "+n.font,"#FFFFFF"),t.textAlign="left",t.textBaseline="bottom",t.outline=!0,t._drawTextLine=function(n,t,i){n.lineWidth=3;this.outline?n.strokeText(t,0,i,this.maxWidth||65535):n.fillText(t,0,i,this.maxWidth||65535)},t};n._getObjectsUnderPoint=function(n,t,i,r){var u=this.widget.canvasCoordinateManager.scale;if(this.model.hasListener("click")&&this.model.hitTest({x:n/u,y:t/u}))if(i)i.push.apply(i,this.labels);else return r&&!this.mouseChildren?this:this.labels;return null};n.drawLabel=function(){var f=new createjs.Container,t,i,n,u,e,r;for(this.labels=[],typeof this.model.backgroundShape=="function"&&f.addChild(this.model.backgroundShape()),t=0;t<this.model.labels.length;t++){if(i=new createjs.Container,i.x=this.model.getXOffset(t),i.y=this.model.getYOffset(t),n=this.model.labels[t],u=null,n.type=="hbox")for(e=0,r=0;r<n.children.length;r++)u=this.createLabelWithShadow(n.children[r],i,e,n.children[r].height-n.height),e=u.x+n.children[r].width;else u=this.createLabelWithShadow(n,i);f.addChild(i);this.labels.push(n)}return f};n.createLabelWithShadow=function(n,t,i,r){var u=this.createLabel(n),f;return u.alpha=n.hasOwnProperty("alpha")?n.alpha*this.model.alpha:this.model.alpha,i&&(u.x=i),r&&(u.y=r),n.showShadow==!0&&(f=this.createShadowLabel(n),f.alpha=n.hasOwnProperty("alpha")?n.alpha*this.model.alpha:this.model.alpha,i&&(f.x=i),r&&(f.y=r),t.addChild(f)),t.addChild(u),u};n.drawDomLabel=function(){var i,r,t,n,u;for(domElement||(widget.overlay.append('<div id="label_'+this.model.name+'"><\/div>'),domElement=$("#label_"+this.model.name)),i=widget.stage.localToGlobal(this.model.getActualX(),this.model.getActualY()),r=$(widget.stage.canvas).offset(),domElement.offset({left:Math.round(r.left+i.x),top:Math.round(r.top+i.y)}),domElement.css({width:this.model.getActualWidth(),padding:this.model.padding,textAlign:this.model.orientation}),domElement.html(""),t=0;t<this.model.labels.length;t++)n=this.model.labels[t],u=$("<div>"+this.model.labels[t].text+"<\/div>"),u.css({font:(n.weight?n.weight+" ":"")+n.fontSize+"px "+n.font,color:n.color,padding:0,margin:"0 0 "+this.model.gap+"px 0",lineHeight:n.height+"px",opacity:n.hasOwnProperty("alpha")?n.alpha*this.model.alpha:this.model.alpha}),u.appendTo(domElement)}}(),function(){MarketReport.Components.PricePosition=function(n,t){MarketReport.Components.MeterComponent.call(this,n,t)};var n=MarketReport.Components.PricePosition.prototype=Object.create(MarketReport.Components.MeterComponent.prototype);n.renderComponent=function(){this.removeAllChildren();this.anchorImage=this.drawPricePositionAnchor(0,0,this.model,this.model.style);this.anchorImage.x=this.model.getX();this.anchorImage.y=this.model.getY();this.alpha=this.model.alpha;this.addChild(this.anchorImage)};n.drawPricePositionAnchor=function(n,t,i,r){var u=new createjs.Container,f,e,o;return f=this.drawPricePositionCircleComponent(n,t,r.outer.radius,"linear",r.outer.gradient.colors,r.outer.gradient.positions,r.outer.gradient.angle),e=this.drawPricePositionCircleComponent(n,t,r.middle.radius,"linear",r.middle.gradient.colors,r.middle.gradient.positions,r.middle.gradient.angle),o=this.drawPricePositionCircleComponent(n,t,r.inner.radius,"linear",r.inner.gradient.colors,r.inner.gradient.positions,r.inner.gradient.angle),f.shadow=new createjs.Shadow("#555",1,1,r.shadowSpread),u.addChild(f),u.addChild(e),u.addChild(o),u};n.drawPricePositionCircleComponent=function(n,t,i,r,u,f,e){var o=new createjs.Graphics;if(r==="radial")o.beginRadialGradientFill(u,f,n,t,0,n,t,i);else{var s=(90+e)*Math.PI/180,h=i*Math.sin(s),c=i*Math.cos(s);o.beginLinearGradientFill(u,f,n-h,t-c,n+h,t+c)}return o.drawCircle(n,t,i),new createjs.Shape(o)}}(),function(){var t=MarketReport.Components.MeterComponent,n;MarketReport.Components.PriceRange=function(n,i){t.call(this,n,i)};n=MarketReport.Components.PriceRange.prototype=Object.create(t.prototype);n.renderComponent=function(){var n;if(this.removeAllChildren(),this.addChild(this.drawPriceRange(this.model,this.model.style)),this.model.name=="scaleRange"&&this.model.alpha>0){var i=this.pointCalc(0),r=this.pointCalc(1),t=new createjs.Text("Scale Low","8px Arial","#ff7700");t.textAlign="center";t.x=i.x;t.y=i.y-10;n=new createjs.Text("Scale High","8px Arial","#ff7700");n.textAlign="center";n.x=r.x;n.y=r.y-10;this.addChild(t);this.addChild(n)}};n.pointCalc=function(n){return{x:this.model.getActualRadius()*Math.cos(this.model.getActualStartAngle()+n*(this.model.getActualEndAngle()-this.model.getActualStartAngle()))+this.model.getActualCenterX(),y:this.model.getActualRadius()*Math.sin(this.model.getActualStartAngle()+n*(this.model.getActualEndAngle()-this.model.getActualStartAngle()))+this.model.getActualCenterY()}};n.drawPriceRange=function(n,t){var i=new createjs.Graphics,r=null,u,f;return t.gradient?i.beginRadialGradientFill(t.gradient.colors,t.gradient.positions,n.centerX,n.centerY,0,n.centerX,n.centerY,n.radius):i.beginFill(t.color),i.moveTo(n.centerX,n.centerY),i.arc(n.centerX,n.centerY,n.radius,n.startAngle,n.endAngle),i.lineTo(n.centerX,n.centerY),i.endFill(),n.name=="scaleRange"&&(u=this.pointCalc(0),f=this.pointCalc(1),i.moveTo(u.x,u.y),i.setStrokeStyle(1),i.beginStroke("#FF0000"),i.lineTo(n.centerX,n.centerY),i.lineTo(f.x,f.y),i.endStroke()),r=new createjs.Shape(i),r.alpha=n.alpha,t.shadow!=null&&(r.shadow=new createjs.Shadow(t.shadow[0],t.shadow[1]*this.widget.canvasCoordinateManager.scale,t.shadow[2]*this.widget.canvasCoordinateManager.scale,t.shadow[3]*this.widget.canvasCoordinateManager.scale)),r}}(),function(){var t=createjs.Container,n;return MarketReport.Components.Meter=function(n,i){t.call(this);this.animationEnd=!1;this.setWidget(i);this.setModel(n)},n=MarketReport.Components.Meter.prototype=Object.create(t.prototype),n.setModel=function(n){var r,i,u,f,t;for(this.model=n,this.listOfChildren=[],r=this.model.getOrderedComponents(),i=null,t=0;t<r.length;t++)i=r[t],this.listOfChildren.push(new i.component(i,this.widget));for(this.removeAllChildren(),this.model.config.backgroundColor&&(u=(new createjs.Graphics).beginFill(this.model.config.backgroundColor).drawRect(0,0,this.widget.canvasCoordinateManager.width,this.widget.canvasCoordinateManager.height),f=new createjs.Shape(u),this.addChild(f)),t=0;t<this.listOfChildren.length;t++)this.addChild(this.listOfChildren[t])},n.setWidget=function(n){this.widget=n},n.tick=function(){for(var t=0,n=0;n<this.listOfChildren.length;n++)this.listOfChildren[n].animationEnd?t++:this.listOfChildren[n].tick();t===this.listOfChildren.length&&(this.animationEnd=!0)},n}(),function(){MarketReport.Model.TransitionManager=function(n,t){this.remainingTransitions=1;this.onAnimationComplete=n;this.onAnimationCompleteScope=t;this.completedTransitions=[];t.currentTransitionManager=this};MarketReport.Model.TransitionManager.prototype={remainingTransitions:0,onAnimationComplete:null,onAnimationCompleteScope:null,completedTransitions:null,animationComplete:function(n){this.completedTransitions.push(n);this.remainingTransitions--;this.remainingTransitions==0&&this.onAnimationComplete!=null&&this.onAnimationCompleteScope.isActive&&this.onAnimationComplete.call(this.onAnimationCompleteScope)},addTransition:function(){this.remainingTransitions++},addTransitionComplete:function(){this.animationComplete()}}}(),function(){MarketReport.Model.EventDispatcher=function(){this.listeners={};this.globalListeners=[]};MarketReport.Model.EventDispatcher.prototype={listeners:null,globalListeners:null,addEventListener:function(n,t,i){if(typeof n=="function")this.globalListeners.push({scope:t,func:n});else{var r=n;this.listeners[r]||(this.listeners[r]=[]);this.listeners[r].push({scope:i,func:t})}},dispatchEvent:function(n){n.hasOwnProperty("target")||(n.target=this);var i=null,t=0;if(this.hasListener(n.type))for(t=0;t<this.listeners[n.type].length;t++)i=this.listeners[n.type][t],i.func.call(i.scope,n);for(t=0;t<this.globalListeners.length;t++)i=this.globalListeners[t],i.func.call(i.scope,n)},hasListener:function(n){return this.listeners[n]&&this.listeners[n].length>0}}}(),function(){var t=MarketReport.Util.ClassUtil,n;MarketReport.Model.BaseModel=function(n,i){MarketReport.Model.EventDispatcher.call(this);this.name=n;this.config=i;t.extend(this,i);this.validateNow()};n=MarketReport.Model.BaseModel.prototype=Object.create(MarketReport.Model.EventDispatcher.prototype);n.type="none";n.name="";n.config=null;n.animating=!1;n.style=null;n.transitions=null;n.states=null;n.bounds=null;n.createBounds=function(){};n.component=null;n.validateNow=function(){this.validateProperties();this.validateSize()};n.validateProperties=function(){};n.validateSize=function(){};n.addTransition=function(n,t,i){return this.transitions==null&&(this.transitions={}),this.transitions[n]=new MarketReport.Model.Transition(this.name+"."+n,t,i)};n.addState=function(n,t){this.states==null&&(this.states={});this.states[n]=t};n.rename=function(n){if(this.name=n,this.transitions!=null)for(var t in this.transitions)this.transitions[t].name=this.transitions[t].name.replace(/.+?\./,n+".")}}();MarketReport.Model.Meter=function(n,t){var i,r;if(MarketReport.Model.EventDispatcher.call(this),this.widget=n,this.type=t.type,this.config=t,this.renderOrder=[],this.collisionPriority=[],this.renderLast=[],this.totalAnimating=0,this.animationComplete=!1,this.ignoredBounds=[],this.ignoredComponents=[],this.config.listeners&&this.config.listeners.meter){i=this.config.listeners.meter;for(r in i)this.addEventListener(r,i[r])}this.addEventListener(this.handleTransitionEvent,this)};MarketReport.Model.Meter.prototype=Object.create(MarketReport.Model.EventDispatcher.prototype);MarketReport.Model.Meter.prototype.ignoreBounds=function(n){this[n]&&this.ignoredComponents.indexOf(n)==-1&&(this.ignoredComponents.push(n),this.ignoredBounds.push(this[n].bounds),this[n].bounds=null)};MarketReport.Model.Meter.prototype.restoreBounds=function(){for(var t,n=0;n<this.ignoredBounds.length;n++)t=this.ignoredComponents[n],this[t].bounds=this.ignoredBounds[n];this.ignoredComponents=[];this.ignoredBounds=[]};MarketReport.Model.Meter.prototype.addComponent=function(n,t,i,r){var u,f,e;if(t==!0&&(u=this.widget.logic.collisionManager.calculateRelocation(n,i,this,this.widget,r),n.x+=u.model.dx,n.y+=u.model.dy,n.collisionChange={dx:u.model.dx,dy:u.model.dy},u.tetherRequired&&this.createTransition(n,i,u.tether),n.createBounds&&n.createBounds()),this[n.name]=n,this.config.listeners){f=this.config.listeners[n.name];for(e in f)n.addEventListener(e,f[e])}};MarketReport.Model.Meter.prototype.createTransition=function(n,t,i){var r=n.name+"_tether";this[r]=MarketReport.Util.ClassUtil.extend(i,{name:r,alpha:0,states:{initial:{alpha:0},finalState:{alpha:1}},transitions:{initialTransition:new MarketReport.Model.Transition(r+".initialTransition",this,{initialState:"initial",nextState:"finalState",during:[n.name+".initialTransition"],duration:500}),removeTransition:new MarketReport.Model.Transition(r+".removeTransition",this,{on:["remove"],nextState:"initial",duration:500})}})};MarketReport.Model.Meter.prototype.getRemainingRemoveComponents=function(n){var t={},u;if(n.config.valid==!1)this.highRange&&(this.highRange.states.finalState={alpha:0},t._highRange=this.highRange),this.fairRange&&(this.fairRange.states.finalState={alpha:0},t._fairRange=this.fairRange),this.fairPricePoint&&(this.fairPricePoint.states.finalState={alpha:0},t._fairPricePoint=this.fairPricePoint);else if(n.type!=this.type){if(this.fairRange){var i=n.config.getPriceAngle(this.config.fairPriceLow),r=n.config.getPriceAngle(this.config.fairPriceHigh),f=r-i;i<Math.PI+this.config.maximumRotationAngle?(i=Math.PI+this.config.maximumRotationAngle,r=i+f):r>2*Math.PI-this.config.maximumRotationAngle&&(r=2*Math.PI-this.config.maximumRotationAngle,i=r-f);this.fairRange.states.finalState={startAngle:i,endAngle:r,alpha:0};t._fairRange=this.fairRange}this.fairPricePoint&&(this.fairPricePoint.states.finalState={angle:n.config.getPriceAngle(this.config.fairPrice),alpha:0},t._fairPricePoint=this.fairPricePoint)}for(u in t)t[u].rename(u),t[u].addTransition("removeDuringReplaceTransition",n,{on:["replace"]});return t};MarketReport.Model.Meter.prototype.setOldComponents=function(n){var t=n.getRemainingRemoveComponents(this);MarketReport.Util.ClassUtil.extend(this,t)};MarketReport.Model.Meter.prototype.handleTransitionEvent=function(n){var t=this;n.hasOwnProperty("deferAnimationBy")&&n.deferAnimationBy>0?setTimeout(function(){t.executeTransitionEvent(n)},n.deferAnimationBy):this.executeTransitionEvent(n)};MarketReport.Model.Meter.prototype.executeTransitionEvent=function(n){var r=!1,u,t,f,i;for(u in this)if(t=this[u].transitions,t)for(f in t)i=t[f],i.on&&i.on.indexOf(n.type)!=-1&&(i.startTransition(n.transitionManager),r=!0);r&&this.widget.updateDisplay();n.transitionManager&&n.transitionManager.addTransitionComplete()};MarketReport.Model.Meter.prototype.isComponent=function(n){var t=this[n];return t!=null&&typeof t!="function"&&t.component};MarketReport.Model.Meter.prototype.getOrderedComponents=function(){var t=[],i=0,n="";for(i in this.renderOrder)n=this.renderOrder[i],this.isComponent(n)&&t.push(this[n]);for(n in this)this.renderOrder.indexOf(n)==-1&&this.renderLast.indexOf(n)==-1&&this.isComponent(n)&&t.push(this[n]);for(i in this.renderLast)n=this.renderLast[i],this.isComponent(n)&&t.push(this[n]);return t};MarketReport.Model.Meter.prototype.addArea=function(n){return this.areas=this.areas||[],this.areas.push(n),n},function(){MarketReport.Model.Tether=function(n,t,i){MarketReport.Model.BaseModel.call(this,n,t,i);(this.path==null||this.path.length==0)&&this.calculateTether()};MarketReport.Model.Tether.prototype={type:"tether",component:MarketReport.Components.Tether,includeTetherKnob:!0,tetherTo:null,anchor:null,path:[],padding:3,lineColor:"#666666",knobColor:"#666666",getPoint:function(n){return this.path[n]},calculateTether:function(){for(var s,h,t,c,l,r,p,u=this.tetherTo,n={x:u.model.x+u.model.dx,y:u.model.y+u.model.dy,width:u.model.width,height:u.model.height},f=this.anchor.getActualY()+this.anchor.getActualHeight()/2,k=new MarketReport.Collision.TetherBounds({x:this.anchor.getActualX()+this.anchor.getActualWidth()/2,y:Math.min(n.y,f),dx:0,dy:0,width:1,height:Math.abs(f-n.y)}),d=widget.logic.collisionManager.getCollisionArray(k.model,collisionMap),o=this.anchor.getActualWidth(),e=this.anchor.getActualWidth(),y=function(n){for(var i=0,r=0,t=0;t<n.length;t++)n[t].dx<0?r=Math.min(n[t].dx,r):i=Math.max(n[t].dx,i);return{dxMax:i,dxMin:r}},i=0;i<d.length;i++)s=d[i],s&&s.name!=this.anchor.name&&s.bounds&&(h=k.getDisplacement(s.bounds),t=y(h),o=Math.max(-t.dxMin+3,o),e=Math.max(t.dxMax+3,e));var g=new MarketReport.Collision.TetherBounds({x:this.anchor.getActualX()+this.anchor.getActualWidth()/2-o,y:Math.min(n.y,f),dx:0,dy:0,width:1,height:Math.abs(f-n.y)}),h=g.getDisplacement(u),t=y(h);o+=t.dxMin==0?0:Math.abs(t.dxMin)+3;var nt=new MarketReport.Collision.TetherBounds({x:this.anchor.getActualX()+this.anchor.getActualWidth()/2+e,y:Math.min(n.y,f),dx:0,dy:0,width:1,height:Math.abs(f-n.y)}),h=nt.getDisplacement(u),t=y(h);Math.abs(t.dxMin)<Math.abs(t.dxMax)?e-=t.dxMin==0?0:t.dxMin+3:e+=t.dxMax==0?0:Math.abs(t.dxMax)+3;c=this.anchor.getActualX()+this.anchor.getActualHeight()/2-widget.canvasCoordinateManager.width/2;Math.abs(c)<5&&(c=n.x+n.height/2-widget.canvasCoordinateManager.width/2);l=c<0?-o:e;r=[{x:this.anchor.getActualX()+this.anchor.getActualWidth()/2,y:this.anchor.getActualY()+this.anchor.getActualHeight()/2}];r.push({x:r[0].x+l,y:r[0].y});r.push({x:r[0].x+l,y:n.y+n.height/2});p=r[0].x+l-n.x;Math.abs(p)<Math.abs(p-n.width)?r.push({x:n.x-3,y:n.y+n.height/2}):r.push({x:n.x+n.width+3,y:n.y+n.height/2});this.path=r;var a=widget.canvasCoordinateManager.width,w=0,v=widget.canvasCoordinateManager.height,b=0;for(i=0;i<this.path.length;i++)a=Math.min(this.path[i].x,a),w=Math.max(this.path[i].x,w),v=Math.min(this.path[i].y,v),b=Math.max(this.path[i].y,b);this.tetherBounds={x:a,y:v,dx:0,dy:0,width:w-a,height:b-v}}};MarketReport.Util.ClassUtil.extendClass(MarketReport.Model.Tether,MarketReport.Model.BaseModel)}(),function(){MarketReport.Model.CurvedLabel=function(n,t,i){MarketReport.Model.BaseModel.call(this,n,t,i)};MarketReport.Model.CurvedLabel.prototype={type:"curved_label",component:MarketReport.Components.CurvedLabel,angle:0,radius:0,centerX:0,centerY:0,text:"",scale:1};MarketReport.Util.ClassUtil.extendClass(MarketReport.Model.CurvedLabel,MarketReport.Model.BaseModel)}(),function(){var t=MarketReport.Model.BaseModel,i=MarketReport.Util.LabelUtil,n;MarketReport.Model.Label=function(n,i,r){t.call(this,n,i,r)};n=MarketReport.Model.Label.prototype=Object.create(t.prototype);n.type="label";n.component=MarketReport.Components.Label;n.angle=0;n.x=0;n.y=0;n.padding=3;n.gap=2;n.textAlign="center";n.alpha=0;n.orientation="center";n.labels=[{text:"",fontSize:20,weight:"",font:"Myriad Pro",color:"#009700",y:null,textAlign:"left",textBaseline:"bottom"}];n.backgroundRect={x:0,y:0,height:0,width:0};n.backgroundShape=null;n.labelMetrics=null;n.getXOffset=function(n){var t=this.labels[n],i=t.textAlign?t.textAlign:this.textAlign;switch(i){case"center":return(this.width-t.width)/2;case"left":return this.padding;case"right":return this.width-t.width-this.padding}return this.padding};n.getYOffset=function(n){for(var r=this.padding,t=null,i=0;i<=n;i++)t=this.labels[i],r+=t.height+this.gap+t.paddingTop+t.paddingBottom;return r-this.gap-(t?t.paddingBottom:0)};n.getActualX=function(){switch(this.orientation){case"center":return this.x-this.width/2}return 0};n.getActualY=function(){switch(this.orientation){case"center":return this.y-this.height}return 0};n.getActualWidth=function(){return this.states.finalState.width?this.states.finalState.width:this.width};n.getActualHeight=function(){return this.states.finalState.height?this.states.finalState.height:this.height};n.validateNow=function(){t.prototype.validateNow.call(this);this.createBounds()};n.validateSize=function(){this.labelMetrics=i.measureLabels(this.labels,this.gap);this.config.width||(this.width=this.labelMetrics.width+2*this.padding);this.config.height||(this.height=this.labelMetrics.height+2*this.padding)};n.createBounds=function(){var n;if(typeof MarketReport.Collision.Bounds!="undefined"){var r=3,u=0,i={name:this.name,x:this.getActualX()-r,y:this.getActualY(),dx:0,dy:0,width:this.width,height:this.height,nodes:[]};for(n=0;n<this.labels.length;n++){var t=this.labels[n],f=t.width,e=(this.width-f)/2;i.nodes.push(new MarketReport.Collision.RectangleBounds({name:this.name,x:e,y:u,dx:0,dy:0,width:t.width+2*r,height:t.height+5}));u+=t.height+this.gap}i.shouldQuickCheck=!0;this.verticies=[];this.bounds=new MarketReport.Collision.CompositeBounds(i)}};n.getReferencePoint=function(n){return{x:n.x+n.width/2,y:n.y+n.height/2}};n.hitTest=function(n){for(var t,u=this.getActualX(),f=this.getActualY(),r=5,i=0;i<this.labels.length;i++)if(t=this.labels[i],(isNaN(t.alpha)||t.alpha>0)&&MarketReport.Util.CanvasUtil.insideRect(n.x,n.y,u+this.getXOffset(i)-r,f+this.getYOffset(i)-t.height-r,t.width+2*r,t.height+2*r))return!0;return!1}}(),function(){var t=MarketReport.Model.BaseModel,n;MarketReport.Model.PriceRange=function(n,i,r){t.call(this,n,i,r)};n=MarketReport.Model.PriceRange.prototype=Object.create(t.prototype);n.type="range";n.component=MarketReport.Components.PriceRange;n.radius=0;n.startAngle=0;n.endAngle=0;n.alpha=0;n.centerX=0;n.centerY=0;n.boundsParam=null;n.style=null;n.getFinalValue=function(n){return this.states.finalState.hasOwnProperty([n])?this.states.finalState[n]:this[n]};n.getActualCenterX=function(){return this.getFinalValue("centerX")};n.getActualCenterY=function(){return this.getFinalValue("centerY")};n.getActualRadius=function(){return this.getFinalValue("radius")};n.getActualStartAngle=function(){return this.getFinalValue("startAngle")};n.getActualEndAngle=function(){return this.getFinalValue("endAngle")};n.validateNow=function(){t.prototype.validateNow.call(this);this.boundsParam!=null&&typeof MarketReport.Collision.Bounds!="undefined"&&this.createBounds(this.boundsParam)};n.createBounds=function(n){for(var f,e={name:this.name,x:this.getActualCenterX(),y:this.getActualCenterY(),dx:0,dy:0,nodes:[]},r=this.getActualRadius(),t=this.getActualStartAngle(),u=this.getActualEndAngle(),i=0;i<n;i++)f={name:this.name,x:0,y:0,dx:0,dy:0,verticies:[{x:0,y:0}]},f.verticies.push({x:r*Math.cos(t+i*(u-t)/n),y:r*Math.sin(t+i*(u-t)/n)}),f.verticies.push({x:r*Math.cos(t+(i+1)*(u-t)/n),y:r*Math.sin(t+(i+1)*(u-t)/n)}),e.nodes.push(new MarketReport.Collision.TriangleBounds(f));this.bounds=new MarketReport.Collision.CompositeBounds(e)};n.hitTest=function(n){return(isNaN(this.alpha)||this.alpha>0)&&MarketReport.Util.CanvasUtil.pointInsideWedgeAmount(n,this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle)}}(),function(){MarketReport.Model.PricePosition=function(n,t,i){MarketReport.Model.BaseModel.call(this,n,t,i);var r=2;typeof MarketReport.Collision.RectangleBounds!="undefined"&&(this.bounds=new MarketReport.Collision.RectangleBounds({name:this.name,x:this.getActualX()-r,y:this.getActualY()-r,dx:0,dy:0,width:this.getActualWidth()+2*r,height:this.getActualHeight()+2*r}))};MarketReport.Model.PricePosition.prototype={type:"price_position",component:MarketReport.Components.PricePosition,angle:0,radius:0,centerX:0,centerY:0,alpha:1,style:MarketReport.Styles.PricePoint.getSmallSolidPoint(111,MarketReport.Styles.PricePoint.Green),getCoordinates:function(n,t,i,r){return{x:n-i*Math.cos(Math.PI-r),y:t+i*Math.sin(Math.PI-r)}},getX:function(){return this.getCoordinates(this.centerX,this.centerY,this.radius,this.angle).x},getY:function(){return this.getCoordinates(this.centerX,this.centerY,this.radius,this.angle).y},getXCenter:function(){return this.getCoordinates(this.centerX,this.centerY,this.states&&this.states.finalState?this.states.finalState.radius:this.radius,this.states&&this.states.finalState?this.states.finalState.angle:this.angle).x},getYCenter:function(){return this.getCoordinates(this.centerX,this.centerY,this.states&&this.states.finalState?this.states.finalState.radius:this.radius,this.states&&this.states.finalState?this.states.finalState.angle:this.angle).y},getActualX:function(){return this.getXCenter()-this.getActualWidth()/2},getActualY:function(){return this.getYCenter()-this.getActualWidth()/2},getActualWidth:function(){return this.style.outer.radius*2},getActualHeight:function(){return this.style.outer.radius*2},getActualAngle:function(){return this.states&&this.states.finalState?this.states.finalState.angle:this.angle},hitTest:function(n){return MarketReport.Util.CanvasUtil.insideEllipse(n.x,n.y,this.getX(),this.getY(),this.style.outer.radius)}};MarketReport.Util.ClassUtil.extendClass(MarketReport.Model.PricePosition,MarketReport.Model.BaseModel)}(),function(){MarketReport.Model.Transition=function(n,t,i){this.name=n;this.meter=t;$.extend(this,i)};MarketReport.Model.Transition.prototype={name:null,meter:null,initialState:"",nextState:"finalState",on:[],after:[],during:[],before:[],complete:!1,duration:1e3,animation:createjs.Ease.sineOut,transitionManager:null,currentTween:null,alterExisting:!1,startTransition:function(n){this.meter.totalAnimating++;this.meter.animationComplete=!1;this.complete=!1;n&&(this.transitionManager=n,this.transitionManager.addTransition(this));this.transitionBefore()},transitionBefore:function(){this.transitionBeforeComplete()},transitionBeforeComplete:function(){var n=this.meter[this.getModelName()];n==null?this.transitionComplete():this.nextState!=null&&(n.animating=!0,n.animationComplete=!1,this.preAnimation(n),n=this.meter[this.getModelName()],this.applyState(this.initialState,n),this.meter.config.animate==!1||this.meter.snapAnimation==!0||n.animate==!1?this.transitionComplete():this.execute(n,n.states[this.nextState]),this.executeRelated("during"))},transitionComplete:function(){this.complete=!0;var n=this.meter[this.getModelName()];n&&(this.applyState(this.nextState,n),this.postAnimation(n),n.animating=!1,n.animationComplete=!0);this.meter&&this.meter.dispatchEvent({type:this.getTransitionName()+"Complete",target:n});n&&n.dispatchEvent({type:this.getTransitionName()+"Complete",target:n});this.onAfterComplete();this.meter.totalAnimating--;this.meter.animationComplete=this.meter.totalAnimating==0;this.transitionManager&&(this.transitionManager.animationComplete(this),this.transitionManager=null)},onAfterComplete:function(){this.meter.widget.onAfterTransition();this.executeRelated("after")},executeRelated:function(n){var r,i,u,t;for(r in this.meter)if(i=this.meter[r].transitions,i)for(u in i)t=i[u],t[n]&&(t[n].indexOf(this.getModelName())!=-1||t[n].indexOf(this.name)!=-1)&&t.startTransition(this.transitionManager)},applyState:function(n,t){n!=null&&(MarketReport.Util.ClassUtil.extend(t,t.states[n]),t.children&&MarketReport.Util.ClassUtil.extend(!0,t,t.children),delete t.children)},execute:function(n,t){var r,f,i,u;if(t.children)for(r in t.children)createjs.Tween.get(n[r]).to(t.children[r],this.duration,this.animation);if(this.alterExisting&&this.currentTween&&!this.currentTween._paused){f=this.animation(Math.min(1,this.currentTween.duration-this.currentTween.position/this.duration));i=$.extend({},t);this.currentTween._steps[0].p1=i;for(u in i)i[u]=i[u]*f}else this.currentTween=createjs.Tween.get(n).to(t,this.duration,this.animation).call(this.transitionComplete,[],this)},postAnimation:function(){},preAnimation:function(){},getModelName:function(){return this.name.split(".")[0]},getTransitionName:function(){return this.name.split(".")[1]}};MarketReport.Model.Transition.stopTransitions=function(){}}(),function(){MarketReport.Model.Logo=function(n,t,i){MarketReport.Model.BaseModel.call(this,n,t,i);typeof MarketReport.Collision.RectangleBounds!="undefined"&&(this.bounds=new MarketReport.Collision.RectangleBounds({name:this.name,x:this.x,y:this.y,dx:0,dy:0,width:112.5,height:112.5}))};MarketReport.Model.Logo.prototype=Object.create(MarketReport.Model.BaseModel.prototype);MarketReport.Model.Logo.prototype.type="logo";MarketReport.Model.Logo.prototype.component=MarketReport.Components.Logo;MarketReport.Model.Logo.prototype.imageUrl="";MarketReport.Model.Logo.prototype.x=0;MarketReport.Model.Logo.prototype.y=0;MarketReport.Model.Logo.prototype.scaleX=1;MarketReport.Model.Logo.prototype.scaleY=1}(),function(){var t=MarketReport.Util.ClassUtil,n;MarketReport.Model.Config=function(n,i){var o,u;this.errorType=this.validate(i);this.valid=this.errorType==null;this.valid&&(i.scaleLow=Math.min(i.fairPriceLow>0?i.fairPriceLow:Infinity,i.scaleLow>0?i.scaleLow:Infinity),i.scaleHigh=Math.max(i.fairPriceHigh>0?i.fairPriceHigh:-Infinity,i.scaleHigh>0?i.scaleHigh:-Infinity),this.verifyScaleLowAndHigh(i));var f=i.fairPriceHigh-i.fairPriceLow,r=i.paddingAngle||this.paddingAngle,e=i.fairPriceAngle||this.fairPriceAngle;this.useScale(i)===!1?(this.resolution=(Math.PI-2*r)/(i.scaleHigh-i.scaleLow),this.currentFairPriceStartAngle=(i.fairPriceLow-i.scaleLow)*this.resolution+r,this.currentFairPriceEndAngle=(i.fairPriceHigh-i.scaleLow)*this.resolution+r,this.scaleLowAngle=r):(o=i.scaleHigh-f,u=(i.fairPriceLow-i.scaleLow)/(o-i.scaleLow),u=isNaN(u)?.5:u,this.currentFairPriceStartAngle=r+u*(Math.PI-2*r-e),this.currentFairPriceEndAngle=this.currentFairPriceStartAngle+e,this.resolution=(this.currentFairPriceEndAngle-this.currentFairPriceStartAngle)/f,this.scaleStartPoint=i.fairPriceLow-this.currentFairPriceStartAngle/this.resolution,this.scaleLowAngle=(i.scaleLow-this.scaleStartPoint)*this.resolution);this.fppRangeValue=f;this.lean=(this.currentFairPriceStartAngle-r)/(Math.PI-2*r-e);this.widget=n;n!=null&&(this.baseRadius=Math.round(n.canvasCoordinateManager.width/2)-3*n.canvasCoordinateManager.padding,this.fairPriceRadius=Math.round(n.canvasCoordinateManager.width/2)-1.575*n.canvasCoordinateManager.padding,this.scaleRadius=Math.round(n.canvasCoordinateManager.width/2)-1*n.canvasCoordinateManager.padding,this.centerX=n.canvasCoordinateManager.centerX,this.centerY=n.canvasCoordinateManager.centerY);i.messageInvalidData&&(i.messageInvalidData=t.extend(!0,{},this.messageInvalidData,i.messageInvalidData));i.messageNoData&&(i.messageNoData=t.extend(!0,{},this.messageNoData,i.messageNoData));t.extend(this,i);this.applyFont(this.messageInvalidData.header);this.applyFont(this.messageInvalidData.body);this.applyFont(this.messageNoData.header);this.applyFont(this.messageNoData.body)};n=MarketReport.Model.Config;n.BASE_START_ANGLE=Math.PI;n.BASE_END_ANGLE=Math.PI*2;n.FAIR_PRICE_ANGLE=50*(Math.PI/180);n.PADDING_ANGLE=22.5*(Math.PI/180);MarketReport.Model.Config.prototype={type:"base-meter",tcNumber:"",mileage:0,zip:"12345",modelYear:0,vehicleName:"",displayCarInfo:!1,paddingAngle:34*(Math.PI/180),fairPriceAngle:85*(Math.PI/180),animate:!0,showScale:!0,useScale:!0,scaleLow:0,scaleHigh:0,fairPriceLow:0,fairPriceHigh:0,fairPrice:0,showBounds:!1,font:'"Open Sans", "Arial"',font700:'"museo-sans-1", "museo_sans700", "Arial", "Tahoma"',font2:'"Tahoma", "Arial"',mouseOverClass:"mouse-over-class",fairPriceMonthly:0,imageDir:"",templateDir:"",valid:!0,allowMouseEventsForInvalid:!1,errorType:"none",scale:1,baseRadius:0,fairPriceRadius:0,scaleRadiu:0,fppRangeValue:0,resolution:0,centerX:0,centerY:0,lean:0,widget:null,fallbackClass:null,fallbackMapping:null,messageInvalidData:{header:{lines:["Info currently unavailable"],fontSize:18,weight:700,font:"font",color:"#333333"},body:{lines:["One or more data points are missing, so we","cannot display this graphic. Please check","back soon."],fontSize:12,weight:500,font:"font2",color:"#333333",height:13}},messageNoData:{header:{lines:["Info currently unavailable"],fontSize:18,weight:700,font:"font",color:"#333333"},body:{lines:["One or more data points are missing, so we","cannot display this graphic. Please check","back soon."],fontSize:12,weight:500,font:"font2",color:"#333333",height:13}},hidePricingDefinitions:!1,maximumRotationAngle:-Math.PI/4,textShadowOffsetX:0,textShadowOffsetY:1,backgroundColor:"#FFFFFF",isValidPrice:function(n){return isFinite(n)&&n>0},getPriceAngleRaw:function(n){return this.resolution*(n-this.scaleLow)+this.scaleLowAngle},getPriceAngle:function(n){return MarketReport.Model.Config.BASE_START_ANGLE+this.getPriceAngleRaw(n)},getPriceCoordinates:function(n,t){var i=this.getPriceAngleRaw(n);return this.getCoordinates(i,t)},verifyScaleLowAndHigh:function(){return},useScale:function(n){return n.useScale},getCoordinates:function(n,t){return{x:Math.round(this.widget.canvasCoordinateManager.centerX-t*Math.cos(n)),y:Math.round(this.widget.canvasCoordinateManager.centerY-t*Math.sin(n))}},validate:function(n){return n.scaleLow>=n.scaleHigh||isNaN(n.scaleHigh)||isNaN(n.scaleLow)||n.scaleLow===""||n.scaleHigh===""?"invalidData":n.scaleHigh===0||n.scaleHigh===null||n.scaleLow===0||n.scaleLow===null?"invalidData":isNaN(n.fairPriceLow)||n.fairPriceLow===null||n.fairPriceLow===0||n.fairPriceLow===""||isNaN(n.fairPriceHigh)||n.fairPriceHigh===null||n.fairPriceHigh===0||n.fairPriceHigh===""||n.fairPriceLow>=n.fairPriceHigh?"invalidData":isNaN(n.fairPrice)||n.fairPrice>n.fairPriceHigh||n.fairPrice<n.fairPriceLow?"invalidData":null},applyFont:function(n){n.font=="font"&&(n.font=this.font);n.font=="font2"&&(n.font=this.font2)}}}();MarketReport.Model.MeterFactory={meterMap:{},configMap:{},meterConstants:{},requiredAssets:[],requiredRetinaAssets:[],defaultConstants:{width:314,height:306,centerYOffset:1,logo:{imageUrl:"/logo-ribbon.png",logoDimension:110,defaultScaleX:.82,defaultScaleY:.82,offsetX:0,offsetY:-10}},register:function(n,t,i,r){return this.meterMap[n]=t,this.configMap[n]=i?i:MarketReport.Model.Config,this.meterConstants[n]=$.extend(!0,{},this.defaultConstants,r),t},newInstance:function(n,t,i){if(this.meterMap[t.type]){var r=new this.configMap[t.type](n,t);return new this.meterMap[t.type](n,r,i)}return new MarketReport.Model.Meter(n,new MarketReport.Model.Config(n,t),i)},getFallbackClass:function(n){return this.meterMap[n.type]?this.configMap[n.type].prototype.fallbackClass:"market-meter-fallback"},newConfigInstance:function(n,t){return this.meterMap[t.type]?new this.configMap[t.type](n,t):new MarketReport.Model.Config(n,t)},addRequiredAssets:function(n){this.requiredAssets=this.requiredAssets.concat(n)},addRequiredRetinaAssets:function(n){this.requiredRetinaAssets=this.requiredRetinaAssets.concat(n)},getConstants:function(n){return typeof n!="undefined"?this.meterConstants[n]:this.defaultConstants}},function(){MarketReport.Meter.Areas=MarketReport.Meter.Areas||{};MarketReport.Meter.Areas.Area=function(n,t,i,r,u){this.meter=n;this.widget=t;this.configModel=i;this.oldModel=r;this.oldConfig=r?r.config:null;this.settings=u}}(),function(){MarketReport.Meter.Areas=MarketReport.Meter.Areas||{};MarketReport.Model.MeterFactory.addRequiredAssets(["logo-ribbon.png"]);MarketReport.Meter.Areas.BaseCore=function(n,t,i,r,u){MarketReport.Meter.Areas.Area.call(this,n,t,i,r,u);this.addScaleRange(u?u.scakeRange:null);this.addBaseRange(u?u.baseRange:null);this.addLogo(u?u.logo:null)};MarketReport.Meter.Areas.BaseCore.prototype={addScaleRange:function(){this.meter.addComponent(new MarketReport.Model.PriceRange("scaleRange",{centerX:this.configModel.centerX,centerY:this.configModel.centerY,radius:this.oldConfig?this.oldConfig.scaleRadius:this.configModel.scaleRadius,startAngle:this.oldConfig?this.oldConfig.getPriceAngle(this.configModel.scaleLow):this.configModel.getPriceAngle(this.configModel.scaleLow),endAngle:this.oldConfig?this.oldConfig.getPriceAngle(this.configModel.scaleHigh):this.configModel.getPriceAngle(this.configModel.scaleHigh),style:{gradient:{colors:["#999999","#999999","#999999"],positions:[0,.2,1]}},states:{finalState:{alpha:this.configModel.showScale?1:0,startAngle:this.configModel.getPriceAngle(this.configModel.scaleLow),endAngle:this.configModel.getPriceAngle(this.configModel.scaleHigh)}}}));(this.oldModel==null||this.oldModel==undefined)&&this.meter.scaleRange.addTransition("initialTransition",this.meter,{on:["showLabel"],nextState:"finalState"});this.meter.scaleRange.addTransition("replaceTransition",this.meter,{on:["replace"],nextState:"finalState"})},addBaseRange:function(n){var t=this.meter;this.meter.addComponent(new MarketReport.Model.PriceRange("baseRange",{animate:!n||n.animate!=!1,centerX:this.configModel.centerX,centerY:this.configModel.centerY,alpha:this.oldConfig?1:0,radius:this.oldConfig?this.configModel.baseRadius:0,startAngle:this.oldConfig?MarketReport.Model.Config.BASE_START_ANGLE:0,endAngle:this.oldConfig?MarketReport.Model.Config.BASE_END_ANGLE:0,boundsParam:"custom",createBounds:function(){this.bounds=new MarketReport.Collision.CircleBounds({x:t.centerX,y:t.centerY,dx:0,dy:0,radius:this.states.finalState.radius})},style:{gradient:{colors:["#E6EAE6","#F0F0F0"],positions:[0,1]},shadow:["#555",2,1,12]},states:{initial:{alpha:1,radius:this.configModel.baseRadius,startAngle:MarketReport.Model.Config.BASE_START_ANGLE,endAngle:MarketReport.Model.Config.BASE_START_ANGLE},finalState:{alpha:1,radius:this.configModel.baseRadius,startAngle:MarketReport.Model.Config.BASE_START_ANGLE,endAngle:MarketReport.Model.Config.BASE_END_ANGLE}}}));this.meter.baseRange.addTransition("initialTransition",this.meter,{on:["initialRender"],initialState:"initial",nextState:"finalState"})},addLogo:function(){var n=this.widget.meterConstant.logo,t=this.widget.canvasCoordinateManager.width/314;this.meter.addComponent(new MarketReport.Model.Logo("logo",{imageUrl:this.configModel.imageDir+n.imageUrl,x:this.widget.canvasCoordinateManager.centerX-this.widget.canvasCoordinateManager.logoDimension/2+n.offsetX,y:this.widget.canvasCoordinateManager.centerY-this.widget.canvasCoordinateManager.logoDimension/2+n.offsetY,scaleX:t*n.defaultScaleX,scaleY:t*n.defaultScaleY}))}}}(),function(){MarketReport.Meter.Areas=MarketReport.Meter.Areas||{};MarketReport.Meter.Areas.BaseRanges=function(n,t,i,r,u){MarketReport.Meter.Areas.Area.call(this,n,t,i,r,u);i.fairPrice>0&&this.addFairRange(u?u.fairRange:null);i.fairPriceHigh>0&&this.addHighRange(u?u.highRange:null);u.fairRangeLabel!=!1&&this.addFairRangeLabel(u?u.fairRangeLabel:null);u.animateWithEvent&&(this.meter.fairRange&&(delete this.meter.fairRange.transitions.initialTransition.after,this.meter.fairRange.transitions.initialTransition.on=["showRange"]),this.meter.highRange&&(delete this.meter.highRange.transitions.initialTransition.on,this.meter.highRange.transitions.initialTransition.after=["fairRange.initialTransition"]),this.meter.fairPriceRangeLabel&&(delete this.meter.fairPriceRangeLabel.transitions.initialTransition.on,this.meter.fairPriceRangeLabel.transitions.initialTransition.after=["fairRange.initialTransition"]))};MarketReport.Meter.Areas.BaseRanges.prototype={addHighRange:function(n){var r=$.extend(!0,{direction:"left"},n),t=r.direction=="left"?MarketReport.Model.Config.BASE_START_ANGLE:this.configModel.getPriceAngle(this.configModel.fairPriceHigh),i=r.direction=="left"?this.configModel.getPriceAngle(this.configModel.fairPriceLow):MarketReport.Model.Config.BASE_END_ANGLE;this.meter.addComponent(new MarketReport.Model.PriceRange("highRange",{centerX:this.configModel.centerX,centerY:this.configModel.centerY,alpha:this.oldConfig&&this.oldConfig.valid?.75:0,radius:this.oldConfig?this.oldConfig.baseRadius:0,startAngle:this.oldConfig?this.oldModel.highRange?this.oldModel.highRange.startAngle:t:0,endAngle:this.oldConfig?this.oldModel.highRange?this.oldModel.highRange.endAngle:i:0,style:{gradient:{colors:["#D75A4F","#D75A4F","#BC0202"],positions:[0,.2,1]},shadow:["#555",2,1,12]},states:{initial:{radius:this.configModel.baseRadius,alpha:0,startAngle:t,endAngle:i},finalState:{radius:this.configModel.baseRadius,alpha:1,startAngle:t,endAngle:i}}}));(this.oldModel==null||this.oldModel==undefined)&&this.meter.highRange.addTransition("initialTransition",this.meter,{on:["showLabel"],initialState:"initial",nextState:"finalState"});this.meter.highRange.addTransition("replaceTransition",this.meter,{on:["replace"],nextState:"finalState"})},addFairRange:function(){var n=this.oldConfig?this.oldConfig.getPriceAngle(this.configModel.fairPriceLow):0,t=this.oldConfig?this.oldConfig.getPriceAngle(this.configModel.fairPriceHigh):0,r=0,i;this.oldModel&&(this.oldModel.config.valid?this.oldModel.fairRange&&this.oldModel.type==this.meter.type&&(n=this.oldModel.fairRange.startAngle,t=this.oldModel.fairRange.endAngle,r=.75):(n=this.configModel.getPriceAngle(this.configModel.fairPriceLow),t=this.configModel.getPriceAngle(this.configModel.fairPriceHigh)));i=t-n;n<Math.PI+this.configModel.maximumRotationAngle?(n=Math.PI+this.configModel.maximumRotationAngle,t=n+i):t>2*Math.PI-this.configModel.maximumRotationAngle&&(t=2*Math.PI-this.configModel.maximumRotationAngle,n=t-i);this.meter.addComponent(new MarketReport.Model.PriceRange("fairRange",{centerX:this.configModel.centerX,centerY:this.configModel.centerY,radius:this.oldConfig?this.oldConfig.fairPriceRadius:0,startAngle:n,endAngle:t,alpha:r,boundsParam:3,style:{color:"rgba(101, 182, 85, 0.98)",shadow:["#333",2,0,10]},states:{initial:{alpha:.75,radius:0,startAngle:this.configModel.getPriceAngle(this.configModel.fairPriceLow),endAngle:this.configModel.getPriceAngle(this.configModel.fairPriceLow)+Math.PI/180},finalState:{alpha:.75,radius:this.configModel.fairPriceRadius,startAngle:this.configModel.getPriceAngle(this.configModel.fairPriceLow),endAngle:this.configModel.getPriceAngle(this.configModel.fairPriceHigh)}}}));this.meter.fairRange.addTransition("initialTransition",this.meter,{initialState:"initial",nextState:"finalState",after:["baseRange.initialTransition"],execute:function(n,t){createjs.Tween.get(n).to({radius:t.radius},1e3,createjs.Ease.bounceOut).to({endAngle:t.endAngle},1e3,createjs.Ease.sineOut).call(this.transitionComplete,[],this)}});this.meter.fairRange.addTransition("replaceTransition",this.meter,{on:["replace"],nextState:"finalState"})},addFairRangeLabel:function(n){var r={centerX:this.configModel.centerX,centerY:this.configModel.centerY,fontPxSize:11,radius:this.configModel.fairPriceRadius-13,scale:this.widget.canvasCoordinateManager.scale>=2?.5:1,text:"TRADE-IN RANGE",image:"/trade-in-range.png",imageWidth:92,retinaImage:"/trade-in-range-2x.png",retinaImageWidth:180},t=$.extend(!0,r,n),u=this.configModel.getPriceAngle((this.configModel.fairPriceLow+this.configModel.fairPriceHigh)/2),i=this.widget.canvasCoordinateManager.scale>=2;this.meter.addComponent(new MarketReport.Model.CurvedLabel("fairPriceRangeLabel",{centerX:t.centerX,centerY:t.centerY,radius:t.radius,angle:u,url:this.configModel.imageDir+(i?t.retinaImage:t.image),width:i?t.retinaImageWidth:t.imageWidth,scale:t.scale,alpha:0,text:t.text,fontPxSize:t.fontPxSize,states:{initial:{alpha:0},finalState:{alpha:1}}},this.widget));this.meter.fairPriceRangeLabel.addTransition("initialTransition",this.meter,{on:["showLabel"],initialState:"initial",nextState:"finalState",duration:500});this.meter.fairPriceRangeLabel.addTransition("removeTransition",this.meter,{on:["remove"],nextState:"initial",duration:500});this.meter.fairPriceRangeLabel.addTransition("replaceAfterTransition",this.meter,{nextState:"finalState"})}}}(),function(){MarketReport.Meter.Areas=MarketReport.Meter.Areas||{};MarketReport.Meter.Areas.FairPrice=function(n,t,i,r,u){MarketReport.Meter.Areas.Area.call(this,n,t,i,r,u);this.addFairPricePoint(u?u.fairPricePoint:null);this.addFairPriceLabel(u?u.fairPriceLabels:null);this.addFairPriceTether()};MarketReport.Meter.Areas.FairPrice.prototype={addFairPriceTether:function(){this.meter.addComponent(MarketReport.Util.CanvasUtil.createTether("fairPriceTether",this.meter.fairPricePoint,this.meter.fairPriceLabel,10,this.widget));this.settings.animateWithEvent?this.meter.fairPriceTether.addTransition("initialTransition",this.meter,{initialState:"initial",nextState:"finalState",after:["fairRange.initialTransition"]}):this.meter.fairPriceTether.addTransition("initialTransition",this.meter,{initialState:"initial",nextState:"finalState",on:["showLabel"]})},addFairPriceLabel:function(n){var t=$.extend({width:170,height:77,x:85+this.widget.canvasCoordinateManager.padding,y:87,labels:[{text:"Fair Market Range",style:MarketReport.Styles.Labels.RangeHeader(this.configModel),weight:"bold"},{text:"$"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.configModel.fairPriceLow))+" - $"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.configModel.fairPriceHigh)),style:MarketReport.Styles.Labels.RangeValue(this.configModel)},{text:"Fair Purchase Price",style:MarketReport.Styles.Labels.PriceLabelClose(this.configModel),paddingTop:7},{type:"hbox",children:[{text:"$"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.configModel.fairPrice)),style:MarketReport.Styles.Labels.PriceLabelClose(this.configModel),weight:"bold"},{text:" ($"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.configModel.fairPriceMonthly))+"/month)*",style:MarketReport.Styles.Labels.PriceLabelClose(this.configModel)}]}]},n);this.meter.addComponent(new MarketReport.Model.Label("fairPriceLabel",{x:t.x,y:t.y,alpha:1,width:t.width,height:t.height,backgroundShape:MarketReport.Util.BackgroundUtil.headerBox("rgba(255,255,255,1)","rgba(85,156,86,1)","rgba(153,153,153,1)",6),labels:t.labels},this.widget))},addFairPricePoint:function(n){var i=Math.asin(15/this.configModel.baseRadius),t=this.configModel.getPriceAngle(this.meter.config.fairPrice),u=this.configModel.getPriceAngle(this.meter.config.fairPriceHigh),f=this.configModel.getPriceAngle(this.meter.config.fairPriceLow),r=n&&typeof n.baseRadius!="undefined"?n.baseRadius:this.configModel.baseRadius,e={baseRadius:r,styles:MarketReport.Styles.PricePoint.getLargePoint(r,MarketReport.Styles.PricePoint.BlueGradient),avoidPillBox:!0},n=$.extend(!0,e,n);n.avoidPillBox&&(t=Math.max(t,f+i),t=Math.min(t,u-i));this.meter.addComponent(new MarketReport.Model.PricePosition("fairPricePoint",{centerX:this.configModel.centerX,centerY:this.configModel.centerY,angle:this.oldConfig?t:0,radius:this.oldConfig?this.configModel.fairPriceRadius:0,alpha:0,style:n.styles,states:{initial:{angle:t,radius:this.configModel.fairPriceRadius,alpha:1},finalState:{angle:t,radius:this.configModel.fairPriceRadius,alpha:1},removed:{alpha:0}}},this.widget));this.meter.fairPricePoint.addTransition("initialTransition",this.meter,{initialState:"initial",nextState:"finalState",after:["baseRange.initialTransition"],duration:2e3,execute:MarketReport.Util.CanvasUtil.followCurveTween(this.meter.fairRange)});this.meter.fairPricePoint.addTransition("removeTransition",this.meter,{on:["remove"],nextState:"removed",duration:500});this.meter.fairPricePoint.addTransition("replaceAfterTransition",this.meter,{on:["showLabel"],nextState:"finalState"})}}}();MarketReport.Meter.Meters={TRADE_IN:"trade-in",DEALER:"dealer",CERTIFIED_DEALER:"certified-dealer",INSTANT_CASH:"instant-cash",SELL_PRIVATE_PARTY:"sell-private-party",BUY_PRIVATE_PARTY:"buy-private-party",SYNDICATED_NEW_CAR:"syndicated-new-car",SYNDICATED_USED_CAR:"syndicated-used-car",SYNDICATED_TRADE_IN:"syndicated-trade-in",NEW_CAR:"new-car"},function(){MarketReport.Logic.CanvasCoordinateManager=function(n,t,i){this.config=t;this.stage=n;this.constants=i;var r=n?MarketReport.Util.DomUtil.position(n.canvas):null;this.canvasX=r?r.left:0;this.canvasY=r?r.top:0;this.padding=14;this.logoDimension=i.logo.logoDimension*i.width/314;this.setDimensions(n,i.width,i.height,i.centerYOffset)};var n=MarketReport.Logic.CanvasCoordinateManager.prototype;n.refreshScale=function(){this.calculateWidth();this.scale=this.actualWidth/this.width;this.stage.scaleX=this.scale;this.stage.scaleY=this.scale};n.calculateWidth=function(){this.config.flashCanvasEnabled||this.stage==null?this.actualWidth=this.config.hasOwnProperty("canvasWidth")?this.config.canvasWidth:this.defaultWidth:(this.actualWidth=this.stage.canvas.clientWidth?this.stage.canvas.clientWidth:this.stage.canvas.width,window.devicePixelRatio&&(this.actualWidth=this.actualWidth*window.devicePixelRatio))};n.setDimensions=function(n,t,i,r){this.width=t;this.height=i;this.refreshScale();this.centerX=Math.floor(this.width/2);this.centerY=Math.floor(this.height-this.logoDimension/2+r)};n.actualWidth=314;n.defaultWidth=314;n.defaultHeight=276;n.margin=0;n.width=0;n.height=0;n.canvasX=0;n.canvasY=0;n.padding=0;n.logoDimension=0;n.centerX=0;n.centerY=0;n.scale=1}(),function(){MarketReport.MarketMeterInterface=function(n,t,i){var r,u,f;this.hasFlash=!1;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");r&&(u=r.GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1],f=u.split(",").shift(),f>=10&&(this.hasFlash=!0))}catch(e){navigator.mimeTypes["application/x-shockwave-flash"]!=undefined&&(this.hasFlash=!0)}this.active=!1;this.instanceId=n;this.element=t;this._config=MarketReport.Util.ClassUtil.extend({},this.options,i);this._create();this.pendingAssets==0&&this._init()};MarketReport.MarketMeterInterface.prototype={element:null,isFallback:!1,options:{mode:"animate",type:"base-meter",scaleLow:0,scaleHigh:0,fairPriceLow:0,fairPriceHigh:0,fairPrice:0,retailPrice:0,othersPaidBase:0,othersPaidFair:0,othersPaidHigh:0,instantCashOfferX:0,instantCashOfferY:0,showScale:!1,useScale:!0,imageDir:"",transition:"default",environment:"prod",container:null},_create:function(){this.pendingAssets=0;this.isFallback=!1;this._canvas=this.element.get(0);this._stage=null;this._previousDisplayMode=this._canvas.style.visibility;this._previousDisplay=this._canvas.style.display;typeof FlashCanvas=="undefined"||this.hasFlash?(this.originalWidth=this._canvas.width,this.originalHeight=this._canvas.height,this._setupFlashCanvas(),this._setupLowFidelity(),this._stage=new createjs.Stage(this._canvas.id),this._stage.enableMouseOver(10),createjs.Touch.enable(this._stage,!1,!0),createjs.Ticker.addListener(this),this.overlayId="market-meter-interface-"+this.instanceId,this.overlay=$("#"+this.overlayId),this.overlay.length==0&&(this.element.before('<div id="'+this.overlayId+'"  class="market-meter-inferface"><\/div>'),this.overlay=$("#"+this.overlayId),this.overlay.css({display:"block",height:0}))):this.currentFallback=null},_init:function(){var n=this;this._canvas.style.visibility=this._previousDisplayMode;this._canvas.style.display=this._previousDisplay;this.isFallback=!1;this._setupRetinaDisplay();this.overlay.find("#market-meter-widget-image-"+this.instanceId).remove();this._config.environment=="dev"&&(this._config.paddingAngle=this._config.paddingAngleDegree*(Math.PI/180),this._config.fairPriceAngle=this._config.fairPriceAngleDegree*(Math.PI/180));this._config.onDisplayUpdate=this.renderAsImage;this._widget=new MarketReport.MarketMeterWidget(this._stage,this._config,this._widget,this.overlay,this);this._stage.update()},_destroy:function(){createjs.Touch.disable(this._stage);createjs.Ticker.removeListener(this);this._canvas.style.display=this._previousDisplayMode;this._stage.clear();this.overlay.remove()},clear:function(){this._stage.clear()},dispatchEvent:function(n,t){var i=this;setTimeout(function(){i._widget.dispatchEvent({type:n,args:t})},50)},_setupRetinaDisplay:function(){window.devicePixelRatio&&(this.element.attr("width",this.originalWidth*window.devicePixelRatio),this.element.attr("height",this.originalHeight*window.devicePixelRatio),this.element.css("width",this.originalWidth),this.element.css("height",this.originalHeight))},_setupFlashCanvas:function(){var n=this,r,i;if(typeof FlashCanvas!="undefined"){FlashCanvas.initElement(this._canvas);r=this._canvas.getContext("2d");MarketReport.Util.LabelUtil.measure({text:"Load EOT font file to measure weight 500 text",font:"museo_sans500",fontSize:10,weight:500});MarketReport.Util.LabelUtil.measure({text:"Load EOT font file to measure weight 700 text",font:"museo_sans700",fontSize:10,weight:700});this._config.fontDir&&r.loadFont&&(this.pendingAssets=2,i=function(){n.pendingAssets--;n.pendingAssets==0&&n._init()},r.loadFont(this._config.fontDir+"/museosans_1-webfont.swf",i,i),r.loadFont(this._config.fontDir+"/museosans_2-webfont.swf",i,i));createjs.Graphics.prototype.beginRadialGradientFill=createjs.Graphics.prototype.beginLinearGradientFill=function(){var n=arguments[0];return this.beginFill(n[n.length-1])};createjs.DisplayObject.prototype.cache=function(){};this.hasOwnProperty("clickOverlay")||(this.clickOverlayId="market-meter-mouse-interface-"+this.instanceId,this.element.before('<div id="'+this.clickOverlayId+'"  class="market-meter-mouse-inferface"><\/div>'),this.clickOverlay=$("#"+this.clickOverlayId),this.clickOverlay.css({height:0,"z-index":3,position:"absolute","background-color":"#fff",filter:"alpha(opacity=0)",width:this._canvas.width,height:this._canvas.height}));var f=function(t){if(!t.hitTest||!t.hasListener("click"))return!1;var i=window.event,r=n.element.offset(),u={x:i.clientX-r.left,y:i.clientY+$(window).scrollTop()-r.top};return t.hitTest(u)},e=function(){for(var i=n._widget.model.getOrderedComponents(),t=i.length-1;t>=0;t--)if(f(i[t]))return i[t];return null},t=null,u=!1;MarketReport.MarketMeterWidget.prototype.addMouseListeners=function(i){i&&i.hasListener("click")&&!u&&(u=!0,n.clickOverlay.click(function(){t&&t.dispatchEvent({type:"click",target:t})}),n.clickOverlay.mousemove(function(){t=e();n.clickOverlay.get(0).style.cursor=t!=null?"pointer":"default"}),n.clickOverlay.mouseout(function(){t=null;n.clickOverlay.get(0).style.cursor="default"}))}}},_setupLowFidelity:function(){this._config.lowFidelity&&(createjs.Graphics.prototype.beginRadialGradientFill=createjs.Graphics.prototype.beginLinearGradientFill=function(){var n=arguments[0];return this.setStrokeStyle(1,"round").beginStroke("#000000").beginFill(n[n.length-1])},createjs.DisplayObject.prototype.cache=function(){})},tick:function(){var n=this;if(this._widget&&this._widget.rootComponent&&(this._widget.rootComponent.model.totalAnimating>0||this._widget.rootComponent.model.animationComplete)){this._widget.tick();try{this._stage.update()}catch(t){}this.active||this._config.container&&this._config.container.addClass("meter-active");this.active=!0;this._widget.model.animationComplete&&this._widget.pendingAssets==0&&(this._widget.model.animationComplete=!1,this.onDisplayUpdate(),this._widget&&this._widget.pendingAssets==0&&setTimeout(function(){n.onRenderComplete()},100))}},onDisplayUpdate:function(){if(this._config.mode=="image"){this.overlay.find("#market-meter-widget-image-"+this.instanceId).remove();var n=this._canvas.toDataURL("image/png");this._canvas.style.visibility="hidden";this.overlay.append('<img id="market-meter-widget-image-'+this.instanceId+'" class="market-meter-widget-image" src = "'+n+'"/>')}(this._config.mode=="image"||this._config.mode=="snap")&&this.clickOverlay!=null&&this.clickOverlay.css({display:"none"})},onRenderComplete:function(){if(this._config.onRenderComplete!=null)this._config.onRenderComplete(this._config);this._widget.model&&this._widget.model.dispatchEvent({type:"renderComplete"})},animate:function(n){this._widget.model.config.animate=n},resize:function(n){this.element.attr("width",n.width);this.element.attr("height",n.height);this.originalWidth=n.width;this.originalHeight=n.height;this._setupRetinaDisplay();this._widget.canvasCoordinateManager.refreshScale();this._stage.update()},redraw:function(){this._stage.clear();this._stage.update()},on:function(n,t){var f=n.split("."),e=f[0],n=f[1],r=this._widget.model[e],u=this._widget.rootComponent.listOfChildren,i;if(r)for(r.addEventListener(n,t,this),i=0;i<u.length;i++)u[i].model==r&&this._widget.addMouseListeners(r,u[i])}}}();KBB=KBB||{};KBB.modules=KBB.modules||{};KBB.modules.marketMeter=function(){var t=0,n="KBB.modules.marketMeter";return{milestone:"0.0.12",buildDate:"Oct 23 4:48 PM",getVersion:function(){return KBB.modules.marketMeter.milestone+" "+KBB.modules.marketMeter.buildDate},init:function(){},marketMeter:function(i,r){var f=typeof r=="string",u=Array.prototype.slice.call(arguments,1);i.each(function(){var i=$.data(this,n);if(f){if(!i)return $.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+r+"'");if(r=="destroy"){$.removeData(this,n);i._destroy();return}methodValue=$.isFunction(i[r])&&r.charAt(0)!=="_"?i[r].apply(i,u.slice(1)):i.dispatchEvent.apply(i,u)}else i?(i._config=MarketReport.Util.ClassUtil.extend({},i.options,r),i._init()):(t++,$.data(this,n,new MarketReport.MarketMeterInterface(t,$(this),r)))})},on:function(t,i,r){t.each(function(){var t=$.data(this,n);if(t)t.on(i,r)})}}}();globalVersion=1.4,function(){var t=MarketReport.Model.Config,n;MarketReport.Config.SyndicatedNewCarConfig=function(n,i){t.call(this,n,i)};n=MarketReport.Config.SyndicatedNewCarConfig.prototype=Object.create(t.prototype);n.invoice=0;n.hideInvoice=!1;n.askingPrice=0;n.hideAsking=!1;n.hideLegal=!1;n.canHideLegal=function(){return this.hideLegal};n.msrp=0;n.hideMsrp=!1;n.displayFpp=!1;n.dataVersionDate="";n.tetherSmoothing=7;n.validThrough="";n.copyrightYear="";n.copyrightEditionText="";n.copyrightPickCode="";n.fallbackClass="kbb-synpa-new-car-fallback";n.videoOverlay=!0;n.verifyScaleLowAndHigh=function(n){(n.scaleLow==Infinity||n.scaleHigh==Infinity)&&(n.scaleLow=Math.min(this.isValidPrice(n.invoice)?n.invoice:Infinity,this.isValidPrice(n.askingPrice)?n.askingPrice:Infinity,this.isValidPrice(n.msrp)?n.msrp:Infinity),n.scaleHigh=Math.max(this.isValidPrice(n.invoice)?n.invoice:-Infinity,this.isValidPrice(n.askingPrice)?n.askingPrice:-Infinity,this.isValidPrice(n.msrp)?n.msrp:-Infinity),n.scaleLow==n.scaleHigh&&(n.scaleLow--,n.scaleHigh++));return};n.useScale=function(n){return n.useScale&&this.isValidPrice(n.fairPriceLow)&&this.isValidPrice(n.fairPriceHigh)};n.validate=function(n){if(!n.dataVersionDate&&!this.isValidPrice(n.askingPrice))return"noData";if(this.isValidPrice(n.scaleHigh)&&this.isValidPrice(n.scaleLow)){if(n.scaleLow>=n.scaleHigh)return"invalidData"}else n.scaleLow=0,n.scaleHigh=0,this.isValidPrice(n.askingPrice)&&(n.scaleHigh=n.askingPrice*2);if(this.isValidPrice(n.fairPriceLow)&&this.isValidPrice(n.fairPriceHigh)&&this.isValidPrice(n.fairPrice)){if(n.fairPriceLow>=n.fairPriceHigh||n.fairPrice>n.fairPriceHigh||n.fairPrice<n.fairPriceLow)return"invalidData"}else n.fairPriceLow=0,n.fairPriceHigh=0,n.fairPrice=0;return null}}(),function(){MarketReport.Meter.Areas=MarketReport.Meter.Areas||{};MarketReport.Meter.Areas.ErrorBox=function(n,t,i,r,u){MarketReport.Meter.Areas.Area.call(this,n,t,i,r,u);this.meter.type=="trade-in"?this.addTradeInMessageBox():this.meter.type=="sell-private-party"?this.addSellPrivatePartyMessageBox(u):this.configModel.retailPrice?this.addRetailMessageBox(u):this.configModel.errorType?this.addErrorMessageBox(i,u):this.addMessageBox(u)};MarketReport.Meter.Areas.ErrorBox.prototype={addErrorMessageBox:function(n){for(var u,r=n.messageNoData,i=[],t=0;t<r.header.lines.length;t++)i.push({text:r.header.lines[t],style:MarketReport.Styles.Labels.NoInfoHeader(this.configModel)});for(t=0;t<r.body.lines.length;t++)i.push({text:r.body.lines[t],style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)});for(u=20,t=0;t<i.length;t++)u+=i[t].height;this.meter.addComponent(new MarketReport.Model.Label("fairPriceLabel",{x:this.widget.canvasCoordinateManager.width/2,y:110,alpha:1,width:290,height:u,backgroundShape:MarketReport.Util.BackgroundUtil.modalBox(),labels:i},this.widget))},addMessageBox:function(){var n=[{text:"Info unavailable",style:MarketReport.Styles.Labels.NoInfoHeader(this.configModel)},{text:"Since we base our pricing on actual transactions,",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel),paddingTop:4},{text:"some vehicles have too few sales to generate a",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)},{text:"Fair Market Range.",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)}];MarketReport.Util.LabelUtil.center(n,2,3,100);this.meter.addComponent(new MarketReport.Model.Label("fairPriceLabel",{x:this.widget.canvasCoordinateManager.width/2,y:110,alpha:1,width:290,height:100,backgroundShape:MarketReport.Util.BackgroundUtil.modalBox(),labels:n},this.widget))},addRetailMessageBox:function(){var n=[{text:"Fair Market Range unavailable",style:MarketReport.Styles.Labels.NoInfoHeader(this.configModel)},{text:"Since we base our pricing on actual transactions,",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel),paddingTop:6},{text:"some vehicles have too few sales to generate a",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)},{text:"Fair Market Range.",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)},{text:"Suggested Retail Price",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel),paddingTop:14},{text:"$"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.configModel.retailPrice)),style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)}];MarketReport.Util.LabelUtil.center(n,2,3,154);this.meter.addComponent(new MarketReport.Model.Label("fairPriceLabel",{x:this.widget.canvasCoordinateManager.width/2,y:164,alpha:1,width:290,height:154,backgroundShape:MarketReport.Util.BackgroundUtil.modalBox(),labels:n},this.widget))},addTradeInMessageBox:function(){var n=[{text:"Info unavailable",style:MarketReport.Styles.Labels.NoInfoHeader(this.configModel)},{text:"This is low volume model, so we cannot set a",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel),paddingTop:4},{text:"Trade-In or Private Party Value.",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)}];MarketReport.Util.LabelUtil.center(n,2,3,80);this.meter.addComponent(new MarketReport.Model.Label("fairPriceLabel",{x:this.widget.canvasCoordinateManager.width/2,y:90,alpha:1,width:290,height:80,backgroundShape:MarketReport.Util.BackgroundUtil.modalBox(),labels:n},this.widget))},addSellPrivatePartyMessageBox:function(){var n=[{text:"Info currently unavailable",paddingTop:2,style:MarketReport.Styles.Labels.NoInfoHeader(this.configModel)},{text:"One or more data points are missing, so we",paddingTop:4,style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)},{text:"cannot display this graphic.",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)},{text:"Please check back soon.",style:MarketReport.Styles.Labels.NoInfoContent(this.configModel)}];MarketReport.Util.LabelUtil.center(n,2,3,90);this.meter.addComponent(new MarketReport.Model.Label("fairPriceLabel",{x:this.widget.canvasCoordinateManager.width/2,y:100,alpha:1,width:290,height:90,backgroundShape:MarketReport.Util.BackgroundUtil.modalBox(),labels:n},this.widget))}}}(),function(){MarketReport.Meter.Areas=MarketReport.Meter.Areas||{};MarketReport.Meter.Areas.SyndicatedNewCarLabels=function(n,t,i,r,u){MarketReport.Meter.Areas.Area.call(this,n,t,i,r,u);this.setLabelPositions();n.config.hideInvoice||(i.isValidPrice(n.config.invoice)?(this.addInvoicePoint(),this.addLabel("invoicePriceLabel",n.config.labelPositions.invoicePosition.x,n.config.labelPositions.invoicePosition.y,"Invoice",null,"$"+MarketReport.Util.LabelUtil.addCommas(Math.round(n.config.invoice)),!0),this.addTetherFromPointLabel("invoiceTether",n.invoicePricePoint.getX(),n.invoicePricePoint.getY(),n.invoicePriceLabel.x,n.invoicePriceLabel.y,n.config.labelPositions.invoicePosition.xLine,n.config.labelPositions.invoicePosition.yLine),n.invoicePriceLabel.addEventListener("click",function(){n.invoicePriceLabelClick(n.showDialog)})):(this.addUnavailableLabel("invoicePriceUnavailableLabel",n.config.labelPositions.invoicePosition.x,n.config.labelPositions.invoicePosition.y,67,71,["Invoice","N/A"],"Why?",!0,"#F0F0F0","#606060","#005CB0"),n.invoicePriceUnavailableLabel.addEventListener("click",function(){n.invoicePriceUnavailableLabelClick(n.showDialog)})));!n.config.hideAsking&&i.isValidPrice(n.config.askingPrice)&&(this.addAskingPricePoint(),this.addLabel("askingPriceLabel",n.config.labelPositions.askingPricePosition.x,n.config.labelPositions.askingPricePosition.y,"Dealer","Asking Price","$"+MarketReport.Util.LabelUtil.addCommas(Math.round(n.config.askingPrice)),!1,{lastLineFontSize:n.config.displayFpp?12:15}),this.addTetherFromPointLabel("askingPriceTether",n.askingPricePoint.getX(),n.askingPricePoint.getY(),n.askingPriceLabel.x,n.askingPriceLabel.y,n.config.labelPositions.askingPricePosition.xLine,n.config.labelPositions.askingPricePosition.yLine),n.askingPriceLabel.addEventListener("click",function(){n.askingPriceLabelClick(n.showDialog)}));!n.config.hideMsrp&&i.isValidPrice(n.config.msrp)&&(this.addMSRPPoint(),this.addLabel("msrpPriceLabel",n.config.labelPositions.msrpPosition.x,n.config.labelPositions.msrpPosition.y,"MSRP","","$"+MarketReport.Util.LabelUtil.addCommas(Math.round(n.config.msrp)),!0),this.addTetherFromPointLabel("msrpTether",n.msrpPricePoint.getX(),n.msrpPricePoint.getY(),n.msrpPriceLabel.x,n.msrpPriceLabel.y,n.config.labelPositions.msrpPosition.xLine,n.config.labelPositions.msrpPosition.yLine),n.msrpPriceLabel.addEventListener("click",function(){n.msrpPriceLabelClick(n.showDialog)}));i.isValidPrice(n.config.fairPrice)?(n.config.displayFpp?(this.addFairPricePoint({styles:MarketReport.Styles.PricePoint.getLargePoint(this.configModel.baseRadius,MarketReport.Styles.PricePoint.Blue)}),this.addFairPurchasePriceLabel(n.config.labelPositions.fairPurchasePosition.x,n.config.labelPositions.fairPurchasePosition.y),this.addTetherFromPointLabel("fairPurchasePriceTether",n.fairPricePoint.getXCenter(),n.fairPricePoint.getYCenter(),n.fairPurchasePriceLabel.x,n.fairPurchasePriceLabel.y,n.config.labelPositions.fairPurchasePosition.xLine,n.config.labelPositions.fairPurchasePosition.yLine),n.fairPurchasePriceLabel.addEventListener("click",function(){n.fairPurchasePriceLabelClick(n.showDialog)})):(this.addFairPricePoint({baseRadius:0}),this.addFairMarketRangeLabel(n.config.labelPositions.fairPurchasePosition.x,n.config.labelPositions.fairPurchasePosition.y),this.addTetherFromPointLabel("fairPurchasePriceTether",n.fairPricePoint.getXCenter(),n.fairPricePoint.getYCenter(),n.fairMarketRangeLabel.x,n.fairMarketRangeLabel.y,n.config.labelPositions.fairPurchasePosition.xLine,n.config.labelPositions.fairPurchasePosition.yLine)),n.fairMarketRangeLabel.addEventListener("click",function(){n.fairRangeClick(n.showDialog)}),n.baseRange.addEventListener("click",function(){n.baseRangeClick(n.showDialog)}),n.fairRange.addEventListener("click",function(){n.fairRangeClick(n.showDialog)}),n.highRange.addEventListener("click",function(){n.highRangeClick(n.showDialog)})):(this.addUnavailableLabel("fairPurchasePriceUnavailableLabel",n.config.labelPositions.fairPurchasePosition.x,n.config.labelPositions.fairPurchasePosition.y,140,71,["Fair Purchase Price","unavailable"],"Why?",!0,"#F0F0F0","#060606","#005CB0"),n.fairPurchasePriceUnavailableLabel.addEventListener("click",function(){n.fairPurchasePriceUnavailableLabelClick(n.showDialog)}))};MarketReport.Meter.Areas.SyndicatedNewCarLabels.prototype={setLabelPositions:function(){var s,r,u,i,n,f;this.meter.config.priceAngles=[];this.meter.config.unavailablePrices=[];!this.meter.config.hideAsking&&this.meter.config.isValidPrice(this.meter.config.askingPrice)&&this.meter.config.priceAngles.push({Title:"askingPrice",Angle:this.meter.config.getPriceAngle(this.meter.config.askingPrice)});this.meter.config.isValidPrice(this.meter.config.fairPrice)?this.meter.config.priceAngles.push({Title:"fairPrice",Angle:this.meter.config.getPriceAngle(this.meter.config.fairPrice)}):this.meter.config.unavailablePrices.push({Title:"fairPrice",Angle:this.meter.config.getPriceAngle(this.meter.config.fairPrice)});this.meter.config.hideInvoice||(this.meter.config.isValidPrice(this.meter.config.invoice)?this.meter.config.priceAngles.push({Title:"invoice",Angle:this.meter.config.getPriceAngle(this.meter.config.invoice)}):this.meter.config.unavailablePrices.push({Title:"invoice",Angle:this.meter.config.getPriceAngle(this.meter.config.invoice)}));!this.meter.config.hideMsrp&&this.meter.config.isValidPrice(this.meter.config.msrp)&&this.meter.config.priceAngles.push({Title:"msrp",Angle:this.meter.config.getPriceAngle(this.meter.config.msrp)});var o=66,e=7,t={topLabelY:75,fairPurchasePriceLabelWidthAddition:74,invoicePosition:{},msrpPosition:{},askingPricePosition:{},fairPurchasePosition:{},positions:[{x:e,y:75,xLine:105},{x:2*e+o,y:75,xLine:85},{x:3*e+2*o,y:75,xLine:95},{x:220,y:286,yLine:270}]};for(this.meter.config.priceAngles.sort(function(n,t){return n.Angle-t.Angle}),i=0;i<this.meter.config.unavailablePrices.length;i++)this.meter.config.priceAngles.splice(Math.min(this.meter.config.priceAngles.length+1,3)-this.meter.config.unavailablePrices.length,0,this.meter.config.unavailablePrices[i]);for(this.meter.config.priceAngles.length===4&&this.meter.config.priceAngles[3].Title==="fairPrice"&&(s=this.meter.config.priceAngles[3],i=isNaN(this.meter.config.priceAngles[2].Angle)?1:2,this.meter.config.priceAngles[3]=this.meter.config.priceAngles[i],this.meter.config.priceAngles[i]=s),r=0,u=Math.PI,i=0;i<this.meter.config.priceAngles.length;i++)if(n=this.meter.config.priceAngles[i],n.Angle<u?n.Angle=u:n.Angle>2*u&&(n.Angle=2*u),!isNaN(n.Angle)||n.Title=="invoice"||n.Title=="fairPrice")if(n.Title=="invoice")t.invoicePosition=t.positions[r],this.meter.config.invoiceAngle=n.Angle,r++;else if(n.Title=="fairPrice"){for(t.fairPurchasePosition=t.positions[r],this.meter.config.fairPriceAngle=n.Angle,f=r+1;f<3;f++)t.positions[f].x=t.positions[f].x+t.fairPurchasePriceLabelWidthAddition;r++}else n.Title=="askingPrice"?(t.askingPricePosition=t.positions[r],this.meter.config.askingPriceAngle=n.Angle,r++):n.Title=="msrp"&&(t.msrpPosition=t.positions[r],this.meter.config.msrpAngle=n.Angle,r++);this.meter.config.labelPositions=t},addTetherFromPointLabel:function(n,t,i,r,u,f,e){e>0?this.addVerticalTether(n,t,i,270,245,e):this.addHorizontalTether(n,t,i,r,u,f)},addVerticalTether:function(n,t,i,r,u,f){this.addTether(n,[{x:t,y:i},{x:f,y:i},{x:f,y:u},{x:r,y:u}])},addHorizontalTether:function(n,t,i,r,u,f){Math.abs(t-r)<this.meter.config.tetherSmoothing&&(r=t);this.addTether(n,[{x:t,y:i},{x:t,y:f},{x:r,y:f},{x:r,y:u}])},addTether:function(n,t){t[0].x!==0&&t[0].y!==0&&t[3].x!==0&&t[3].y!==0&&(this.meter.addComponent(new MarketReport.Model.Tether(n,{path:t,includeTetherKnob:!1,lineColor:"#c0c0c0",alpha:0,states:{initial:{alpha:0},finalState:{alpha:1},removed:{alpha:0}}},this.meter.widget)),this.meter[n].addTransition("removeTransition",this.meter,{on:["remove"],nextState:"removed",duration:500}),this.meter[n].addTransition("replaceAfterTransition",this.meter,{on:["showLabel"],nextState:"finalState",duration:1e3}))},addMSRPPoint:function(){var n=this.meter.config.baseRadius;this.meter.config.msrpAngle>=this.meter.config.getPriceAngle(this.meter.config.fairPriceLow)&&this.meter.config.msrpAngle<=this.meter.config.getPriceAngle(this.meter.config.fairPriceHigh)&&(n=this.meter.config.fairPriceRadius);this.meter.addComponent(new MarketReport.Model.PricePosition("msrpPricePoint",{centerX:this.meter.config.centerX,centerY:this.meter.config.centerY,angle:this.meter.config.msrpAngle,radius:n,alpha:0,style:MarketReport.Styles.PricePoint.getSmallPoint(this.meter.config.baseRadius,MarketReport.Styles.PricePoint.Red2),states:{initial:{angle:this.meter.config.msrpAngle,radius:n,alpha:1},finalState:{angle:this.meter.config.msrpAngle,radius:n,alpha:1},removed:{alpha:0}}},this.widget));this.meter.msrpPricePoint.addTransition("removeTransition",this.meter,{on:["remove"],nextState:"removed",duration:500});this.meter.msrpPricePoint.addTransition("replaceAfterTransition",this.meter,{on:["showLabel"],nextState:"finalState"})},addInvoicePoint:function(){var n=this.meter.config.baseRadius;this.meter.config.invoiceAngle>=this.meter.config.getPriceAngle(this.meter.config.fairPriceLow)&&this.meter.config.invoiceAngle<=this.meter.config.getPriceAngle(this.meter.config.fairPriceHigh)&&(n=this.meter.config.fairPriceRadius);this.meter.addComponent(new MarketReport.Model.PricePosition("invoicePricePoint",{centerX:this.meter.config.centerX,centerY:this.meter.config.centerY,angle:this.meter.config.invoiceAngle,radius:n,alpha:0,style:MarketReport.Styles.PricePoint.getSmallPoint(this.meter.config.baseRadius,MarketReport.Styles.PricePoint.Grey2),states:{initial:{angle:this.meter.config.invoiceAngle,radius:n,alpha:1},finalState:{angle:this.meter.config.invoiceAngle,radius:n,alpha:1},removed:{alpha:0}}},this.widget));this.meter.invoicePricePoint.addTransition("removeTransition",this.meter,{on:["remove"],nextState:"removed",duration:500});this.meter.invoicePricePoint.addTransition("replaceAfterTransition",this.meter,{on:["showLabel"],nextState:"finalState"})},addAskingPricePoint:function(){var n=this.meter.config.baseRadius,t;this.meter.config.askingPriceAngle>=this.meter.config.getPriceAngle(this.meter.config.fairPriceLow)&&this.meter.config.askingPriceAngle<=this.meter.config.getPriceAngle(this.meter.config.fairPriceHigh)&&(n=this.meter.config.fairPriceRadius);t=this.meter.config.displayFpp?MarketReport.Styles.PricePoint.getSmallSolidPoint(n,MarketReport.Styles.PricePoint.Grey3):MarketReport.Styles.PricePoint.getLargePoint(this.meter.config.baseRadius,MarketReport.Styles.PricePoint.Blue);this.meter.addComponent(new MarketReport.Model.PricePosition("askingPricePoint",{centerX:this.meter.config.centerX,centerY:this.meter.config.centerY,angle:this.meter.config.askingPriceAngle,radius:n,alpha:0,style:t,states:{initial:{angle:this.meter.config.askingPriceAngle,radius:n,alpha:1},finalState:{angle:this.meter.config.askingPriceAngle,radius:n,alpha:1},removed:{alpha:0}}},this.widget));this.meter.askingPricePoint.addTransition("removeTransition",this.meter,{on:["remove"],nextState:"removed",duration:500});this.meter.askingPricePoint.addTransition("replaceAfterTransition",this.meter,{on:["showLabel"],nextState:"finalState"})},addLabel:function(n,t,i,r,u,f,e,o){var c=u!==null&&u.length>0,s=66,l=c?50:42,h;t+=s/2;var o=$.extend(!0,{backgroundColor:"rgba(255,255,255,1)",firstLineColor:"#333333",lastLineColor:"#333333",lastLineFontSize:12,borderColor:"rgba(153,153,153,1)"},o),a=null;e&&(a=function(){var n=new createjs.Graphics;return n.beginFill(o.borderColor),n.drawRoundRect(0,0,s,l,6),n.endFill(),n.beginFill(o.backgroundColor),n.drawRoundRect(1,1,s-2,l-2,4),n.endFill(),new createjs.Shape(n)});h=[{text:r,height:c?12:17,fontSize:12,font:this.meter.config.font,color:o.firstLineColor}];c&&h.push({text:u,height:12,fontSize:12,font:this.meter.config.font,color:o.firstLineColor});h.push({text:f,height:o.lastLineFontSize,fontSize:o.lastLineFontSize,font:this.meter.config.font,color:o.secondLineColor,weight:e?null:"bold"});this.meter.addComponent(new MarketReport.Model.Label(n,{x:t,y:i,alpha:0,width:s,height:l,backgroundShape:a,labels:h,states:{initial:{alpha:0},finalState:{alpha:1}},transitions:{initialTransition:new MarketReport.Model.Transition(n+".initialTransition",this.meter,{on:["showLabel"],initialState:"initial",nextState:"finalState",duration:500}),removeTransition:new MarketReport.Model.Transition(n+".removeTransition",this.meter,{on:["remove"],nextState:"initial",duration:500})}},this.meter.widget))},addUnavailableLabel:function(n,t,i,r,u,f,e,o,s,h,c,l){var y,a,v;for(t+=r/2,s=s||"rgba(255,255,255,1)",h=h||"#333333",c=c||"#333333",l=l||"rgba(153,153,153,1)",y=null,o&&(y=function(){var n=new createjs.Graphics;return n.beginFill(l),n.drawRoundRect(0,0,r,u,6),n.endFill(),n.beginFill(s),n.drawRoundRect(1,1,r-2,u-2,4),n.endFill(),new createjs.Shape(n)}),a=[],v=0;v<f.length;v++)a.push({text:f[v],y:2,height:15,fontSize:12,font:this.meter.config.font,color:h,weight:"bold"});a.push({text:e,y:8,height:12,fontSize:12,font:this.meter.config.font,color:c});this.meter.addComponent(new MarketReport.Model.Label(n,{x:t,y:i,alpha:0,width:r,height:u,backgroundShape:y,labels:a,states:{initial:{alpha:0},finalState:{alpha:1}},transitions:{initialTransition:new MarketReport.Model.Transition(n+".initialTransition",this.meter,{on:["showLabel"],initialState:"initial",nextState:"finalState",duration:500}),removeTransition:new MarketReport.Model.Transition(n+".removeTransition",this.meter,{on:["remove"],nextState:"initial",duration:500})}},this.widget))},addFairPurchasePriceLabel:function(n,t){var i=140,r=71,u;n+=i/2;u=function(){var n=new createjs.Graphics;return n.beginFill("rgba(153,153,153,1)"),n.drawRoundRect(0,0,i,r,6),n.endFill(),n.beginFill("rgba(255,255,255,1)"),n.drawRoundRect(1,1,i-2,r-2,4),n.endFill(),n.beginFill("rgba(85,156,86,1)"),n.drawRoundRectComplex(1,1,i-2,r/2+7,4,4,0,0),n.endFill(),new createjs.Shape(n)};this.meter.addComponent(new MarketReport.Model.Label("fairPurchasePriceLabel",{x:n,y:t,alpha:0,width:i,height:r,backgroundShape:u,labels:[{text:" ",height:10,fontSize:10,font:this.meter.config.font,color:"#FFFFFF",weight:"bold"},{text:" ",height:10,fontSize:10,font:this.meter.config.font,color:"#FFFFFF",weight:"bold"},{text:" ",height:17,fontSize:14,font:this.meter.config.font,color:"#FFFFFF"},{text:"Fair Purchase Price",height:10,fontSize:10,font:this.meter.config.font,color:"#333333"},{text:"$"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.meter.config.fairPrice)),height:12,fontSize:12,font:this.meter.config.font,color:"#333333",weight:"bold"}],states:{initial:{alpha:0},finalState:{alpha:1}},transitions:{initialTransition:new MarketReport.Model.Transition("fairPurchasePriceLabel.initialTransition",this.meter,{on:["showLabel"],initialState:"initial",nextState:"finalState",duration:500}),removeTransition:new MarketReport.Model.Transition("fairPurchasePriceLabel.removeTransition",this.meter,{on:["remove"],nextState:"initial",duration:500})}},this.meter.widget));this.meter.addComponent(new MarketReport.Model.Label("fairMarketRangeLabel",{x:n,y:t,alpha:1,width:i,height:r,labels:[{text:"Kelley Blue Book",height:10,fontSize:10,font:this.meter.config.font,color:"#FFFFFF",weight:"bold"},{text:"Fair Market Range",height:10,fontSize:10,font:this.meter.config.font,color:"#FFFFFF",weight:"bold"},{text:"$"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.meter.config.fairPriceLow))+" - $"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.meter.config.fairPriceHigh)),height:14,fontSize:14,font:this.meter.config.font,color:"#FFFFFF"}]},this.meter.widget))},addFairMarketRangeLabel:function(n,t){var i=140,r=53,u;n+=i/2;u=function(){var n=new createjs.Graphics;return n.beginFill("rgba(153,153,153,1)"),n.drawRoundRect(0,0,i,r,6),n.endFill(),n.beginFill("rgba(85,156,86,1)"),n.drawRoundRect(1,1,i-2,r-2,6),n.endFill(),new createjs.Shape(n)};this.meter.addComponent(new MarketReport.Model.Label("fairMarketRangeLabel",{x:n,y:t,alpha:0,width:i,height:r,padding:7,backgroundShape:u,labels:[{text:"Kelley Blue Book",height:10,fontSize:10,font:this.meter.config.font,color:"#FFFFFF",weight:"bold"},{text:"Fair Market Range",height:11,fontSize:11,font:this.meter.config.font,color:"#FFFFFF",weight:"bold"},{text:"$"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.meter.config.fairPriceLow))+" - $"+MarketReport.Util.LabelUtil.addCommas(Math.round(this.meter.config.fairPriceHigh)),height:17,fontSize:15,font:this.meter.config.font,color:"#FFFFFF"}],states:{initial:{alpha:0},finalState:{alpha:1}},transitions:{initialTransition:new MarketReport.Model.Transition("fairMarketRangeLabel.initialTransition",this.meter,{on:["showLabel"],initialState:"initial",nextState:"finalState",duration:500}),removeTransition:new MarketReport.Model.Transition("fairMarketRangeLabel.removeTransition",this.meter,{on:["remove"],nextState:"initial",duration:500})}},this.meter.widget))}};MarketReport.Util.ClassUtil.extendClass(MarketReport.Meter.Areas.SyndicatedNewCarLabels,MarketReport.Meter.Areas.FairPrice)}(),function(){MarketReport.Meter.Areas=MarketReport.Meter.Areas||{};MarketReport.Meter.Areas.SyndicatedNewCarFooter=function(n,t,i,r,u){MarketReport.Meter.Areas.Area.call(this,n,t,i,r,u);this.addPricingDefinitions();this.addSubtitle();this.addCopyright();n.privacyPolicy.addEventListener("click",n.privacyPolicyClick);n.pricingDefinitions.addEventListener("click",function(){n.pricingDefinitionsClick(n.showDialog)});n.pricingDefinitionsIcon.addEventListener("click",function(){n.pricingDefinitionsClick(n.showDialog)})};MarketReport.Meter.Areas.SyndicatedNewCarFooter.prototype={addPricingDefinitions:function(){var n=this,t=function(){var i=n.configModel.imageDir+(n.widget.canvasCoordinateManager.scale<2?"/info.png":"/info-2x.png"),t=new createjs.Bitmap(n.widget.getImage(i)?n.widget.getImage(i):i);return t.x=this.backgroundRect.x,t.scaleX=n.widget.canvasCoordinateManager.scale<2?1:.5,t.scaleY=n.widget.canvasCoordinateManager.scale<2?1:.5,t};this.meter.addComponent(new MarketReport.Model.Label("pricingDefinitionsIcon",{x:10,y:275,alpha:1,backgroundRect:{x:0,y:0,width:16,height:16},backgroundShape:t,labels:[{text:" ",height:12,fontSize:12,textAlign:"left",font:this.configModel.font,color:"#005CB0"}]},this.widget));this.meter.addComponent(new MarketReport.Model.Label("pricingDefinitions",{x:66,y:290,alpha:1,labels:[{text:"Important Info",height:12,fontSize:12,textAlign:"left",font:this.configModel.font,color:"#005CB0"},{text:"& Definitions",height:12,fontSize:12,textAlign:"left",font:this.configModel.font,color:"#005CB0"}]},this.widget))},addSubtitle:function(){this.meter.addComponent(new MarketReport.Model.Label("subtitle",{x:150,y:330,alpha:1,labels:[{text:"Kelley Blue Book info valid for ZIP code "+this.configModel.zip,height:12,fontSize:12,font:this.configModel.font,color:"#333333"},{text:"through "+this.configModel.validThrough,height:12,fontSize:12,font:this.configModel.font,color:"#333333"}]}),this.widget)},addCopyright:function(){this.meter.addComponent(new MarketReport.Model.Label("privacyPolicy",{x:150,y:355,alpha:1,labels:[{text:"Kelley Blue Book Privacy",height:12,fontSize:12,font:this.configModel.font,color:"#005CB0"}]}),this.widget)}}}(),function(){function r(n){n.config.displayFpp||$(".kbb-synpa-new-car-fpp").css("display","none");n.config.hideMsrp&&$(".kbb-synpa-new-car-msrp").css("display","none");n.config.hideInvoice&&$(".kbb-synpa-new-car-invoice").css("display","none")}function t(n,t){if(window.devicePixelRatio>=2&&(t+="@2x"),"background-size"in document.body.style)$(".kbb-synpa-new-car-definitions-image",n).css("background-image",'url("'+t+'.png")');else{var i=$('<img class="kbb-synpa-new-car-definitions-image-legacy" src='+t+".png><\/img>");$(".kbb-synpa-new-car-definitions-image",n).append(i)}}function i(n,t,i,r){var f,u,e;typeof t!="undefined"&&(f=n.querySelectorAll(t),f.length&&(f[0].style.display="block",u=n.querySelectorAll(t+" .kbb-synpa-new-car-dialogContent"),u.length&&(typeof i!="undefined"?(e=n.querySelectorAll(i),u[0].scrollTop=e.length&&u.length?e[0].offsetTop-6:0):u[0].scrollTop=0),t==".kbb-synpa-new-car-pricingDefinitions"&&(videoContainer=n.querySelectorAll("#consumerVideo"),videoContainer.length&&(r&&r.length>0?brightcove.createExperiences():videoContainer[0].parentElement.style.display="none"))))}var n;MarketReport.Model.MeterFactory.addRequiredAssets(["info.png"]);MarketReport.Model.MeterFactory.addRequiredRetinaAssets(["info-2x.png"]);MarketReport.Meter.SyndicatedNewCarMeter=function(n,u,f){if(MarketReport.Model.Meter.call(this,n,u,f),this.renderOrder=["scaleRange","baseRange","highRange","fairRange","fairPurchasePriceTether","fairPricePoint","invoiceTether","invoicePricePoint","msrpTether","msrpPricePoint","askingPriceTether"],this.renderLast=["logo","infoPopup","modalBox","modalLabel","modalTextLabel"],this.addArea(new MarketReport.Meter.Areas.BaseCore(this,n,u,f)),u.valid){this.addArea(new MarketReport.Meter.Areas.BaseRanges(this,n,u,f,{highRange:{direction:"right"},fairRangeLabel:!1}));this.addArea(new MarketReport.Meter.Areas.SyndicatedNewCarLabels(this,n,u,f));this.addArea(new MarketReport.Meter.Areas.SyndicatedNewCarFooter(this,n,u,f));var e=$(n.moduleInterface.element).parent(),o=this;u.videoId=u.videoId||"";u.videoOverlay=u.videoOverlay&&u.videoId&&u.videoId.length>0;$("#kbb-synpa-new-car-dialog",e).length===0&&$.ajax({type:"GET",url:u.templateDir+"/SyndicatedNewCarDialogs.html?version="+globalVersion,success:function(n){e.css("position","relative");e.append(n);u.copyrightYear&&$(".kbb-synpa-new-car-copyrightYear",e).text(u.copyrightYear);u.copyrightEditionText&&$(".kbb-synpa-new-car-copyrightEditionText",e).text(u.copyrightEditionText);u.copyrightPickCode&&$(".kbb-synpa-new-car-copyrightPickCode",e).text(u.copyrightPickCode);t($(".kbb-synpa-new-car-fpp"),u.imageDir+"/FairPrice");t($(".kbb-synpa-new-car-fmr"),u.imageDir+"/FMR");t($(".kbb-synpa-new-car-invoice"),u.imageDir+"/Invoice");t($(".kbb-synpa-new-car-msrp"),u.imageDir+"/MSRP");t($(".kbb-synpa-new-car-redZone"),u.imageDir+"/RZ");t($(".kbb-synpa-new-car-whiteZone"),u.imageDir+"/WZ");r(o,u.imageDir);u.videoId.length>0&&$("#consumerVideo",e).html($("#consumerVideo",e).html().replace("@videoId",u.videoId));$(".kbb-synpa-new-car-dialogCloser",e).css("background-image",'url("'+u.imageDir+'/close.png")');$(".kbb-synpa-new-car-dialogCloser",e).on("click",function(){pauseVideo();$(this).closest(".kbb-synpa-new-car-dialog",e).hide()});if(o.showDialog=function(n,t){i(e[0],n,t,u.videoId)},u.videoId&&u.videoId.length>0)$(".kbb-synpa-new-car-hover",e).on("click",function(){$(this).hide();i(e[0],".kbb-synpa-new-car-pricingDefinitions",null,u.videoId);playVideo()});u.hideInvoice&&$(".kbb-synpa-new-car-invoice",e).hide();u.hideMsrp&&$(".kbb-synpa-new-car-msrp",e).hide();u.hideAsking&&$(".kbb-synpa-new-car-askingPrice",e).hide()}});u.videoOverlay&&(this.baseRange.addEventListener("mouseover",this.showHover),this.logo.addEventListener("mouseover",this.showHover),this.fairRange&&(this.fairRange.addEventListener("mouseover",this.showHover),this.highRange.addEventListener("mouseover",this.showHover)),this.baseRange.addEventListener("mouseout",this.hideHover),this.logo.addEventListener("mouseout",this.hideHover),this.fairRange&&(this.fairRange.addEventListener("mouseout",this.hideHover),this.highRange.addEventListener("mouseout",this.hideHover)))}else this.addArea(new MarketReport.Meter.Areas.ErrorBox(this,n,u,f))};n=MarketReport.Meter.SyndicatedNewCarMeter.prototype=Object.create(MarketReport.Model.Meter.prototype);n.showHover=function(){$(".kbb-synpa-new-car-pricingDefinitions").is(":visible")||$(".kbb-synpa-new-car-hover").show()};n.hideHover=function(){$(".kbb-synpa-new-car-hover").hide()};n.copyrightClick=function(n){n(".kbb-synpa-new-car-copyright")};n.pricingDefinitionsClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions")};n.privacyPolicyClick=function(){window.open("//www.kbb.com/company/privacy-policy/","_blank")};n.fairPurchasePriceLabelClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions",".kbb-synpa-new-car-fpp")};n.fairPurchasePriceUnavailableLabelClick=function(n){n(".kbb-synpa-new-car-fairPurchasePriceUnavailable")};n.msrpPriceLabelClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions",".kbb-synpa-new-car-msrp")};n.askingPriceLabelClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions",".kbb-synpa-new-car-askingPrice")};n.invoicePriceLabelClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions",".kbb-synpa-new-car-invoice")};n.invoicePriceUnavailableLabelClick=function(n){n(".kbb-synpa-new-car-invoicePriceUnavailable")};n.baseRangeClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions",".kbb-synpa-new-car-whiteZone")};n.fairRangeClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions",".kbb-synpa-new-car-fmr")};n.highRangeClick=function(n){n(".kbb-synpa-new-car-pricingDefinitions",".kbb-synpa-new-car-redZone")};MarketReport.Model.MeterFactory.register(MarketReport.Meter.Meters.SYNDICATED_NEW_CAR,MarketReport.Meter.SyndicatedNewCarMeter,MarketReport.Config.SyndicatedNewCarConfig,{width:300,height:375,centerYOffset:-80})}();"function"!=typeof DIL&&(window.DIL=function(n,t){var h=[],o,c,s,u,b,ft,y,a,nt,p,et,ot,st,k,ht,ct,lt,tt,d,at,vt,yt,it;if(n!==Object(n)&&(n={}),s=n.partner,u=n.containerNSID,b=!!n.disableDestinationPublishingIframe,ft=n.iframeAkamaiHTTPS,y=n.mappings,a=n.uuidCookie,nt=!0===n.enableErrorReporting,p=n.visitorService,et=n.declaredId,ot=!0===n.removeFinishedScriptsAndCallbacks,st=!0===n.delayAllUntilWindowLoad,k=!0===n.disableIDSyncs,ht=!0===n.disableScriptAttachment,ct=!0===n.disableCORSFiring,lt=!0===n.disableDefaultRequest,tt=n.afterResultForDefaultRequest,d=n.dpIframeSrc,at=!0===n.testCORS,vt=!0===n.useJSONPOnly,yt=n.visitorConstructor,nt&&DIL.errorModule.activate(),it=!0===window._dil_unit_tests,(o=t)&&h.push(o+""),!s||"string"!=typeof s)return o="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:o,filename:"dil.js"}),Error(o);if(o="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",(u||"number"==typeof u)&&(u=parseInt(u,10),!isNaN(u)&&0<=u&&(o="")),o&&(u=0,h.push(o),o=""),c=DIL.getDil(s,u),c instanceof DIL&&c.api.getPartner()===s&&c.api.getContainerNSID()===u)return c;if(this instanceof DIL)DIL.registerDil(this,s,u);else return new DIL(n,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+s+" and containerNSID = "+u);var v={IS_HTTPS:"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},rt={stuffed:{}},f={},i={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:u+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2e3,calledBack:!1,mid:null,noVisitorAPI:!1,instance:null,releaseType:"no VisitorAPI",admsProcessingStarted:!1,process:function(n){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var i=this,f,t,e,o,r;if("function"==typeof n&&"function"==typeof n.getInstance){if(p===Object(p)&&(f=p.namespace)&&"string"==typeof f)t=n.getInstance(f,{idSyncContainerID:u});else{this.releaseType="no namespace";this.releaseRequests();return}if(t===Object(t)&&"function"==typeof t.isAllowed&&"function"==typeof t.getMarketingCloudVisitorID&&"function"==typeof t.getCustomerIDs){if(!t.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}if(this.instance=t,e=function(n){"VisitorAPI"!==i.releaseType&&(i.mid=n,i.releaseType="VisitorAPI",i.releaseRequests())},it&&(o=p.server)&&"string"==typeof o&&(t.server=o),r=t.getMarketingCloudVisitorID(e),"string"==typeof r&&r.length){e(r);return}setTimeout(function(){"VisitorAPI"!==i.releaseType&&(i.releaseType="timeout",i.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(s){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;i.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var n=e.isPopulatedString,t=this.getMarketingCloudVisitorID();return n(this.mid)&&this.mid===t||(this.mid=t),n(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(n){if(n===Object(n)){var f="",u=[],t=[],r,i;for(r in n)n.hasOwnProperty(r)&&(t[0]=r,i=n[r],i===Object(i)&&(t[1]=i.id||"",t[2]=i.authState||0,u.push(t),t=[]));if(t=u.length)for(n=0;n<t;n++)f+="&d_cid_ic="+u[n].join("%01");return f}return""}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(n,t){var i=e.isPopulatedString,o=encodeURIComponent;if(n===Object(n)&&i(t)){var r=n.dpid,u=n.dpuuid,f=null;if(i(r)&&i(u))return(f=o(r)+"$"+o(u),!0===this.declaredIdCombos[f])?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[f]=!0,this.declaredId[t]={dpid:r,dpuuid:u},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var n=this.declaredId.request,t=this.declaredId.init,i="";return null!==n?i="&d_dpid="+n.dpid+"&d_dpuuid="+n.dpuuid:null!==t&&(i="&d_dpid="+t.dpid+"&d_dpuuid="+t.dpuuid),i}},registerRequest:function(n){var t=this.firingQueue;n===Object(n)&&t.push(n);!this.firing&&t.length&&(!st||DIL.windowLoaded)&&this.adms.calledBack&&(n=t.shift(),n.src=n.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid="),e.isPopulatedString(n.corsPostData)&&(n.corsPostData=n.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid=")),w.fireRequest(n),this.firstRequestHasFired||"script"!==n.tag&&"cors"!==n.tag||(this.firstRequestHasFired=!0))},processVisitorAPI:function(){this.adms.process(yt||window.Visitor)},requestRemoval:function(n){if(!ot)return"removeFinishedScriptsAndCallbacks is not boolean true";var r=this.toRemove,t,i;if(n===Object(n)&&(t=n.script,i=n.callbackName,(t===Object(t)&&"SCRIPT"===t.nodeName||"no script created"===t)&&"string"==typeof i&&i.length&&r.push(n)),this.readyToRemove&&r.length){i=r.shift();t=i.script;i=i.callbackName;"no script created"!==t?(n=t.src,t.parentNode.removeChild(t)):n=t;window[i]=null;try{delete window[i]}catch(u){}return this.removed.push({scriptSrc:n,callbackName:i}),DIL.variables.scriptsRemoved.push(n),DIL.variables.callbacksRemoved.push(i),this.requestRemoval()}return"requestRemoval() processed"}};c=function(){var n="http://fast.",t="?d_nsid="+u+"#"+encodeURIComponent(document.location.href);return"string"==typeof d&&d.length?d+t:(v.IS_HTTPS&&(n=!0===ft?"https://fast.":"https://"),n+s+".demdex.net/dest5.html"+t)};var l={THROTTLE_START:3e4,throttleTimerSet:!1,id:"destination_publishing_iframe_"+s+"_"+u,url:c(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:v.POST_MESSAGE_ENABLED?15:100,ibsDeleted:[],jsonProcessed:[],newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function i(){n=document.createElement("iframe");n.id=t.id;n.style.cssText="display: none; width: 0; height: 0;";n.src=t.url;t.newIframeCreated=!0;u();document.body.appendChild(n)}function u(){r.addListener(n,"load",function(){n.className="aamIframeLoaded";t.iframeHasLoaded=!0;t.requestToProcess()})}var t=this,n=document.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,i()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,u()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.requestToProcess())):i();this.iframe=n},requestToProcess:function(n,t){var i=this;n&&!e.isEmptyObject(n)&&this.process(n,t);this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){i.messageSendingInterval=v.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},process:function(n,t){var u=encodeURIComponent,f,s,e,i,o,h;if(t===Object(t)&&(h=r.encodeAndBuildRequest(["",t.dpid||"",t.dpuuid||""],",")),(f=n.dests)&&f instanceof Array&&(s=f.length))for(e=0;e<s;e++)i=f[e],i=[u("dests"),u(i.id||""),u(i.y||""),u(i.c||"")],this.addMessage(i.join("|"));if((f=n.ibs)&&f instanceof Array&&(s=f.length))for(e=0;e<s;e++)i=f[e],i=[u("ibs"),u(i.id||""),u(i.tag||""),r.encodeAndBuildRequest(i.url||[],","),u(i.ttl||""),"",h],this.addMessage(i.join("|"));if((f=n.dpcalls)&&f instanceof Array&&(s=f.length))for(e=0;e<s;e++)i=f[e],o=i.callback||{},o=[o.obj||"",o.fn||"",o.key||"",o.tag||"",o.url||""],i=[u("dpm"),u(i.id||""),u(i.tag||""),r.encodeAndBuildRequest(i.url||[],","),u(i.ttl||""),r.encodeAndBuildRequest(o,","),h],this.addMessage(i.join("|"));this.jsonProcessed.push(n)},addMessage:function(n){var t=encodeURIComponent,t=nt?t("---destpub-debug---"):t("---destpub---");this.messages.push(t+n)},sendMessages:function(){var t=this,n;this.messages.length?(n=this.messages.shift(),DIL.xd.postMessage(n,this.url,this.iframe.contentWindow),this.messagesPosted.push(n),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},ut={traits:function(n){return e.isValidPdata(n)&&(f.sids instanceof Array||(f.sids=[]),r.extendArray(f.sids,n)),this},pixels:function(n){return e.isValidPdata(n)&&(f.pdata instanceof Array||(f.pdata=[]),r.extendArray(f.pdata,n)),this},logs:function(n){return e.isValidLogdata(n)&&(f.logdata!==Object(f.logdata)&&(f.logdata={}),r.extendObject(f.logdata,n)),this},customQueryParams:function(n){return e.isEmptyObject(n)||r.extendObject(f,n,i.reservedKeys),this},signals:function(n,t){var u,o=n;if(!e.isEmptyObject(o)){if(t&&"string"==typeof t)for(u in o={},n)n.hasOwnProperty(u)&&(o[t+u]=n[u]);r.extendObject(f,o,i.reservedKeys)}return this},declaredId:function(n){return i.declaredId.setDeclaredId(n,"request"),this},result:function(n){return"function"==typeof n&&(f.callback=n),this},afterResult:function(n){return"function"==typeof n&&(f.postCallbackFn=n),this},useImageRequest:function(){return f.useImageRequest=!0,this},clearData:function(){return f={},this},submit:function(){return w.submitRequest(f),f={},this},getPartner:function(){return s},getContainerNSID:function(){return u},getEventLog:function(){return h},getState:function(){var n={},t={};return r.extendObject(n,i,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0}),r.extendObject(t,l,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0}),{pendingRequest:f,otherRequestInfo:n,destinationPublishingInfo:t}},idSync:function(n){if(k)return"Error: id syncs have been disabled";if(n!==Object(n)||"string"!=typeof n.dpid||!n.dpid.length)return"Error: config or config.dpid is empty";if("string"!=typeof n.url||!n.url.length)return"Error: config.url is empty";var u=n.url,t=n.minutesToLive,f=encodeURIComponent,e,u=u.replace(/^https:/,"").replace(/^http:/,"");if("undefined"==typeof t)t=20160;else if(t=parseInt(t,10),isNaN(t)||0>=t)return"Error: config.minutesToLive needs to be a positive number";return e=r.encodeAndBuildRequest(["",n.dpid,n.dpuuid||""],","),n=["ibs",f(n.dpid),"img",f(u),t,"",e],l.addMessage(n.join("|")),i.firstRequestHasFired&&l.requestToProcess(),"Successfully queued"},aamIdSync:function(n){return k?"Error: id syncs have been disabled":n!==Object(n)||"string"!=typeof n.dpuuid||!n.dpuuid.length?"Error: config or config.dpuuid is empty":(n.url="//dpm.demdex.net/ibs:dpid="+n.dpid+"&dpuuid="+n.dpuuid,this.idSync(n))},passData:function(n){return e.isEmptyObject(n)?"Error: json is empty or not an object":(l.ibsDeleted.push(n.ibs),delete n.ibs,w.defaultCallback(n),n)},getPlatformParams:function(){return i.platformParams},getEventCallConfigParams:function(){var r=i,n=r.modStatsParams,u=r.platformParams,t;if(!n){n={};for(t in u)u.hasOwnProperty(t)&&!r.nonModStatsParams[t]&&(n[t.replace(/^d_/,"")]=u[t]);r.modStatsParams=n}return n}},w={corsMetadata:function(){var n="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?n="XMLHttpRequest":new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()?n="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:n,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(n){return i.registerRequest(w.createQueuedRequest(n)),!0},createQueuedRequest:function(n){var t=i,h,c=n.callback,l="img",a,o,f,s;if(!e.isEmptyObject(y))for(o in y)y.hasOwnProperty(o)&&(f=y[o],null!=f&&""!==f&&o in n&&!(f in n||f in i.reservedKeys)&&(s=n[o],null!=s&&""!==s&&(n[f]=s)));return e.isValidPdata(n.sids)||(n.sids=[]),e.isValidPdata(n.pdata)||(n.pdata=[]),e.isValidLogdata(n.logdata)||(n.logdata={}),n.logdataArray=r.convertObjectToKeyValuePairs(n.logdata,"=",!0),n.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof c&&(c=this.defaultCallback),t.useJSONP=!0!==n.useImageRequest,t.useJSONP&&(l="script",h=t.callbackPrefix+"_"+u+"_"+(new Date).getTime()),t=this.makeRequestSrcData(n,h),!vt&&(a=this.getCORSInstance())&&t.truncated&&(this.corsMetadata.corsCookiesEnabled||t.isDeclaredIdCall)&&(l="cors"),{tag:l,src:t.src,corsSrc:t.corsSrc,internalCallbackName:h,callbackFn:c,postCallbackFn:n.postCallbackFn,useImageRequest:!!n.useImageRequest,requestData:n,corsInstance:a,corsPostData:t.corsPostData,hasCORSError:!1}},defaultCallback:function(n,t){var s,h,u,f,v,c,o,y,p;if((s=n.stuff)&&s instanceof Array&&(h=s.length))for(u=0;u<h;u++)(f=s[u])&&f===Object(f)&&(v=f.cn,c=f.cv,o=f.ttl,("undefined"==typeof o||""===o)&&(o=Math.floor(r.getMaxCookieExpiresInMinutes()/1440)),y=f.dmn||"."+document.domain.replace(/^www\./,""),p=f.type,v&&(c||"number"==typeof c)&&("var"!==p&&(o=parseInt(o,10))&&!isNaN(o)&&r.setCookie(v,c,1440*o,"/",y,!1),rt.stuffed[v]=c));s=n.uuid;e.isPopulatedString(s)&&!e.isEmptyObject(a)&&(h=a.path,"string"==typeof h&&h.length||(h="/"),u=parseInt(a.days,10),isNaN(u)&&(u=100),r.setCookie(a.name||"aam_did",s,1440*u,h,a.domain||"."+document.domain.replace(/^www\./,""),!0===a.secure));b||i.abortRequests||l.requestToProcess(n,t)},makeRequestSrcData:function(n,t){var o,a,w,d;n.sids=e.removeEmptyArrayValues(n.sids||[]);n.pdata=e.removeEmptyArrayValues(n.pdata||[]);var f=i,h=f.platformParams,l=r.encodeAndBuildRequest(n.sids,","),y=r.encodeAndBuildRequest(n.pdata,","),b=(n.logdataArray||[]).join("&");delete n.logdataArray;var p=v.IS_HTTPS?"https://":"http://",k=f.declaredId.getDeclaredIdQueryString(),g=f.adms.instance?f.adms.getCustomerIDsQueryString(f.adms.getCustomerIDs()):"",c=[];for(o in n)if(!(o in f.reservedKeys)&&n.hasOwnProperty(o))if(a=n[o],o=encodeURIComponent(o),a instanceof Array)for(w=0,d=a.length;w<d;w++)c.push(o+"="+encodeURIComponent(a[w]));else c.push(o+"="+encodeURIComponent(a));return c=c.length?"&"+c.join("&"):"",o=!1,l="d_nsid="+h.d_nsid+k+g+(l.length?"&d_sid="+l:"")+(y.length?"&d_px="+y:"")+(b.length?"&d_ld="+encodeURIComponent(b):""),h="&d_rtbd="+h.d_rtbd+"&d_jsonv="+h.d_jsonv+"&d_dst="+h.d_dst,p=p+s+".demdex.net/event",y=f=p+"?"+l+(f.useJSONP?h+"&d_cb="+(t||""):"")+c,2048<f.length&&(f=f.substring(0,f.lastIndexOf("&")),o=!0),{corsSrc:p+"?"+(at?"testcors=1&d_nsid="+u+"&":"")+"_ts="+(new Date).getTime(),src:f,originalSrc:y,truncated:o,corsPostData:l+h+c,isDeclaredIdCall:""!==k}},fireRequest:function(n){if("img"===n.tag)this.fireImage(n);else{var t=i.declaredId,t=t.declaredId.request||t.declaredId.init||{},t={dpid:t.dpid||"",dpuuid:t.dpuuid||""};"script"===n.tag?this.fireScript(n,t):"cors"===n.tag&&this.fireCORS(n,t)}},fireImage:function(n){var t=i,r,u;t.abortRequests||(t.firing=!0,r=new Image(0,0),t.sent.push(n),r.onload=function(){t.firing=!1;t.fired.push(n);t.num_of_img_responses++;t.registerRequest()},u=function(i){o="imgAbortOrErrorHandler received the event of type "+i.type;h.push(o);t.abortRequests=!0;t.firing=!1;t.errored.push(n);t.num_of_img_errors++;t.registerRequest()},r.addEventListener?(r.addEventListener("error",u,!1),r.addEventListener("abort",u,!1)):r.attachEvent&&(r.attachEvent("onerror",u),r.attachEvent("onabort",u)),r.src=n.src)},fireScript:function(n,t){var y=this,r=i,e,u,a=n.src,c=n.postCallbackFn,v="function"==typeof c,f=n.internalCallbackName;r.abortRequests||(r.firing=!0,window[f]=function(i){try{i!==Object(i)&&(i={});k&&(l.ibsDeleted.push(i.ibs),delete i.ibs);var a=n.callbackFn;r.firing=!1;r.fired.push(n);r.num_of_jsonp_responses++;a(i,t);v&&c(i,t)}catch(e){e.message="DIL jsonp callback caught error with message "+e.message;o=e.message;h.push(o);e.filename=e.filename||"dil.js";e.partner=s;DIL.errorModule.handleError(e);try{a({error:e.name+"|"+e.message},t);v&&c({error:e.name+"|"+e.message},t)}catch(y){}}finally{r.requestRemoval({script:u,callbackName:f});r.registerRequest()}},ht?(r.firing=!1,r.requestRemoval({script:"no script created",callbackName:f})):(u=document.createElement("script"),u.addEventListener&&u.addEventListener("error",function(t){r.requestRemoval({script:u,callbackName:f});o="jsonp script tag error listener received the event of type "+t.type+" with src "+a;y.handleScriptError(o,n)},!1),u.type="text/javascript",u.src=a,e=DIL.variables.scriptNodeList[0],e.parentNode.insertBefore(u,e)),r.sent.push(n),r.declaredId.declaredId.request=null)},fireCORS:function(n,t){function c(i){var c,l;try{if(c=JSON.parse(i),c!==Object(c)){f.handleCORSError(n,t,"Response is not JSON");return}}catch(v){f.handleCORSError(n,t,"Error parsing response as JSON");return}try{l=n.callbackFn;r.firing=!1;r.fired.push(n);r.num_of_cors_responses++;l(c,t);a&&e(c,t)}catch(u){u.message="DIL handleCORSResponse caught error with message "+u.message;o=u.message;h.push(o);u.filename=u.filename||"dil.js";u.partner=s;DIL.errorModule.handleError(u);try{l({error:u.name+"|"+u.message},t);a&&e({error:u.name+"|"+u.message},t)}catch(y){}}finally{r.registerRequest()}}var f=this,r=i,l=this.corsMetadata.corsType,v=n.corsSrc,u=n.corsInstance,y=n.corsPostData,e=n.postCallbackFn,a="function"==typeof e;if(!r.abortRequests){if(r.firing=!0,ct)r.firing=!1;else try{u.open("post",v,!0);"XMLHttpRequest"===l?(u.withCredentials=!0,u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.onreadystatechange=function(){4===this.readyState&&(200===this.status?c(this.responseText):f.handleCORSError(n,t,"onreadystatechange"))}):"XDomainRequest"===l&&(u.onload=function(){c(this.responseText)});u.onerror=function(){f.handleCORSError(n,t,"onerror")};u.ontimeout=function(){f.handleCORSError(n,t,"ontimeout")};u.send(y)}catch(p){this.handleCORSError(n,t,"try-catch")}r.sent.push(n);r.declaredId.declaredId.request=null}},handleCORSError:function(n,t,r){n.hasCORSError||(n.hasCORSError=!0,i.num_of_cors_errors++,i.corsErrorSources.push(r),n.tag="script",this.fireScript(n,t))},handleScriptError:function(n,t){i.num_of_jsonp_errors++;this.handleRequestError(n,t)},handleRequestError:function(n,t){var r=i;h.push(n);r.abortRequests=!0;r.firing=!1;r.errored.push(t);r.registerRequest()}},e={isValidPdata:function(n){return n instanceof Array&&this.removeEmptyArrayValues(n).length?!0:!1},isValidLogdata:function(n){return!this.isEmptyObject(n)},isEmptyObject:function(n){if(n!==Object(n))return!0;for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(n){for(var i=0,u=n.length,t,r=[],i=0;i<u;i++)t=n[i],"undefined"!=typeof t&&null!==t&&""!==t&&r.push(t);return r},isPopulatedString:function(n){return"string"==typeof n&&n.length}},r={addListener:function(){return document.addEventListener?function(n,t,i){n.addEventListener(t,function(n){"function"==typeof i&&i(n)},!1)}:document.attachEvent?function(n,t,i){n.attachEvent("on"+t,function(n){"function"==typeof i&&i(n)})}:void 0}(),convertObjectToKeyValuePairs:function(n,t,i){var f=[],u,r;t||(t="=");for(u in n)n.hasOwnProperty(u)&&(r=n[u],"undefined"!=typeof r&&null!==r&&""!==r&&f.push(u+t+(i?encodeURIComponent(r):r)));return f},encodeAndBuildRequest:function(n,t){return this.map(n,function(n){return encodeURIComponent(n)}).join(t)},map:function(n,t){var r,u,f,i;if(Array.prototype.map)return n.map(t);if(void 0===n||null===n)throw new TypeError;if(r=Object(n),u=r.length>>>0,"function"!=typeof t)throw new TypeError;for(f=Array(u),i=0;i<u;i++)i in r&&(f[i]=t.call(t,r[i],i,r));return f},filter:function(n,t){var r,e,u,i,f;if(!Array.prototype.filter){if(void 0===n||null===n)throw new TypeError;if(r=Object(n),e=r.length>>>0,"function"!=typeof t)throw new TypeError;for(u=[],i=0;i<e;i++)i in r&&(f=r[i],t.call(t,f,i,r)&&u.push(f));return u}return n.filter(t)},getCookie:function(n){n+="=";for(var r=document.cookie.split(";"),t,i=0,u=r.length;i<u;i++){for(t=r[i];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(n))return decodeURIComponent(t.substring(n.length,t.length))}return null},setCookie:function(n,t,i,r,u,f){var e=new Date;i&&(i*=6e4);document.cookie=n+"="+encodeURIComponent(t)+(i?";expires="+new Date(e.getTime()+i).toUTCString():"")+(r?";path="+r:"")+(u?";domain="+u:"")+(f?";secure":"")},extendArray:function(n,t){return n instanceof Array&&t instanceof Array?(Array.prototype.push.apply(n,t),!0):!1},extendObject:function(n,t,i){var r;if(n===Object(n)&&t===Object(t)){for(r in t)!t.hasOwnProperty(r)||!e.isEmptyObject(i)&&r in i||(n[r]=t[r]);return!0}return!1},getMaxCookieExpiresInMinutes:function(){return(new Date(v.COOKIE_MAX_EXPIRATION_DATE).getTime()-(new Date).getTime())/6e4}};"error"===s&&0===u&&r.addListener(window,"load",function(){DIL.windowLoaded=!0});var pt=!1,g=function(){pt||(pt=!0,i.registerRequest(),bt(),b||i.abortRequests||l.attachIframe(),i.readyToRemove=!0,i.requestRemoval())},bt=function(){b||setTimeout(function(){lt||i.firstRequestHasFired||("function"==typeof tt?ut.afterResult(tt).submit():ut.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)},wt=document;"error"!==s&&(DIL.windowLoaded?g():"complete"!==wt.readyState&&"loaded"!==wt.readyState?r.addListener(window,"load",function(){DIL.windowLoaded=!0;g()}):(DIL.windowLoaded=!0,g()));i.declaredId.setDeclaredId(et,"init");i.processVisitorAPI();this.api=ut;this.getStuffedVariable=function(n){var t=rt.stuffed[n];return t||"number"==typeof t||(t=r.getCookie(n))||"number"==typeof t||(t=""),t};this.validators=e;this.helpers=r;this.constants=v;this.log=h;it&&(this.pendingRequest=f,this.requestController=i,this.setDestinationPublishingUrl=c,this.destinationPublishing=l,this.requestProcs=w,this.variables=rt,this.callWindowLoadFunctions=g)},function(){var n=document,t;null==n.readyState&&n.addEventListener&&(n.readyState="loading",n.addEventListener("DOMContentLoaded",t=function(){n.removeEventListener("DOMContentLoaded",t,!1);n.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(n){var t;if(n===Object(n))for(t in n)n.hasOwnProperty(t)&&(this[t]=n[t])},DIL.extendStaticPropertiesAndMethods({version:"6.2",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(n){this.windowLoaded="function"==typeof n?!!n():"boolean"==typeof n?n:!0},create:function(n){try{return new DIL(n)}catch(t){return new Image(0,0).src="http://error.demdex.net/event?d_nsid=0&d_px=14137&d_ld=name%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},registerDil:function(n,t,i){t=t+"$"+i;t in this.dils||(this.dils[t]=n)},getDil:function(n,t){var i;return"string"!=typeof n&&(n=""),t||(t=0),i=n+"$"+t,i in this.dils?this.dils[i]:Error("The DIL instance with partner = "+n+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(n,t,i){return t=this.getDil(t,i),t instanceof this?t.getStuffedVariable(n):""},xd:{postMessage:function(n,t,i){var r=1;t&&(window.postMessage?i.postMessage(n,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(i.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+n))}}}),DIL.errorModule=function(){var i=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),n={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},t=!1;return{activate:function(){t=!0},handleError:function(r){if(!t)return"DIL error module has not been activated";r!==Object(r)&&(r={});var u=r.name?(r.name+"").toLowerCase():"",f=[];return r={name:u,filename:r.filename?r.filename+"":"",partner:r.partner?r.partner+"":"no_partner",site:r.site?r.site+"":document.location.href,message:r.message?r.message+"":""},f.push(u in n?n[u]:n.noerrortypedefined),i.api.pixels(f).logs(r).useImageRequest().submit(),"DIL error report sent"},pixelMap:n}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(n,t,i){var r="";return t=t||"Error caught in DIL module/submodule: ",n===Object(n)?r=t+(n.message||"err has no message"):(r=t+"err is not a valid object",n={}),n.message=r,i instanceof DIL&&(n.partner=i.api.getPartner()),DIL.errorModule.handleError(n),this.errorMessage=r}}});DIL.tools.getSearchReferrer=function(n,t){var f=DIL.getDil("error"),i=DIL.tools.decomposeURI(n||document.referrer),r="",e="",u={queryParam:"q"};return(r=f.helpers.filter([t===Object(t)?t:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(n){return!(!n.hasOwnProperty("hostPattern")||!i.hostname.match(n.hostPattern))}).shift())?{valid:!0,name:i.hostname,keywords:(f.helpers.extendObject(u,r),e=u.queryPattern?(r=(""+i.search).match(u.queryPattern))?r[1]:"":i.uriParams[u.queryParam],decodeURIComponent(e||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}};DIL.tools.decomposeURI=function(n){var i=DIL.getDil("error"),t=document.createElement("a");return t.href=n||document.referrer,{hash:t.hash,host:t.host.split(":").shift(),hostname:t.hostname,href:t.href,pathname:t.pathname.replace(/^\//,""),protocol:t.protocol,search:t.search,uriParams:function(n,t){return i.helpers.map(t.split("&"),function(t){t=t.split("=");n[t.shift()]=t.shift()}),n}({},t.search.replace(/^(\/|\?)?|\/$/g,""))}};DIL.tools.getMetaTags=function(){for(var u={},f=document.getElementsByTagName("meta"),t,i,r,n=0,e=arguments.length;n<e;n++)if(i=arguments[n],null!==i)for(t=0;t<f.length;t++)if(r=f[t],r.name===i){u[i]=r.content;break}return u};DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(n,t,i,r){try{var e=this,u={name:"DIL Site Catalyst Module Error"},f=function(n){return u.message=n,DIL.errorModule.handleError(u),n};if(this.options=r===Object(r)?r:{},this.dil=null,t instanceof DIL)this.dil=t;else return f("dilInstance is not a valid instance of DIL");return(u.partner=t.api.getPartner(),n!==Object(n))?f("siteCatalystReportingSuite is not an object"):(window.AppMeasurement_Module_DIL=n.m_DIL=function(n){var t="function"==typeof n.m_i?n.m_i("DIL"):this;if(t!==Object(t))return f("m is not an object");t.trackVars=e.constructTrackVars(i);t.d=0;t.s=n;t._t=function(){var t,i,h=","+this.trackVars+",",n=this.s,r,s=[],u,o;if(r=[],u={},o=!1,n!==Object(n))return f("Error in m._t function: s is not an object");if(this.d){if("function"==typeof n.foreachVar)n.foreachVar(function(n,t){"undefined"!=typeof t&&(u[n]=t,o=!0)},this.trackVars);else{if(!(n.va_t instanceof Array))return f("Error in m._t function: s.va_t is not an array");if(n.lightProfileID?(t=n.lightTrackVars)&&(t=","+t+","+n.vl_mr+","):(n.pe||n.linkType)&&(t=n.linkTrackVars,n.pe&&(i=n.pe.substring(0,1).toUpperCase()+n.pe.substring(1),n[i]&&(t=n[i].trackVars)),t&&(t=","+t+","+n.vl_l+","+n.vl_l2+",")),t){for(i=0,s=t.split(",");i<s.length;i++)0<=h.indexOf(","+s[i]+",")&&r.push(s[i]);r.length&&(h=","+r.join(",")+",")}for(r=0,i=n.va_t.length;r<i;r++)t=n.va_t[r],0<=h.indexOf(","+t+",")&&"undefined"!=typeof n[t]&&null!==n[t]&&""!==n[t]&&(u[t]=n[t],o=!0)}e.includeContextData(n,u).store_populated&&(o=!0);o&&this.d.api.signals(u,"c_").submit()}}},n.loadModule("DIL"),n.DIL.d=t,u.message?u.message:"DIL.modules.siteCatalyst.init() completed with no errors")}catch(o){return this.handle(o,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(n){var u=[],t,i,f,r,e;if(n===Object(n)){if(t=n.names,t instanceof Array&&(f=t.length))for(i=0;i<f;i++)r=t[i],"string"==typeof r&&r.length&&u.push(r);if(n=n.iteratedNames,n instanceof Array&&(f=n.length))for(i=0;i<f;i++)if(t=n[i],t===Object(t)&&(r=t.name,e=parseInt(t.maxIndex,10),"string"==typeof r&&r.length&&!isNaN(e)&&0<=e))for(t=0;t<=e;t++)u.push(r+t);if(u.length)return u.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(n,t){var s={},h=!1;if(n.contextData===Object(n.contextData)){var e=n.contextData,u=this.options.replaceContextDataPeriodsWith,r=this.options.filterFromContextVariables,c={},f,l,o,i;if("string"==typeof u&&u.length||(u="_"),r instanceof Array)for(f=0,l=r.length;f<l;f++)o=r[f],this.dil.validators.isPopulatedString(o)&&(c[o]=!0);for(i in e)e.hasOwnProperty(i)&&!c[i]&&((r=e[i])||"number"==typeof r)&&(i=("contextData."+i).replace(/\./g,u),t[i]=r,h=!0)}return s.store_populated=h,s}};DIL.modules.GA={dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:DIL.modules.helpers.handleModuleError,init:function(n,t,i){try{this.tv=this.arr=this.dil=null;this.errorMessage="";this.signals={};this.hasSignals=!1;var r={name:"DIL GA Module Error"},u="";t instanceof DIL?(this.dil=t,r.partner=this.dil.api.getPartner()):(u="dilInstance is not a valid instance of DIL",r.message=u,DIL.errorModule.handleError(r));n instanceof Array&&n.length?this.arr=n:(u="gaArray is not an array or is empty",r.message=u,DIL.errorModule.handleError(r));this.tv=this.constructTrackVars(i);this.errorMessage=u}catch(f){this.handle(f,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(n){var f=[],t,u,i,r;if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){for(i=this.defaultTrackVars,r={},t=0,u=i.length;t<u;t++)r[i[t]]=!0;this.defaultTrackVarsObj=r}else r=this.defaultTrackVarsObj;if(n===Object(n)){if(n=n.names,n instanceof Array&&(u=n.length))for(t=0;t<u;t++)i=n[t],"string"==typeof i&&i.length&&i in r&&f.push(i);if(f.length)return f}return this.defaultTrackVars},constructGAObj:function(n){var u={},r,f,i,t;for(n=n instanceof Array?n:this.arr,r=0,f=n.length;r<f;r++)i=n[r],i instanceof Array&&i.length&&(i=[],t=n[r],i instanceof Array&&t instanceof Array&&Array.prototype.push.apply(i,t),t=i.shift(),"string"==typeof t&&t.length&&(u[t]instanceof Array||(u[t]=[]),u[t].push(i)));return u},addToSignals:function(n,t){return"string"!=typeof n||""===n||null==t||""===t?!1:(this.signals[n]instanceof Array||(this.signals[n]=[]),this.signals[n].push(t),this.hasSignals=!0)},constructSignals:function(){for(var u=this.constructGAObj(),f={_setAccount:function(n){this.addToSignals("c_accountId",n)},_setCustomVar:function(n,t,i){"string"==typeof t&&t.length&&this.addToSignals("c_"+t,i)},_addItem:function(n,t,i,r,u,f){this.addToSignals("c_itemOrderId",n);this.addToSignals("c_itemSku",t);this.addToSignals("c_itemName",i);this.addToSignals("c_itemCategory",r);this.addToSignals("c_itemPrice",u);this.addToSignals("c_itemQuantity",f)},_addTrans:function(n,t,i,r,u,f,e,o){this.addToSignals("c_transOrderId",n);this.addToSignals("c_transAffiliation",t);this.addToSignals("c_transTotal",i);this.addToSignals("c_transTax",r);this.addToSignals("c_transShipping",u);this.addToSignals("c_transCity",f);this.addToSignals("c_transState",e);this.addToSignals("c_transCountry",o)},_trackSocial:function(n,t,i,r){this.addToSignals("c_socialNetwork",n);this.addToSignals("c_socialAction",t);this.addToSignals("c_socialTarget",i);this.addToSignals("c_socialPagePath",r)}},e=this.tv,n,i,s,r,t=0,o=e.length;t<o;t++)if(n=e[t],u.hasOwnProperty(n)&&f.hasOwnProperty(n)&&(r=u[n],r instanceof Array))for(i=0,s=r.length;i<s;i++)f[n].apply(this,r[i])},submit:function(){try{return""!==this.errorMessage?this.errorMessage:(this.constructSignals(),this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)+this.dil.log):"No signals present")}catch(n){return this.handle(n,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:DIL.modules.helpers.handleModuleError,callback:null,v:function(){return!1},init:function(n,t,i){try{this.callback=this.dil=null;this.errorMessage="";n instanceof DIL?(this.dil=n,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(t)?t:"aam_ga",this.delimiter=this.v(i)?i:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(r){this.handle(r,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(n){var i,f,r,o,u,t,e;if(t=!1,e=1,n===Object(n)&&(i=n.stuff)&&i instanceof Array&&(f=i.length))for(n=0;n<f;n++)if((r=i[n])&&r===Object(r)&&(o=r.cn,u=r.cv,o===this.cookieName&&this.v(u))){t=!0;break}if(t){for(i=u.split(this.delimiter),"undefined"==typeof _gaq&&(window._gaq=[]),r=window._gaq,n=0,f=i.length;n<f&&!(t=i[n].split("="),u=t[0],t=t[1],this.v(u)&&this.v(t)&&r.push(["_setCustomVar",e++,u,t,1]),e>this.LIMIT);n++);this.errorMessage=1<e?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"==typeof this.callback)return this.callback()},submit:function(){try{var n=this;return""!==this.errorMessage?this.errorMessage:(this.dil.api.afterResult(function(t){n.process(t)}).submit(),"DIL.modules.GA.Stuffer.submit() successful")}catch(t){return this.handle(t,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}};DIL.modules.Peer39={aid:"",dil:null,optionals:null,errorMessage:"",calledBack:!1,script:null,scriptsSent:[],returnedData:[],handle:DIL.modules.helpers.handleModuleError,init:function(n,t,i){try{this.dil=null;this.errorMessage="";this.calledBack=!1;this.optionals=i===Object(i)?i:{};i={name:"DIL Peer39 Module Error"};var u=[],r="";this.isSecurePageButNotEnabled(document.location.protocol)&&(r="Module has not been enabled for a secure page",u.push(r),i.message=r,DIL.errorModule.handleError(i));t instanceof DIL?(this.dil=t,i.partner=this.dil.api.getPartner()):(r="dilInstance is not a valid instance of DIL",u.push(r),i.message=r,DIL.errorModule.handleError(i));"string"==typeof n&&n.length?this.aid=n:(r="aid is not a string or is empty",u.push(r),i.message=r,DIL.errorModule.handleError(i));this.errorMessage=u.join("\n")}catch(f){this.handle(f,"DIL.modules.Peer39.init() caught error with message ",this.dil)}finally{return this}},isSecurePageButNotEnabled:function(n){return"https:"===n&&!0!==this.optionals.enableHTTPS?!0:!1},constructSignals:function(){var n=this,t=this.constructScript(),i=DIL.variables.scriptNodeList[0];return window["afterFinished_"+this.aid]=function(){try{var t=n.processData(p39_KVP_Short("c_p","|").split("|"));t.hasSignals&&n.dil.api.signals(t.signals).submit()}catch(i){}finally{n.calledBack=!0;"function"==typeof n.optionals.afterResult&&n.optionals.afterResult()}},i.parentNode.insertBefore(t,i),this.scriptsSent.push(t),"Request sent to Peer39"},processData:function(n){var r,f,t,i,u={},e=!1;if(this.returnedData.push(n),n instanceof Array)for(r=0,f=n.length;r<f;r++)t=n[r].split("="),i=t[0],t=t[1],i&&isFinite(t)&&!isNaN(parseInt(t,10))&&(u[i]instanceof Array||(u[i]=[]),u[i].push(t),e=!0);return{hasSignals:e,signals:u}},constructScript:function(){var n=document.createElement("script"),t=this.optionals,i=t.scriptId,r=t.scriptSrc,t=t.scriptParams;return n.id="string"==typeof i&&i.length?i:"peer39ScriptLoader",n.type="text/javascript","string"==typeof r&&r.length?n.src=r:(n.src=(this.dil.constants.IS_HTTPS?"https:":"http:")+"//stags.peer39.net/"+this.aid+"/trg_"+this.aid+".js","string"==typeof t&&t.length&&(n.src+="?"+t)),n},submit:function(){try{return""!==this.errorMessage?this.errorMessage:this.constructSignals()}catch(n){return this.handle(n,"DIL.modules.Peer39.submit() caught error with message ",this.dil)}}};s_code="";s_giqf();KBB=KBB||{};KBB.PriceAdvisorNewCar=KBB.PriceAdvisorNewCar||{};KBB.PriceAdvisorNewCar.FairPurchasePrice=KBB.PriceAdvisorNewCar.FairPurchasePrice||{};KBB.PriceAdvisorNewCar.FairPurchasePrice.Render=function(n,t,i){function s(n,t,i,r,u){this.Message=n;this.fontSize=t===undefined?"12":t;this.weight=i===undefined?"500":i;this.font=r===undefined?"font2":r;this.color=u===undefined?"#333333":r;this.lines=this.Message.split("|")}function u(n,t){this.header=new s(n,18,700,"font");this.body=new s(t)}var f=document.getElementById(n),r=document.createElement("canvas"),e="/Content/PriceAdvisorNewCar/FairPurchasePrice/Assets/Images",o="/Content/PriceAdvisorNewCar/FairPurchasePrice/Assets/Templates";f.className+=" price-advisor";r.id=n+"_marketMeterCanvas";r.width=300;r.height=375;r.style.display="block";f.appendChild(r);$.ajax({data:t,error:function(t,r){var s,h,f;if(console.log(r+" - "+t.statusText+" - "+t.responseText),h=$("#"+n+"_marketMeterCanvas"),f=JSON.parse(t.responseText),f.data){switch(f.data.messageCode){case 1:case 2:case 3:default:s=new u("Info Currently Unavailable","Please check back later");break;case 4:s=new u("Info Currently Unavailable","Kelley Blue Book pricing is unavailable|on this page, but it might be|available on KBB.com");break;case 5:s=new u("Info Currently Unavailable","This vehicle may have too few sales in|your area to generate|a Fair Market Range.")}if(KBB.modules.marketMeter.marketMeter(h,{type:MarketReport.Meter.Meters.SYNDICATED_NEW_CAR,imageDir:e,templateDir:o,hideMsrp:!0,hideInvoice:!0,displayFpp:!1,messageNoData:s,backgroundColor:f.data.backgroundColor}),i)try{i(f.data)}catch(c){console.log(c);console.log(t.responseText)}}},success:function(t){var r=$("#"+n+"_marketMeterCanvas");KBB.modules.marketMeter.marketMeter(r,{type:MarketReport.Meter.Meters.SYNDICATED_NEW_CAR,imageDir:e,templateDir:o,scaleLow:t.scaleLow,scaleHigh:t.scaleHigh,fairPriceLow:t.fairPurchasePriceLow,fairPriceHigh:t.fairPurchasePriceHigh,fairPrice:t.fairPurchasePrice,invoice:t.factoryInvoice,askingPrice:t.askingPrice,msrp:t.msrp,dataVersionDate:t.dataVersionDate,validThrough:t.validThrough,copyrightYear:t.copyrightYear,copyrightEditionText:t.copyrightEditionText,copyrightPickCode:t.copyrightPickCode,zip:t.zip,useScale:!1,hideMsrp:!t.displayMSRP,hideInvoice:!0,hideAsking:!t.displayAskingPrice,displayFpp:t.displayFPP,tetherSmoothing:7,videoId:t.fairPurchasePriceVideoId,videoOverlay:t.videoOverlay,backgroundColor:t.backgroundColor});i&&i(t);t.URL?$("body").html("<object data='"+t.URL+"' type='image/svg+xml'  max-width='360px' max-height='440px' ><\/object>"):typeof t=="string"&&$("body").html('<img src="data:image/png;base64,'+t+'" max-width="360px" max-height="440px"  />')},type:"GET",url:"Data",traditional:!0})};window.console&&console.log||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}});KBB=KBB||{};KBB.Util=KBB.Util||{};KBB.EventTypes=KBB.EventTypes||{};KBB.EventTypes.OnLoad="OnLoad";KBB.EventTypes.OnDataLoad="OnDataLoad";KBB.WidgetIdentifiers=KBB.WidgetIdentifiers||{};KBB.WidgetIdentifiers.panc_fairpurchaseprice={SubDomain:"panc",Path:"/priceadvisornewcar/fairpurchaseprice",Key:"panc_fairpurchaseprice"};KBB.WidgetIdentifiers.pauc_fairpurchaseprice={SubDomain:"pauc",Path:"/priceadvisorusedcar/fairpurchaseprice",Key:"pauc_fairpurchaseprice"};KBB.WidgetIdentifiers.pauc_tradein={SubDomain:"pauc",Path:"/priceadvisorusedcar/tradein",Key:"pauc_tradein"};KBB.WidgetIdentifiers.aa_default={SubDomain:"aa",Path:"/awardsandaccolades/default",Key:"aa_default"};KBB.WidgetIdentifiers.rre_default={SubDomain:"rre",Path:"/ratingsandreviewsexpert/default",Key:"rre_default"};KBB.WidgetIdentifiers.rrc_default={SubDomain:"rrc",Path:"/ratingsandreviewsconsumer/default",Key:"rrc_default"};KBB.EventHandlers=KBB.EventHandlers||{};KBB.EventHistory=KBB.EventHistory||{};KBB.AddEventHandler=function(n,t){KBB.EventHistory[n]!==null&&KBB.EventHistory[n]!==undefined&&t();KBB.EventHandlers[n]=KBB.EventHandlers[n]||[];KBB.EventHandlers[n][KBB.EventHandlers[n].length]=t};KBB.ProcessKBBEvent=function(n){var t=JSON.parse(n),i;if(KBB.EventHistory[KBB.EventHistory.length]=t.eventType,KBB.EventHandlers[t.eventType]!==null&&KBB.EventHandlers[t.eventType]!==undefined)for(i=0;i<KBB.EventHandlers[t.eventType].length;i++)KBB.EventHandlers[t.eventType][i](t)};KBB.DataLayer=KBB.DataLayer||{};KBB.FireEvent=function(n){var t={eventType:n,data:KBB.DataLayer};parent.postMessage(JSON.stringify(t),"*");KBB.ProcessKBBEvent(JSON.stringify(t))}