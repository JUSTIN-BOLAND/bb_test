var DealeronLead={webTemplate:{FLEX:3,RESPONSIVE:4},locale:{enUS:"1-0",enCA:"1-1",esUS:"2-0"},currentLocale:null,token:{value:null,lifetime:60,delta:20,obtained:null,shouldRefresh:function(){var a=new Date();return this.value==null||this.addMinutes(this.obtained,this.lifetime-this.delta)<a},addMinutes:function(a,b){return new Date(a.getTime()+b*60000)},refreshToken:function(a){DealeronLead.token.value=a.token;DealeronLead.token.obtained=new Date()}},submissionMethods:{},dlronTypes:{},uploadedFiles:{},errMsg:{},defaultOverrides:{},startUp:function(){window.DlronGlobal_TemplateVersion=(typeof DlronGlobal_TemplateVersion==="undefined")?DealeronLead.webTemplate.RESPONSIVE:DlronGlobal_TemplateVersion;window.DlronGlobal_DealerInfoCountry=(typeof DlronGlobal_DealerInfoCountry==="undefined")?0:DlronGlobal_DealerInfoCountry;window.DlronGlobal_DealerLanguage=(typeof DlronGlobal_DealerLanguage==="undefined")?1:DlronGlobal_DealerLanguage;this.currentLocale=DlronGlobal_DealerLanguage+"-"+DlronGlobal_DealerInfoCountry;this.buildErrorMessages();$.extend($.validator.messages,this.defaultOverrides[this.currentLocale]);this.createNameValidation();this.createPhoneValidation();this.createEmailValidation();this.createZipcodeValidation();this.createVinValidation();this.createStateValidation();this.createDateValidation();this.createLicenseValidation();this.createSsnValidation();this.createFileValidation();this.buildDlronTypes();var a="<style>";a+=":-moz-placeholder { text-transform: none; }\n";a+="::-moz-placeholder { text-transform: none; }\n";a+="::-webkit-input-placeholder { text-transform: none; }\n";a+=":-ms-input-placeholder { text-transform: none !important; }\n";a+="</style>";$("head").append(a)},begin:function(){var a=DealeronLead.token;if(a.shouldRefresh()){DealeronLead.log("Refreshing token");jQuery.ajax({url:"/api/lead/new",type:"GET",dataType:"json",success:a.refreshToken,error:function(c,d,b){DealeronLead.log("token ajax error: "+d+"; thrown: "+b)}})}},initialize:function(a,b){if(b!=null&&!this.submissionMethods.hasOwnProperty(b)){this.log("initialize: initialization failed - there is no submission method '"+b+"' added");return}$(a).each(function(d){var c=$(this).attr("id");if(c==undefined){DealeronLead.log("initialize: form does not have id attribute")}else{DealeronLead.setupValidate(c,b)}})},setupValidate:function(e,f){var g={submitHandler:DealeronLead.setupSubmit(f),ignore:":hidden:not(.inputfile)"};if(DlronGlobal_TemplateVersion==DealeronLead.webTemplate.FLEX){g.errorLabelContainer="#"+e+"_errorContainer";g.wrapper="li"}else{if(DlronGlobal_TemplateVersion==DealeronLead.webTemplate.RESPONSIVE){g.errorClass="has-error";g.validClass="has-success";g.highlight=function(h,i,j){$(h).closest("div").removeClass(j).addClass(i)};g.unhighlight=function(h,i,j){$(h).closest("div").removeClass(i).addClass(j)}}}$("#"+e).validate(g);var a=this.dlronTypes[this.currentLocale];for(var b in a){var d="#"+e+" ["+(b=="file"?"":"data-dlron-")+"type='"+b+"']";if(a[b].hasOwnProperty("validationMethods")){$.each(a[b].validationMethods,function(h,j){var i={};i[h]=j;DealeronLead.attachValidation(i,d)})}if(a[b].hasOwnProperty("mask")){DealeronLead.attachMask(a[b].mask,a[b].maskAdditionalOptions,d)}if(a[b].hasOwnProperty("transform")){DealeronLead.attachTransform(a[b].transform,d)}if(DlronGlobal_TemplateVersion==DealeronLead.webTemplate.FLEX&&a[b].hasOwnProperty("flexRequiredMessage")){DealeronLead.attachValidation({messages:{required:a[b].flexRequiredMessage}},d)}if(a[b].hasOwnProperty("placeholder")){$(d).each(function(h){if($(this).attr("placeholder")==undefined){$(this).attr("placeholder",a[b].placeholder)}})}if(a[b].hasOwnProperty("onBlur")){$(d).each(function(h){$(this).blur(a[b].onBlur)})}if(a[b].hasOwnProperty("autocomplete")){$(d).attr("autocomplete",a[b].autocomplete)}if(a[b].hasOwnProperty("dataAttributes")){$(d).each(function(j){var i=$(this);var h=a[b].dataAttributes;for(var k in h){if(h.hasOwnProperty(k)&&i.data(k)==undefined){i.data(k,h[k])}}})}if(b=="date"&&$(d).length){if(!moment){DealeronLead.log("moment.js needed but not loaded")}else{switch(this.currentLocale){case this.locale.enUS:case this.locale.enCA:moment.lang("en");break;case this.locale.esUS:moment.lang("es");break}}if($.fn.combodate!=undefined){$(d).combodate({smartDays:true,customClass:"dateWidget form-control pull-left",firstItem:"name",errorClass:"combodateInvalid",afterChange:function(h){h.valid()},customWidgetClass:"input-group"})}else{DealeronLead.log("JQuery plugin Combodate needed but not loaded")}}if(b=="money"&&$(d).length){if($.fn.maskMoney!=undefined){$(d).maskMoney({prefix:"$",allowZero:true})}else{DealeronLead.log("JQuery plugin maskMoney needed but not loaded")}}if(b=="file"&&$(d).length){var c=$(d);c.on("change",function(h){var k=h.target.files;DealeronLead.uploadedFiles[h.target.name]=[];for(var l=0;l<k.length;l++){var j=k[l];var n=new FileReader();n.onload=(function(o,i){return function(p){var q={Name:o.name,Type:o.type,Content:p.target.result};DealeronLead.uploadedFiles[i].push(q)}})(j,h.target.name);n.readAsDataURL(j)}var m="";if(k.length==0){m=DealeronLead.errMsg[DealeronLead.currentLocale].browse}else{if(k.length>1){m=DealeronLead.errMsg[DealeronLead.currentLocale].filesSelected.replace("{count}",k.length)}else{m=h.target.value.split("\\").pop()}}$(".inputfileLabel[for="+h.target.id+"]").text(m)});c.css("width","0.1px");c.css("height","0.1px");c.css("opacity","0");c.css("overflow","hidden");c.css("z-index","-1");c.addClass("inputfile");c.before(function(){return'<label for="'+this.id+'" class="btn btn-cta inputfileLabel">'+DealeronLead.errMsg[DealeronLead.currentLocale].browse+"</label>"});if(DlronGlobal_TemplateVersion==DealeronLead.webTemplate.FLEX){$("head").append("<style>.inputfileLabel {						    background-color: lightgray;							cursor: pointer;					}</style>")}}}if(DlronGlobal_TemplateVersion==DealeronLead.webTemplate.FLEX){$("#"+e).find(":input[type!='submit'][type!='hidden'][type!='file']:not([data-dlron-type])").each(function(k){var h=$(this);var j=h.attr("name");var i=$("#"+e+" label[for='"+h.attr("id")+"']");if(i.length==0){i=h.closest("label")}if(i.length>0){var l=i.text();l=l.replace(/[*:]/gi,"");DealeronLead.attachValidation({messages:{required:l+" is required."}},"#"+e+" [name='"+j+"']")}})}},setupSubmit:function(b){var a=b;function c(f){$(f).find(":input[type='submit'][type!='hidden']").prop("disabled",true);subObj=(a==null)?{}:DealeronLead.submissionMethods[a];dataList={};extendedFields=[];if(subObj.hasOwnProperty("overrideApiSubmission")){subObj.overrideApiSubmission(f)}else{if(subObj.hasOwnProperty("preSubmit")){subObj.preSubmit(f)}if(subObj.submitFields!=false){var j=[];var k="";$(f).find(":input[type!='submit'][type!='hidden']:not(.dateWidget)").each(function(p){var l=$(this);var m=l.attr("name");if(l.attr("data-dlron-ext")=="true"){var o=l.val()==null?"":l.val();extendedFields.push({Name:m,Value:o})}else{var n=l.attr("type");if((n=="checkbox"||n=="radio")){if($.inArray(m,j)==-1){j.push(m)}}else{if(n=="file"){dataList[l.attr("name")]=DealeronLead.uploadedFiles[l.attr("name")]}else{dataList[l.attr("name")]=l.val()==null?"":l.val()}}}});$.each(j,function(l,m){dataList[m]=$(f).find(":input[name='"+m+"']:checked").map(function(){return $(this).val()}).get().join()});if(extendedFields.length>0){dataList.ExtendedFields=extendedFields}}if(subObj.submitCoreValues!=false){if(subObj.hasOwnProperty("leadSource")){if((typeof subObj.leadSource)=="number"){dataList.LeadSource=subObj.leadSource}else{dataList.LeadSource=subObj.leadSource(f)}}else{var g=$(f).find(":input[type='hidden'][name='leadSource']");if(g.length){dataList.LeadSource=g.val()}}if(subObj.hasOwnProperty("leadType")){if((typeof subObj.leadType)=="number"){dataList.LeadType=subObj.leadType}else{dataList.LeadType=subObj.leadType(f)}}else{var h=$(f).find(":input[type='hidden'][name='leadType']");if(h.length){dataList.LeadType=h.val()}}if($.ua==undefined){DealeronLead.log("UA Parser not loaded")}else{dataList.Browser=[$.ua.browser.name,$.ua.browser.version].join(" ").trim();dataList.OS=[$.ua.os.name,$.ua.os.version].join(" ").trim();dataList.Device=[$.ua.device.vendor,$.ua.device.model].join(" ").trim()}}if(subObj.hasOwnProperty("additionalData")){var d=subObj.additionalData(f);for(var i in d){if(d.hasOwnProperty(i)){dataList[i]=d[i]}}}if(subObj.submitCoreValues){if(!dataList.hasOwnProperty("LeadType")){DealeronLead.log("no lead type specified")}if(!dataList.hasOwnProperty("LeadSource")){DealeronLead.log("no lead source specified")}}var e=subObj.hasOwnProperty("endpoint")?subObj.endpoint:"/api/lead/save/#TOKEN#";e=e.replace(/#TOKEN#/gi,DealeronLead.token.value);$.ajax({url:e,type:"POST",data:JSON.stringify(dataList),dataType:"json",contentType:"application/json; charset=utf-8",success:function(l){if(subObj.hasOwnProperty("successCallback")){subObj.successCallback(l)}else{var o=JSON.parse(l);var n=(o.leadSource.indexOf("GoGoCar")!==-1);var m;if(n){DealerOnTrack.event("Lead",o.leadId,o.leadSource,m,function(p){var q=$("#eprice_vehVin")[0].innerHTML;$("#gogocarhiddenlink_"+q)[0].click();$("#primaryButtonPageModal").modal("toggle")})}else{DealerOnTrack.event("Lead",o.leadId,o.leadSource,m,function(p){if(self!=top){top.location.href="/thankyou.aspx?&lid="+p}else{window.location.href="/thankyou.aspx?&lid="+p}})}}},error:subObj.hasOwnProperty("errorCallback")?subObj.errorCallback:function(m,n,l){$(f).find(":input[type='submit'][type!='hidden']").prop("disabled",false);alert(DealeronLead.errMsg[DealeronLead.currentLocale].submissionError);DealeronLead.log("submission ajax error: "+n+"; thrown: "+l)}})}}return c},buildErrorMessages:function(){this.defaultOverrides[this.locale.enUS]={};this.defaultOverrides[this.locale.enCA]={};this.defaultOverrides[this.locale.esUS]={required:"Esta sección es requerido.",minlength:"Por favor utilice al menos {0} caracteres.",email:"Debe utilizar un correo electrónico válido.",tel:"Debe utilizar un número de teléfono válido en el formato de (123) 456-7890 x5555."};this.errMsg[this.locale.enUS]={nameLetters:"Please only enter letters and spaces for {0}.",phoneFormat:"Please enter a valid phone number in the format (123) 456-7890 x5555.",emailFormat:"Please enter a valid email.",zipFormat:"Please enter a valid ZIP code.",vinFormat:"Please enter a valid 17 character VIN.",stateExist:"Please enter a valid state.",dateFormat:"Please enter a valid date.",licenseFormat:"Please enter a valid license number.",ssnFormat:"Please enter a valid SSN.",fileFormat:"Please select a valid file type.",submissionError:"An error occurred sending the message. Please try again.",browse:"Browse...",filesSelected:"{count} files selected"};this.errMsg[this.locale.enCA]={nameLetters:this.errMsg[this.locale.enUS].nameLetters,phoneFormat:this.errMsg[this.locale.enUS].phoneFormat,emailFormat:this.errMsg[this.locale.enUS].emailFormat,zipFormat:"Please enter a valid postal code.",vinFormat:this.errMsg[this.locale.enUS].vinFormat,stateExist:"Please enter a valid province.",dateFormat:this.errMsg[this.locale.enUS].dateFormat,licenseFormat:this.errMsg[this.locale.enUS].licenseFormat,ssnFormat:"Please enter a valid SIN.",fileFormat:this.errMsg[this.locale.enUS].fileFormat,submissionError:this.errMsg[this.locale.enUS].submissionError,browse:this.errMsg[this.locale.enUS].browse,filesSelected:this.errMsg[this.locale.enUS].filesSelected};this.errMsg[this.locale.esUS]={nameLetters:"Sólo utilice letras y espacios para su {0}.",phoneFormat:"Debe utilizar un número de teléfono válido en el formato de (123) 456-7890 x5555.",emailFormat:"Debe utilizar un correo electrónico válido.",zipFormat:"Debe utilizar un código postal válido.",vinFormat:"Debe utilizar un número de VIN de 17 carácteres válido.",stateExist:"Debe utilizar un estado válido.",dateFormat:"Debe utilizar una fecha valida.",licenseFormat:"Debe utilizar un número de licencia válido.",ssnFormat:"Debe utilizar un número de seguro social válido.",fileFormat:this.errMsg[this.locale.enUS].fileFormat,submissionError:"Ocurrió un error al enviar el mensaje. Por favor, vuelva a intentarlo.",browse:"Buscar...",filesSelected:"{count} archivos seleccionado"}},buildDlronTypes:function(){this.dlronTypes[this.locale.enUS]={};this.dlronTypes[this.locale.enCA]={};this.dlronTypes[this.locale.esUS]={};this.dlronTypes[this.locale.enUS].phone={validationMethods:{phoneNanpValid:true},mask:(!jQuery.browser.mobile)?"(999) 999-9999? x99999":"**********?***********",flexRequiredMessage:"Phone is required",placeholder:"Phone Number",autocomplete:"tel-national",onBlur:function(){if(jQuery.browser.mobile){$(this).mask("(999) 999-9999? x99999",{completed:function(){$(this).unmask()},placeholder:"",autoclear:true});$(this).unmask()}},maskAdditionalOptions:(jQuery.browser.mobile)?{placeholder:""}:undefined};this.dlronTypes[this.locale.enUS].zipcode={validationMethods:{zipcodeUSValid:true},mask:"99999?-9999",flexRequiredMessage:"Zipcode is required",placeholder:"ZIP Code",autocomplete:"postal-code"};this.dlronTypes[this.locale.enUS].email={validationMethods:{emailValid:true},flexRequiredMessage:"Email is required",placeholder:"Email Address",autocomplete:"email"};this.dlronTypes[this.locale.enUS].firstname={validationMethods:{nameValid:"first name",minlength:2,maxlength:50},flexRequiredMessage:"First name is required",placeholder:"First Name",autocomplete:"given-name",transform:"capitalize"};this.dlronTypes[this.locale.enUS].lastname={validationMethods:{nameValid:"last name",minlength:2,maxlength:50},flexRequiredMessage:"Last name is required",placeholder:"Last Name",autocomplete:"family-name",transform:"capitalize"};this.dlronTypes[this.locale.enUS].middlename={validationMethods:{nameValid:"middle initial",minlength:1,maxlength:50},flexRequiredMessage:"Middle initial is required",placeholder:"Middle Initial",autocomplete:"additional-name-initial",transform:"capitalize"};this.dlronTypes[this.locale.enUS].address={flexRequiredMessage:"Address is required",placeholder:"Address",autocomplete:"street-address"};this.dlronTypes[this.locale.enUS].city={flexRequiredMessage:"City is required",placeholder:"City",autocomplete:"address-level2",transform:"capitalize"};this.dlronTypes[this.locale.enUS].state={validationMethods:{stateValid:true},mask:"aa",flexRequiredMessage:"State is required",placeholder:"State",autocomplete:"address-level1",transform:"uppercase"};this.dlronTypes[this.locale.enUS].comment={placeholder:"Comments"};this.dlronTypes[this.locale.enUS].vin={validationMethods:{vinValid:true},flexRequiredMessage:"VIN is required",placeholder:"VIN",transform:"uppercase"};this.dlronTypes[this.locale.enUS].mileage={mask:"?9999999",flexRequiredMessage:"Mileage is required",placeholder:"Mileage"};this.dlronTypes[this.locale.enUS].money={flexRequiredMessage:"Amount is required"};this.dlronTypes[this.locale.enUS].date={validationMethods:{dateValid:true},flexRequiredMessage:"Date is required",dataAttributes:{format:"MM/DD/YYYY",template:"MMM D YYYY"}};this.dlronTypes[this.locale.enUS].datepicker={flexRequiredMessage:"Date is required",placeholder:"Select Date",};this.dlronTypes[this.locale.enUS].license={validationMethods:{licenseValid:true},flexRequiredMessage:"License # is required",placeholder:"Driver's License #",transform:"uppercase"};this.dlronTypes[this.locale.enUS].ssn={validationMethods:{ssnValid:true},mask:"999-99-9999",flexRequiredMessage:"SSN is required",placeholder:"SSN"};this.dlronTypes[this.locale.enUS].file={validationMethods:{fileValid:true},flexRequiredMessage:"File is required"};this.dlronTypes[this.locale.enCA].phone=this.dlronTypes[this.locale.enUS].phone;this.dlronTypes[this.locale.enCA].zipcode={validationMethods:{zipcodeCAValid:true},mask:"a9a 9a9",flexRequiredMessage:"Postal code is required",placeholder:"Postal Code",autocomplete:"postal-code",transform:"uppercase"};this.dlronTypes[this.locale.enCA].email=this.dlronTypes[this.locale.enUS].email;this.dlronTypes[this.locale.enCA].firstname=this.dlronTypes[this.locale.enUS].firstname;this.dlronTypes[this.locale.enCA].lastname=this.dlronTypes[this.locale.enUS].lastname;this.dlronTypes[this.locale.enCA].middlename=this.dlronTypes[this.locale.enUS].middlename;this.dlronTypes[this.locale.enCA].address=this.dlronTypes[this.locale.enUS].address;this.dlronTypes[this.locale.enCA].city=this.dlronTypes[this.locale.enUS].city;this.dlronTypes[this.locale.enCA].state={validationMethods:{provinceValid:true},mask:"aa",flexRequiredMessage:"Province is required",placeholder:"Province",autocomplete:"address-level1",transform:"uppercase"};this.dlronTypes[this.locale.enCA].comment=this.dlronTypes[this.locale.enUS].comment;this.dlronTypes[this.locale.enCA].vin=this.dlronTypes[this.locale.enUS].vin;this.dlronTypes[this.locale.enCA].mileage=this.dlronTypes[this.locale.enUS].mileage;this.dlronTypes[this.locale.enCA].money=this.dlronTypes[this.locale.enUS].money;this.dlronTypes[this.locale.enCA].date=this.dlronTypes[this.locale.enUS].date;this.dlronTypes[this.locale.enCA].datepicker=this.dlronTypes[this.locale.enUS].datepicker;this.dlronTypes[this.locale.enCA].license=this.dlronTypes[this.locale.enUS].license;this.dlronTypes[this.locale.enCA].ssn={validationMethods:{sinValid:true},mask:"999-999-999",flexRequiredMessage:"SIN is required",placeholder:"SIN",};this.dlronTypes[this.locale.enCA].file=this.dlronTypes[this.locale.enUS].file;this.dlronTypes[this.locale.esUS].phone={validationMethods:{phoneNanpValid:true},mask:"(999) 999-9999? x99999",flexRequiredMessage:"Phone is required",placeholder:"teléfono",autocomplete:"tel-national"};this.dlronTypes[this.locale.esUS].zipcode={validationMethods:{zipcodeUSValid:true},mask:"99999?-9999",flexRequiredMessage:"Zipcode is required",placeholder:"código postal",autocomplete:"postal-code"};this.dlronTypes[this.locale.esUS].email={validationMethods:{emailValid:true},flexRequiredMessage:"Email is required",placeholder:"correo electrónico",autocomplete:"email"};this.dlronTypes[this.locale.esUS].firstname={validationMethods:{nameValid:"primer nombre",minlength:2,maxlength:50},flexRequiredMessage:"First name is required",placeholder:"primer nombre",autocomplete:"given-name",transform:"capitalize"};this.dlronTypes[this.locale.esUS].lastname={validationMethods:{nameValid:"apellido",minlength:2,maxlength:50},flexRequiredMessage:"Last name is required",placeholder:"apellido",autocomplete:"family-name",transform:"capitalize"};this.dlronTypes[this.locale.esUS].middlename={validationMethods:{nameValid:"segundo nombre",minlength:1,maxlength:50},flexRequiredMessage:"Middle name is required",placeholder:"Segundo nombre",autocomplete:"additional-name-initial",transform:"capitalize"};this.dlronTypes[this.locale.esUS].address={flexRequiredMessage:"Address is required",placeholder:"dirección",autocomplete:"street-address"};this.dlronTypes[this.locale.esUS].city={flexRequiredMessage:"City is required",placeholder:"ciudad",autocomplete:"address-level2",transform:"capitalize"};this.dlronTypes[this.locale.esUS].state={validationMethods:{stateValid:true},mask:"aa",flexRequiredMessage:"State is required",placeholder:"estado",autocomplete:"address-level1",transform:"uppercase"};this.dlronTypes[this.locale.esUS].comment={placeholder:"comentarios",};this.dlronTypes[this.locale.esUS].vin={validationMethods:{vinValid:true},flexRequiredMessage:"VIN is required",placeholder:"VIN",transform:"uppercase"};this.dlronTypes[this.locale.esUS].mileage={mask:"?9999999",flexRequiredMessage:"Mileage is required",placeholder:"Milage"};this.dlronTypes[this.locale.esUS].money={flexRequiredMessage:"Amount is required",};this.dlronTypes[this.locale.esUS].date={validationMethods:{dateValid:true},flexRequiredMessage:"Date is required",dataAttributes:{format:"MM/DD/YYYY",template:"MMM D YYYY"}};this.dlronTypes[this.locale.esUS].datepicker={flexRequiredMessage:"Date is required",};this.dlronTypes[this.locale.esUS].license={validationMethods:{licenseValid:true},flexRequiredMessage:"License # is required",placeholder:"licencia de manejar",transform:"uppercase"};this.dlronTypes[this.locale.esUS].ssn={validationMethods:{ssnValid:true},mask:"999-99-9999",flexRequiredMessage:"SSN is required",placeholder:"número social",};this.dlronTypes[this.locale.esUS].file=this.dlronTypes[this.locale.enUS].file},createNameValidation:function(){this.addValidationMethod("nameValid",function(c,a){var b=new RegExp(/^[A-Za-z ]+$/);if(c===""&&!DealeronLead.isRequired(a)){return true}else{return c!="First Name"&&c!="Last Name"&&b.test(c)}},this.errMsg[this.currentLocale].nameLetters)},createPhoneValidation:function(){this.addValidationMethod("phoneNanpValid",function(d,a){var b=new RegExp(/^\(\d{3}\)( )(\d{3})(-)(\d{4})( x[_\d]{1,5})?$/);var c=new RegExp(/^\(?\d{3}\)?( )?(\d{3})(-)?(\d{4})(\s?x?[_\d]{1,5})?$/);if((d===""||d=="(___) ___-____ x_____")&&!DealeronLead.isRequired(a)){return true}else{return b.test(d)||c.test(d)}},this.errMsg[this.currentLocale].phoneFormat)},createEmailValidation:function(){this.addValidationMethod("emailValid",function(c,a){var b=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);if(c===""&&!DealeronLead.isRequired(a)){return true}else{return b.test(c)}},this.errMsg[this.currentLocale].emailFormat)},createZipcodeValidation:function(){switch(this.currentLocale){case this.locale.enUS:case this.locale.esUS:this.addValidationMethod("zipcodeUSValid",function(c,a){var b=new RegExp(/^\d{5}([\-](_{4}|\d{4}))?$/);if((c===""||c=="_____-____")&&!DealeronLead.isRequired(a)){return true}else{if(!b.test(c)){return false}}return true},this.errMsg[this.currentLocale].zipFormat);break;case this.locale.enCA:this.addValidationMethod("zipcodeCAValid",function(c,a){var b=new RegExp(/^[a-zA-Z]\d[a-zA-Z] \d[a-zA-Z]\d$/);if((c===""||c=="___ ___")&&!DealeronLead.isRequired(a)){return true}else{if(!b.test(c)){return false}}return true},this.errMsg[this.currentLocale].zipFormat);break}},createVinValidation:function(){this.addValidationMethod("vinValid",function(c,a){var b=new RegExp(/^([ABCDEFGHJKLMNPRSTUVWXYZabcdefghjklmnprstuvwxyz]|[0-9]){17}$/);if(c===""&&!DealeronLead.isRequired(a)){return true}else{return b.test(c)}},this.errMsg[this.currentLocale].vinFormat)},createStateValidation:function(){switch(this.currentLocale){case this.locale.enUS:case this.locale.esUS:this.addValidationMethod("stateValid",function(b,a){if((b===""||b==="__")&&!DealeronLead.isRequired(a)){return true}else{return $.inArray(b.toUpperCase(),DealeronLead.states)>-1}},this.errMsg[this.currentLocale].stateExist);break;case this.locale.enCA:this.addValidationMethod("provinceValid",function(b,a){if((b===""||b==="__")&&!DealeronLead.isRequired(a)){return true}else{return $.inArray(b.toUpperCase(),DealeronLead.provinces)>-1}},this.errMsg[this.currentLocale].stateExist);break}},createDateValidation:function(){this.addValidationMethod("dateValid",function(b,a){return !$(a).closest("div").find(".combodate").hasClass("combodateInvalid")},this.errMsg[this.currentLocale].dateFormat)},createLicenseValidation:function(){this.addValidationMethod("licenseValid",function(c,a){if(c===""&&!DealeronLead.isRequired(a)){return true}else{var b=new RegExp(/^[A-Za-z0-9-]*$/);return b.test(c)}},this.errMsg[this.currentLocale].licenseFormat)},createSsnValidation:function(){switch(this.currentLocale){case this.locale.enUS:case this.locale.esUS:this.addValidationMethod("ssnValid",function(d,b){if(d===""&&!DealeronLead.isRequired(b)){return true}else{var c=new RegExp(/^\d{3}-\d{2}-\d{4}$/);if(c.test(d)){var a=d.split("-").map(function(e){return parseInt(e,10)});return a[0]!=0&&a[1]!=0&&a[2]!=0&&a[0]!=666&&a[0]<900}else{return false}}},this.errMsg[this.currentLocale].ssnFormat);break;case this.locale.enCA:this.addValidationMethod("sinValid",function(h,c){if(h===""&&!DealeronLead.isRequired(c)){return true}else{var g=new RegExp(/^\d{3}-\d{3}-\d{3}$/);if(g.test(h)){var e=0,f=0,a=false;h=h.replace(/\D/g,"");for(var d=h.length-1;d>=0;d--){var b=h.charAt(d),f=parseInt(b,10);if(a){if((f*=2)>9){f-=9}}e+=f;a=!a}return(e%10)==0}else{return false}}},this.errMsg[this.currentLocale].ssnFormat);break}},createFileValidation:function(){this.addValidationMethod("fileValid",function(g,a){var f=a.hasAttribute("accept")?a.getAttribute("accept").replace(/\s/g,"").replace(/,/g,"|"):"image/*";if(this.optional(a)){return true}if($(a).attr("type")==="file"){f=f.replace(/\./g,"\\.").replace(/\*/g,".*");var e=new RegExp("\\.?("+f+")$","i");if(a.files&&a.files.length){for(var d=0;d<a.files.length;d++){var b=a.files[d];var c=b.name.lastIndexOf(".")==-1?"":b.name.substr(b.name.lastIndexOf("."));if(!b.type.match(e)&&!c.match(e)){return false}}}}return true},this.errMsg[this.currentLocale].fileFormat)},attachValidation:function(c,b){var a=$(b);if(a.length>0){a.each(function(d){$(this).rules("add",c)})}},attachMask:function(b,a,c){if(typeof a==="undefined"){$(c).mask(b)}else{$(c).mask(b,a)}},attachTransform:function(b,a){$(a).css("text-transform",b)},addSubmissionMethod:function(a,b){if(a==null){this.log("addSubmissionMethod: submission method name can't be null")}else{this.submissionMethods[a]=b}},addValidationMethod:function(c,b,a){$.validator.addMethod(c,b,a)},isRequired:function(a){return $(a).prop("required")},log:function(b){try{console.log("DealeronLead: "+b)}catch(a){}},states:["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","AS","DC","FM","GU","MH","MP","PW","PR","VI","AA","AE","AP"],provinces:["AB","BC","MB","NB","NL","NS","NT","NU","ON","PE","QC","SK","YT"]};DealeronLead.startUp();