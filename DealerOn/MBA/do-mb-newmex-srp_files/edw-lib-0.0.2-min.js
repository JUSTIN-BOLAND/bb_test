window.EDMUNDS=window.EDMUNDS||{},window.EDM=window.EDM||{},EDM.VERSION=1,window.EDM=window.EDM||{},EDM.Core=EDM.Core||{},EDM.Core.VERSION=1,EDM.Core.Cookie=new function(){var self=this,$L=null,$J=null,DEFAULT_EXP_MONTH=6,COOKIE_LIMIT=4e3,DEFAULT_PATH="/",STR_TEST_COOKIE="tcook=a",cookieCache={},initialized=!1;this.getMatchingCookies=function(a){init();var b=[];for(var c in cookieCache)c.match(a)&&b.push({name:c,value:cookieCache[c]});return b},this.getAsJson=function(a,b){var c=this.getAsString(a,b);return c?$J.parse(c):{}},this.getAsMap=function(a,b){var c=this.getAsString(a,b);return c?parseQueryString(c):{}},this.getAsObject=function(a,b){init();var c=cookieCache[a];if(c){if(c.match(/^\{.*\}$/))return this.getAsJson(a,b);if(c.match(/^\&.*$/))return this.getAsMap(a,b)}return{}},-1!=window.location.href.indexOf("qa")||-1!=window.location.search.indexOf("cookiePatch")?this.getAsString=function(a,b){return"string"==typeof a&&""!==a&&(init(),cookieCache.hasOwnProperty(a))?cookieCache[a]:null}:this.getAsString=function(a,b){return a?(init(),cookieCache[a]):null},this.get=function(a,b){init();var c=cookieCache[a];if(c){if(c.match(/^\{.*\}$/))return this.getAsJson(a,b);if(c.match(/^\&.*$/))return this.getAsMap(a,b)}return this.getAsString(a,b)},this.set=function(a,b,c){try{init(),c=c||{};var d=[];if("object"==typeof b)this.setAsMap(a,b,c);else{countBytes(b)>COOKIE_LIMIT&&$L.error("Cookie "+a+" is too large, might not save."),c.noencode||(b=encodeURIComponent(b)),d.push(encodeURIComponent(a)+"="+b),c.exp=c.exp||getDefaultExpiration(),c.exp instanceof Date&&d.push("expires="+c.exp.toGMTString());var e=c.path||DEFAULT_PATH;d.push("path="+e),e=c&&c.hasOwnProperty("domain")?c.domain:getDefaultDomain(),d.push("domain="+e),"string"==typeof c.secure&&d.push("secure"),document.cookie=d.join("; ")}}catch(f){$L.log("exception",f.stack,f)}},this.setAsMap=function(a,b,c){init(),c=c||{},b="object"==typeof b?b:{};var d=[];d.push("");for(var e in b)e&&b[e]&&d.push(encodeURIComponent(e)+"="+encodeURIComponent(b[e]));c.noencode=!0,this.set(a,d.join("&"),c)},this.setAsJson=function(a,b,c){init(),b="object"==typeof b?b:{};var d=$J.stringify(b);this.set(a,d,c)},this.remove=function(a,b){init();var b=b||{};b.exp=new Date(0),this.set(a,"",b)},this.isSupported=function(){return navigator.cookieEnabled===!0?!0:document.cookie.indexOf(STR_TEST_COOKIE)>=0?!0:(document.cookie=STR_TEST_COOKIE,document.cookie.indexOf("tcook=a")>=0)};var parseQueryString=function(a){var b={};a=a.replace(/^\"|\"$/g,"");for(var d,c=a.split("&"),e=0,f=c.length;f>e;e++)d=c[e].split("="),d&&d.length&&d[0]&&(b[d[0]]=d.slice(1).join("="));return b},init=function(){initialized&&arguments[0]!==!0||($L=EDM.Core.Logger,$J=window.JSON,$J&&$J.parse&&$J.stringify||JSONPatch(),initialized=!0),cookieCache=parseCookies()},parseCookies=function(){var a={},b=document.cookie.split(/;\s/g);if(b&&b.length)for(var c,d,e,f=0,g=b.length;g>f;f++)c=b[f].split("="),c.length&&(d=decodeURIComponent(c[0]),e=decodeURIComponent(c.slice(1).join("=")),a[d]=e);return a},getDefaultDomain=function(){var a=document.location.host,b=a.split(".");return 3==b.length?a="."+b.slice(1).join("."):2==b.length&&(a="."+b.join(".")),a},getDefaultExpiration=function(){var a=new Date;return a.setUTCMonth(a.getUTCMonth()+DEFAULT_EXP_MONTH),a},countBytes=function(a){var b=encodeURI(a);if(-1!=b.indexOf("%")){var c=b.split("%").length-1;c=0===c?1:c,c+=b.length-3*c}else c=b.length;return c},JSONPatch=function(){$J={},function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?i+"":"null";case"boolean":case"null":return i+"";case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof $J.stringify&&($J.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw Error("$J.stringify");return str("",{"":a})}),"function"!=typeof $J.parse&&($J.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("$J.parse")})}()}},EDM.EdwPartner=EDM.EdwPartner||{VERSION:1},EDM.EdwPartner.EdwContextFactory=new function(){var b="edmunds";this.createContext=function(a,c,d,e){return a===b?new EDM.EdwPartner.EdwPartnerContext(a,c,d,e):new EDM.EdwPartner.EdwPartnerContext(a,c,d,e)}},EDM.EdwPartner.EdwPartnerContext=function(a,b,c,d){-1==window.location.protocol.indexOf("https")?"http://www.edmunds.com/cgi-bin/edw_partner.cgi":"https://secure.edmunds.com/cgi-bin/edw_partner.cgi";try{!b&&window.top&&window.top.document&&(b=window.top)}catch(g){b=window}c=c||b.document,this.generateContext=function(e){EDM.EdwPartner.EdwVisitor.createSession(function(){var f={};if(f.edwsynpartner=a,h(f,b,c),i(f),j(f,b,c),k(f,c),d)for(var g in d)d[g]&&(f[g]=d[g]);EDM.EdwPartner.EdwVisitor.extendSession(function(){}),e(f)})};var h=function(a,b,c){a.title=encodeURIComponent(c.title),a.edwurl=encodeURIComponent(c.location.href),a.edwref=encodeURIComponent(c.referrer),a.edwpg="",a.edwcat="",b.EDM&&EDM.PageValues&&EDM.PageValues.page&&null!=EDM.PageValues.page.timestamp?a.edwtimestamp=EDM.PageValues.page.timestamp:a.edwtimestamp=(new Date).getTime(),a.ts=a.edwtimestamp,b.screen&&(a.edwscrres=b.screen.width+"x"+b.screen.height),navigator&&navigator.userAgent&&(a.ua=navigator.userAgent)},i=function(a){a.edwedck=EDM.EdwPartner.EdwVisitor.getVisitorId(),a.edwck=EDM.EdwPartner.EdwVisitor.getSessionId(),a.edwzipck="",a.edwreglogin="n",a.edwregmember="v"},j=function(a,b,c){a.edwad=""},k=function(a,b){a.edwmk="",a.edwmdl="",a.model_link_code="",a.make_id="",a.edwusein=""}},EDM.EdwPartner.EdwTrackerFactory=new function(){var b={};this.createTracker=function(a,c,d,e){if(!b[a]){var f=EDM.EdwPartner.EdwContextFactory.createContext(a,d,e,c);b[a]=new EDM.EdwPartner.EdwTracker(f)}return b[a]}},EDM.EdwPartner.EdwTracker=function(a,b){b=b||{};var d="pageload",e="page_enter",f=b.DOMAIN||"edw.edmunds.com",g=b.PATH||"/edw/edw1x1.gif",h=["edwzipck","edwedck","edwtimestamp","edwck","edwregmember","edwreglogin","edwusein","edwmk","edwmdl","edwsubmdl","edwyr","edwpg","edwstlid","edwcat","make_id","model_link_code","model_year_id","submodel_id","edwref","edwurl","title","ua","edwscrres","ts","edwsynpartner"];this.trackEvent=function(a,b,c){if(a)c=c||{},j(a,b,c,function(d){var e="//",h=e+f+g+"?"+i(d),j=new Image(1,1);j.src=h,window.ETRACKBASE&&window.ETRACKBASE.eventQueue&&window.ETRACKBASE.eventQueue.addEvent(a,b,c)});else if(!a)throw"event name is required"},this.trackPageEnter=function(a,b){b=b||{},b.isPageView=b.isPageView||!0,this.trackEvent(e,a,b)};var i=function(a){var b="";if(a)for(var c in a)b+=c+"="+a[c]+"&";return b},j=function(b,c,d,e){a&&"function"==typeof a.generateContext&&a.generateContext(function(a){var f={};f.eventtype=b;for(var g,i=0,j=h.length;j>i;i++)g=h[i],c[g]?(f[g]=c[g],delete c[g]):a[g]&&(f[g]=a[g]);f.eventdata=k(c,d),e(f)})},k=function(a,b){var c="";if(!b.isPageView||a&&a[d]||(c+=d+"|1;"),a)for(var e in a)e&&(c+=e+"|"+(a[e]||"")+";");return c}},EDM.EdwPartner.EdwVisitor=new function(){var a=this,b=EDM.Core.Cookie,c=-1==window.location.protocol.indexOf("https")?"http://www.edmunds.com/cgi-bin/edw_partner.cgi":"https://secure.edmunds.com/cgi-bin/edw_partner.cgi",d="_edwps",e="_edwpv",f=!1,g=!1,h="";this.getSessionId=function(a){j();var c=b.getAsString(d);if(!c&&a===!0){c=k();var e={};e.exp=(new Date).getTime()+18e5,b.set(d,c,e)}return c},this.getVisitorId=function(a){j();var c=b.getAsString(e);if(!c&&a===!0){c=l();var d={};d.exp=(new Date).getTime()+315569e5,b.set(e,c,d)}return c},this.extendSession=function(c){if(j(),g){var f={};f.exp=(new Date).getTime()+315569e5,b.set(e,a.getVisitorId(),f),f.exp=(new Date).getTime()+18e5,b.set(d,a.getSessionId(),f),c()}else i(c,!0)},this.createSession=function(b){j(),a.getSessionId()?b():g?(a.getSessionId(!0),a.getVisitorId(!0),b()):i(b,!0)};var i=function(a,b){var d=c+"?edwp="+h,e=!1;try{e=!!document.querySelector('script[src$="'+d+'"]')}catch(f){}if(b!==!0&&e)a();else{var g=document.createElement("script");void 0!==g.onreadystatechange?g.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState||304==this.status||404==this.status)&&a()}:g.onload=a,g.src=d,document.body.appendChild(g)}},j=function(){if(!f)try{f=!0;var a=/^.+\.edmunds\.com$/gi,b=window.location.host;g=!!a.exec(b),d=g?"edw":"_edwps",e=g?"edmunds":"_edwpv",h=window._edw&&window._edw.account?window._edw.account:"unknown"}catch(c){f=!1}},k=function(){return m(30)},l=function(){return"ep-"+m(56)},m=function(a){return Math.floor(Math.random()*Math.pow(10,a)).toString(36)}},EDM.createTracker=function(a,b,c,d){return EDM.EdwPartner.EdwTrackerFactory.createTracker(a,b,c,d)},EDM.EdwPartner.NoWaitPrimer=new function(){this.execute=function(){if(window.EDM&&EDM.EdwPartner&&window._edw&&"object"==typeof window._edw){var a=_edw.account||_edw.partnerId,b=_edw.eventType,c=_edw.data||{},d=_edw.options||{},e=EDM.EdwPartner.EdwTrackerFactory.createTracker(a,d);b?e.trackEvent(b,c):e.trackPageEnter(c)}}},function(){EDM.EdwPartner.NoWaitPrimer.execute()}();