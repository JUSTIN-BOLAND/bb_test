"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();dealeron.runtime.define(["system/text"],function(e){function t(){var t=new Date;return e.from("{0}:{1}:{2}.{3}",n(t.getUTCHours(),2),n(t.getUTCMinutes(),2),n(t.getUTCSeconds(),2),n(t.getUTCMilliseconds(),3))}function n(e,t){return("00000000000"+e.toString()).slice(-t)}var o={DEBUG:0,INFO:1,WARN:2,ERROR:3},r={DEV:0,PROD:1},i=function(){function t(n,o){_classCallCheck(this,t),this._appenders=n||[],this._logs={},this.logLevel=o;for(var r=0;r<this._appenders.length;r++){var i=this._appenders[r];i.append("-------------------------------"),i.append(e.from("Page: {0}",window.location.href)),i.append(e.from("DealerId: {0}",window.DlronGlobal_DealerId)),i.append(e.from("Browser: {0}",window.navigator.userAgent)),i.append("-------------------------------")}}return _createClass(t,[{key:"getLogger",value:function(e){return this._logs[e]||(this._logs[e]=new s(e,this._appenders,this.logLevel))}},{key:"openLog",value:function(){var e=new Blob([this._appenders[0].toString()],{type:"text/plain"});window.open(URL.createObjectURL(e))}},{key:"printLog",value:function(){console.log(this._appenders[0].toString())}}]),t}(),a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"append",value:function(e){this._text||(this._text=""),this._text+=(e||"")+"\n"}},{key:"toString",value:function(){return this._text}}]),e}(),l=function(){function e(){_classCallCheck(this,e),this._storageKey="DealerOnEventLog"}return _createClass(e,[{key:"append",value:function(e){try{var t=window.localStorage.getItem(this._storageKey)||"",n=t.split("\n");n.length>1e3&&n.splice(0,n.length-1e3),n.push(e||""),window.localStorage.setItem(this._storageKey,n.join("\n"))}catch(o){console.log("Unable to append.",o)}}},{key:"toString",value:function(){return window.localStorage.getItem(this._storageKey)}}]),e}(),s=function(){function n(e,t,o){_classCallCheck(this,n),this._logType=e,this._appenders=t,this._level=o}return _createClass(n,[{key:"debug",value:function(n){n=e.from("{0} : [{1}] DEBUG: {2}",t(),this._logType,e.from.apply(this,arguments)),this._append(n),this._level<=o.DEBUG&&this._print(n,"color: grey;")}},{key:"info",value:function(n){n=e.from("{0} : [{1}] INFO: {2}",t(),this._logType,e.from.apply(this,arguments)),this._append(n),this._level<=o.INFO&&this._print(n,"color: blue;")}},{key:"warn",value:function(n){n=e.from("{0} : [{1}] WARN: {2}",t(),this._logType,e.from.apply(this,arguments)),this._append(n),this._level<=o.WARN&&this._print(n,"color: orange;")}},{key:"error",value:function(n){n=e.from("{0} : [{1}] ERROR: {2}",t(),this._logType,e.from.apply(this,arguments)),this._append(n),this._level<=o.ERROR&&this._print(n,"color: red;")}},{key:"_append",value:function(e){for(var t=0;t<this._appenders.length;t++){var n=this._appenders[t];n.append(e)}}},{key:"_print",value:function(e,t){if(console)return document.documentMode?void console.log(e):void console.log("%c"+e,t)}}]),n}(),c=/\.ad\.dealeron\.com/.test(window.location.host)||"localhost"===window.location.host?r.DEV:r.PROD;return c===r.DEV?new i([new l,new a],o.DEBUG):new i([new a],o.ERROR)});