var cnAnimation;(function(d, s, id){} (document, 'link', 'cn-css'));var CarNowPlugin ={ settings:{  textStyle: "HelveticaNeue-Light, Helvetica, Arial, sans-serif" }, resourceQueue : null, /* array of js/css resources currently being loaded */ resourcesLoadedCallback : null, /* function to call when all resourced have been loaded */ liveFrame: null, iframeWindow: null, chatWindow: null, chatWindowTimer: null, agents: [['Danika Chun','https://cnph.s3.amazonaws.com/p/u/734613/8d5cd3f915e96fe26bf68ffa155583a4a4582c2f-t.png?1444335580'],['Amanda Z','https://cnph.s3.amazonaws.com/p/u/742099/6a5be0a4d2bfdfeaba714e3b2d5ae767026c1faa-t.png?1444333452'],['Jenna K','https://cnph.s3.amazonaws.com/p/u/742101/00873cc1889db2be496f97aea9326c224abbd6a5-t.png?1444336844'],['Rena S','https://cnph.s3.amazonaws.com/p/u/742104/b41d122a24bdba5a274f8f8c99c204ccd5115373-t.png?1464092867'],['Dave H','https://cnph.s3.amazonaws.com/p/u/742107/750fe687be1b2c74fac0e01f6950c186a191e15f-t.png?1444336694']], agentIndex: 0, messageBubbleTimer: null, animationEnabled: true, directAgentId: null, gaEnabled: false, gaFuncName: "ga", gtmEnabled: false, gtmFunction: null, deptNames:{}, buttons: [{"id":"cncbbn","html":"<div id=\"cncbbn\" class=\"no-print\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:none;position:fixed !important;bottom:0px !important;right:0px !important;z-index:11110 !important;background-color:#325387 !important;\"> <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:auto !important;\" class=\"cncbbn-cells\">  <tr>   <td class=\"def-fnt\" style=\"font-size:14px;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;vertical-align:middle !important;border:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;text-shadow:1px 1px 1px rgba(0,0,0,0.3) !important;line-height:1em !important;vertical-align: middle !important;\">    <a id=\"cp_du\" style=\"font-size:14px;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;text-shadow:1px 1px 1px rgba(0,0,0,0.3) !important;line-height:1em !important;display:none;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;min-width:48px !important;font-size:20px !important;color:#FFFFFF !important;cursor:pointer !important;border:3px solid #325387 !important;\" class=\"def-fnt\" rel=\"nofollow\" onclick=\"CarNowPlugin.launchChat(this,0);return false;\" data-name=\"Connected Agent Button\">     <div style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:block;\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tr>      <td style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;vertical-align:middle !important;border:none !important\"><img id=\"cp_dealer_agent_img\" src=\"https://d29f71cuc8ityh.cloudfront.net/images2/loading_dots.gif\" style=\"height:50px !important;width:50px !important;display:block !important;\"></td>      <td style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;vertical-align:middle !important;border:none !important;width:100% !important;padding-left:10px !important;line-height:1em !important;vertical-align: middle !important;\">       <span id=\"cp_dealer_agent_name\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:block !important;white-space:nowrap !important !important;\">Someone will be with you shortly.</span>       <span id=\"cp_dealer_agent_phone\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;font-size:13px !important;white-space:nowrap !important !important;\"></span>      </td>      <td style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;vertical-align:middle !important;border:none !important;width:50px !important;height:50px !important;background-image:url(https://d29f71cuc8ityh.cloudfront.net/images2/chat/plugin/chat_icon-2.png) !important;background-size:24px 24px !important;background-position:center center !important;background-repeat:no-repeat !important;vertical-align: middle !important;\">       <div style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:block !important;min-width:48px !important;\"></div>      </td>     </tr></table></div>    </a>    <a id=\"cp_du_waiting\" style=\"font-size:14px;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;text-shadow:1px 1px 1px rgba(0,0,0,0.3) !important;line-height:1em !important;display:block;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-size:20px !important;color:#FFFFFF !important;cursor:pointer !important;border:3px solid #325387 !important;\" class=\"def-fnt\" rel=\"nofollow\" onclick=\"CarNowPlugin.launchChat(this,0);return false;\" data-name=\"Connected Agent Button\">     <div style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:block;\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tr>      <td style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;vertical-align:middle !important;border:none !important;width:48px !important;height:48px !important;vertical-align: middle !important;background-image:url(https://d29f71cuc8ityh.cloudfront.net/images2/chat/plugin/chat_icon-2.png) !important;background-size:24px 24px !important;background-position:center center !important;background-repeat:no-repeat !important;\">       <div style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:block !important;min-width:48px !important;\"></div>      </td>     </tr></table></div>    </a>   </td>  </tr> </table> <div id=\"cp_mbx\" class=\"cn-live-bubble\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important\">  <div id=\"cn_live_messages\" class=\"cn-live-messages\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important\"></div>  <span class=\"cn-arr\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important\"><span class=\"cn-triangle\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important\"></span></span> </div></div>","show":"cn-fadeInUpBig","hide":"cn-fadeOutDownBig","start":true,"session":true,"adjust":"","bottom":true},{"id":"cn_contact_form","html":"<div id=\"cn_contact\" class=\"cn-modal cn-contact-form cn-animated cn-fadeIn\"> <div id=\"cn_contact_form\" class=\"cn-disbl cn-p20\">   </div> <a onclick=\"CarNowPlugin.hideModal();return false;\" class=\"cn-closer\">&times;</a></div>","show":"","hide":"","start":false,"session":false,"adjust":"","bottom":false},{"id":"cncb3","html":"<div id=\"cncb3\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:none;position:fixed;width:70px;height:220px;top:50%;left:0;margin-left:-20px;margin-top:-110px;border-radius:0 3px 3px 0;background-color:#990000;box-shadow:0 0 3px rgba(0,0,0,0.50);overflow:hidden !important;\"> <div style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:block !important;position:relative !important;height:100% !important;background-image:url(https://d29f71cuc8ityh.cloudfront.net/images2/chat/plugin/text_1-vl.png);background-repeat: no-repeat;background-position:center 0px;background-size: 60px 180px;width:50px;margin-left:20px !important;\">  <a rel=\"nofollow\" onclick=\"CarNowPlugin.launchChat(this, 3);return false;\" data-name=\"Left Live Help\" style=\"font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;display:block;width:50px;height:220px;\">   <img alt=\"Chat_icon-l\" src=\"https://d29f71cuc8ityh.cloudfront.net/images2/chat/plugin/chat_icon-l.png\" style=\"position:absolute;width:30px;bottom:9px;left:9px;\">  </a>  </div></div>","show":"cn-fadeInLeftBig","hide":"cn-fadeOutLeftBig","repeat_ani":"cnAniMoveRight","repeat":5,"start":true,"session":false,"adjust":"","bottom":false},{"id":"cncb11","html":"<div id=\"cncb11\" class=\"cn-b11 cn-cnt2 cn-reg\"> <table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\"><tr>  <td class=\"cn-vam cn-pl20 cn-pr20 cn-wait-text cn-nowrap cn-bdrr\">   Current Wait - None  </td>  <td class=\"cn-vam cn-user-img\"><img alt=\"8d5cd3f915e96fe26bf68ffa155583a4a4582c2f-t\" id=\"cn-chat-agent-photo\" src=\"https://cnph.s3.amazonaws.com/p/u/734613/8d5cd3f915e96fe26bf68ffa155583a4a4582c2f-t.png?1444335580\" /></td>  <td class=\"cn-w100 cn-pl5 cn-vam cn-text-field cn-pr5\">   <input class=\"cn-input cn-w100\" id=\"cn-chat-question\" name=\"question\" onkeyup=\"CarNowPlugin.fldKeyUp();return false;\" placeholder=\"Ask us a question - we are here to assist you!\" type=\"text\" />  </td>  <td id=\"cnb11_chat_btn\" class=\"cn-chat\">   <div class=\"cn-btn-cont\">    <a onclick=\"CarNowPlugin.launchChat(this, 311);return false;\" data-name=\"Bottom Toolbar - Chat\" rel=\"nofollow\" title=\"Click to connect with a representative\" class=\"cn-bar-btn\">CHAT</a>   </div>  </td>  <td class=\"cn-text\">   <div class=\"cn-btn-cont\">    <div id=\"cncb11_sms_form\" class=\"cn-form cnAniSlideUp cn-contact-form \"> <a class=\"cn-vat cn-p5 cn-cls\" onclick=\"CarNowPlugin.closeContactForm(&#39;cncb11_sms_form&#39;);return false;\" style=\"\">&times;</a><div class=\"cn-disbl cn-vat cn-tac cn-p20\"><div class=\"cn-disbl cn-p10 cn-tal\"> <input id=\"cncb11_sms_form_ttc\" name=\"ttc\" type=\"hidden\" value=\"1\" /> <div class=\"cn-msg\">Enter your mobile phone number and someone from San Antonio Dodge Chrysler Jeep RAM will respond with a text to your phone right away.</div> <div class=\"cn-disbl cn-pb5 cn-pt10 cn-fnts-s\" id=\"cncb11_sms_form_name_lbl\">Department</div> <div class=\"cn-disbl\">  <select class=\"cn-input cn-w100\" id=\"cncb11_sms_form_dept\" name=\"offer_dept\" onchange=\"CarNowClient.setDepartmentId(this.value)\"><option value=\"14\" selected=\"selected\">New Car Sales</option><option value=\"15\">Pre-Owned Sales</option><option value=\"12\">Service</option><option value=\"13\">Parts</option></select></div> <div class=\"cn-disbl cn-pb5 cn-pt10 cn-fnts-s\" id=\"cncb11_sms_form_name_lbl\">Your Name</div> <div class=\"cn-disbl\"><input class=\"cn-input cn-w100\" id=\"cncb11_sms_form_name\" name=\"offer_fname\" placeholder=\"Name\" type=\"text\" /></div> <div class=\"cn-disbl cn-pt10 cn-fnts-s\" id=\"cncb11_sms_form_mobile_lbl\">Your Mobile Number</div> <div class=\"cn-disbl cn-pt5 cn-fnts-s\"><input class=\"cn-input cn-w100\" id=\"cncb11_sms_form_mobile\" name=\"offer_mobile\" placeholder=\"Phone\" type=\"text\" /></div> <div class=\"cn-restrictions\">By clicking &quot;CONNECT&quot;I agree to receive emails, text messages, and phone calls, which may be recorded and/or sent using automated dialing or emailing equipment or software, from San Antonio Dodge Chrysler Jeep RAM and its affiliates and business partners in the future, unless I opt-out from such communications. I also agree to the Terms of Use and Privacy Policy linked below. I understand that my consent to be contacted is not a requirement to purchase any product or service and that I can opt-out at any time. I agree to pay my mobile service provider\u2019s text messaging rates, ifapplicable.</div> <div class=\"cn-disbl cn-pt10\"><a href=\"\" onclick=\"CarNowPlugin.submitContactForm(this, &#39;cncb11_sms_form&#39;, &#39;&#39;, null);return false;\" data-name=\"Contact Form Submit - Text\" rel=\"nofollow\" class=\"cn-button cn-tac\">CONNECT</a></div> <div class=\"cn-disbl cn-pt10\"><a href=\"\" id=\"cn_offer_contact_skip\" onclick=\"CarNowClient.setPokeId();CarNowClient.setDepartmentId();CarNowPlugin.closeContactForm(&#39;cncb11_sms_form&#39;);CarNowPlugin.launchChat(this,131,null,true);return false;\" data-name=\"Contact Form Skip Button\" rel=\"nofollow\" class=\"cn-disbl cn-tac\">Skip and continue</a></div></div></div></div>    <a onclick=\"CarNowPlugin.showSmsContactForm(this, &#39;cncb11_sms_form&#39;);return false;\" data-name=\"Bottom Toolbar - Text\" rel=\"nofollow\" title=\"Click to connect with a representative\" class=\"cn-bar-btn\">TEXT</a>   </div>  </td> </tr></table></div>","show":"cn-fadeInUpBig","hide":"cn-fadeOutDownBig","start":true,"session":false,"adjust":"","bottom":true,"agents":true,"hide_on_poke":true}], buttonsVisible: false, noButtons: false, promptVisible: false, inSession: false, grpDlrHeight: 0, frameOpen: false, blinkTimer: null, siteData :{"access_key":"J3ImLFLBaEBfFoKc5Lng5yHn2t8tKK6nuy10wkayeIKjH8Gy","inv_map_vin_selector":[],"inv_map_vin_attr":[],"inv_map_search_vin_selector":[],"inv_map_search_vin_attr":[],"gaEnabled":true,"gtmEnabled":false,"gaFuncName":"ga","manual_poke":false},  page_category : 100, backdropEl: null, modalDialog: null, pageSpecificButton: false, buttonAniTimers:{}, pokeCheckTimer: null, campainMode: false, hideWhenScrollToBottom: true, offerIndexes:{}, offerCount: 0, visitorId: 143330853, deptCookieUrls:{}, websiteNotificationEnabled: true, ui:{}, init: function(options){  try{   var queryParams=CarNowPlugin.getQueryParams(window.location.search);  if(queryParams.clear){    localStorage.clear();   if(sessionStorage)     sessionStorage.clear();   localStorage.clear();   window.location.href="https://app.carnow.com/_clear_";  }  } catch (e){}  try{   CarNowPlugin.initPlugin(options); } catch (e){   if(document.addEventListener){    window.addEventListener("load", function(event){     CarNowPlugin.initPlugin(options);   }, false);  } else if(document.attachEvent){    document.attachEvent("onload", function(event){     CarNowPlugin.initPlugin(options);   }, false);  }  } }, initPlugin: function(options){   var me=this;  this.loadResources();  this.whenAllResourcesLoaded(function(){    me.initAfterResourcesLoaded(options);  });}, allowsCookies: function(){  return !(document.cookie == null || document.cookie.indexOf("_carnow_session") == -1) }, getVstId: function(){  return CarNowPlugin.visitorId;}, getSessionId: function(){  if(localStorage){   var id=localStorage.getItem("cn_csid_26617");  return id; } else{   return null; } }, /* load all javascript and css resource */ loadResources : function(){  	   /* load timezone javascript */   this.resourceQueue=[];  if(CarNowPlugin.noButtons)    return;  	  /* load cn-client javascript */   var src="" , me=this;  src='https://d29f71cuc8ityh.cloudfront.net/js2/cn-client-z-1484106470.js.gz';  this.loadJavascript('cn-sc' + "-cli", src);  /* load animation css */   cnAnimation=this.loadCss("cn-cli-css",'https://d29f71cuc8ityh.cloudfront.net/css2/cn-client-z-1484106470.css.gz');  /* load plugin css */   var id='cn-css';  this.loadCss(id + "-css", "https://app.carnow.com/css/dealers/J3ImLFLBaEBfFoKc5Lng5yHn2t8tKK6nuy10wkayeIKjH8Gy/carnow_plugin.css?1484106470");  /*load print css */   this.loadCss(id + "-prn", 'https://d29f71cuc8ityh.cloudfront.net/css2/cnp-prn-z.css.gz', "print");  /* load icons css */   this.loadCss(id + "-icons", "https://app.carnow.com/carnow-icons.css?1484106470"); },    /* all resources have been loaded and and the DOM is available, continue initialization */  initAfterResourcesLoaded : function(options){        CarNowClient.init({ mobile: false, tablet: false, baseURL: "https://app.carnow.com"});   CarNowPlugin.animationEnabled=CarNowClient.isAnimationEnabled();   if(typeof(window[this.gaFuncName]) == "function"){     this.gaEnabled=true;   } else{     if(typeof(console) !== "undefined")      console.log("!!! [CN] Google Analytics is not enabled on your website. No tracking information will be available !!!");   }    CarNowClient.drawDepartmentSelector('<div id="cndepts" class="cn-chat-dept-picker cn-panel" style="display:none;min-height:100px;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;position:fixed !important;background:#FFFFFF !important;width:400px !important;bottom:100px !important;left:50% !important;margin-left:-200px !important;padding:20px !important;box-shadow:0px 0px 5px rgba(0,0,0,0.5) !important;box-sizing:border-box !important;text-decoration:none !important;z-index:11110 !important;color:#000000 !important;background-color:#FFFFFF !important;color:#000000 !important"> <a class="cn-box-close" onclick="CarNowPlugin.selectDepartmentCancel();return false;" style="padding-bottom:4px;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;position:absolute !important;width:20px !important;height:20px !important;border-radius:12px !important;color:#FFFFFF !important;background-color:#000000 !important;font-size:20px !important;line-height:14px !important;box-sizing:border-box !important;text-align:center !important;font-weight:700 !important;background-color:transparent !important;color:#000000 !important;top:5px !important;right:5px !important;">&#215;</a> <div class="title-bar fnts-xl" style="font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;font-size:24px !important;line-height:1.2em !important;color:#000000 !important;display:block !important;text-align:center !important;padding:0 20px 20px !important;margin-bottom:20px !important;border-bottom:1px solid #DDDDDD !important">  San Antonio Dodge Chrysler Jeep RAM </div> <table cellpadding="0" cellspacing="0" class="cn-tbl w100" style="width:100% !important">  <tr>   <td class="dept-selector cn-col" style="font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;vertical-align:middle !important;border:none !important;vertical-align:middle !important">    <div class="disbl pb10 fnts-m tac pl10 pr10" style="font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;display:block !important;text-align:center !important;padding-right:10px !important;padding-bottom:10px !important;padding-left:10px !important;text-align:center !important;font-size:16px !important;line-height:1.2em !important;color:#000000 !important">     Which department would you like to connect to?    </div>   </td>  </tr>  <tr>   <td class="dept-selector cn-col" style="font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;vertical-align:middle !important;border:none !important;vertical-align:middle !important">    <input type="hidden" id="cn-chat-dept" value="" style="font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;border:none !important;height:30px !important;padding:0 10px !important;box-sizing:border-box !important;outline:none !important">    <a href="javascript:void(0);" onclick="CarNowPlugin.selectDepartment(14, true)" class="cn-btn" style="background-image:none;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;text-transform:none !important;display:block !important;width:240px !important;height:auto !important;float:none !important;margin:10px auto !important;background-color:#325387 !important;color:#FFFFFF !important;font-size:24px !important;text-align:center !important;line-height:48px !important;border-radius:3px !important;border:none !important;text-decoration:none !important;text-transform:none !important">New Car Sales</a>    <a href="javascript:void(0);" onclick="CarNowPlugin.selectDepartment(15, true)" class="cn-btn" style="background-image:none;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;text-transform:none !important;display:block !important;width:240px !important;height:auto !important;float:none !important;margin:10px auto !important;background-color:#325387 !important;color:#FFFFFF !important;font-size:24px !important;text-align:center !important;line-height:48px !important;border-radius:3px !important;border:none !important;text-decoration:none !important;text-transform:none !important">Pre-Owned Sales</a>    <a href="javascript:void(0);" onclick="CarNowPlugin.selectDepartment(12, true)" class="cn-btn" style="background-image:none;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;text-transform:none !important;display:block !important;width:240px !important;height:auto !important;float:none !important;margin:10px auto !important;background-color:#325387 !important;color:#FFFFFF !important;font-size:24px !important;text-align:center !important;line-height:48px !important;border-radius:3px !important;border:none !important;text-decoration:none !important;text-transform:none !important">Service</a>    <a href="javascript:void(0);" onclick="CarNowPlugin.selectDepartment(13, true)" class="cn-btn" style="background-image:none;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;text-transform:none !important;display:block !important;width:240px !important;height:auto !important;float:none !important;margin:10px auto !important;background-color:#325387 !important;color:#FFFFFF !important;font-size:24px !important;text-align:center !important;line-height:48px !important;border-radius:3px !important;border:none !important;text-decoration:none !important;text-transform:none !important">Parts</a>    <a href="javascript:void(0);" onclick="CarNowPlugin.selectDepartmentCancel()" class="cn-btn cancel" style="background-image:none;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;font-style:normal !important;font-weight:normal !important;font-size:14px !important;text-decoration:none !important;font-family:HelveticaNeue-Light, Helvetica, Arial, sans-serif!important;text-transform:none !important;display:block !important;width:240px !important;height:auto !important;float:none !important;margin:10px auto !important;background-color:#325387 !important;color:#FFFFFF !important;font-size:24px !important;text-align:center !important;line-height:48px !important;border-radius:3px !important;border:none !important;text-decoration:none !important;text-transform:none !important;background-color:#AAAAAA !important;color:#FFFFFF !important">Cancel</a>   </td>  </tr> </table></div>');   this.deptNames['14']='New Car Sales';   this.deptNames['15']='Pre-Owned Sales';   this.deptNames['12']='Service';   this.deptNames['13']='Parts';   if(options == null || options == undefined)     options ={ buttons: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15] };   var btn_shown=null;   for (var i=0;i<this.buttons.length;i++){     var btnCfg=this.buttons[i];    btn_shown=document.createElement("div");    btn_shown.className="cn-www-widget";    btn_shown.innerHTML=btnCfg.html;    if(btnCfg.inline){      var elements=document.querySelectorAll(btnCfg.inline_css);     for (var j=0;j<elements.length;j++){       var inEl=elements[j];      inEl.appendChild(btn_shown);     }     } else{      document.getElementsByTagName('body')[0].appendChild(btn_shown);    }     if(btnCfg.adjust == "middle-left" || btnCfg.adjust == "middle-right"){      CarNowPlugin.setTopMargin(btnCfg.id);    }     if(btnCfg.repeat != null && btnCfg.repeat > 0){      CarNowPlugin.setAniRepeat(btnCfg.id, btnCfg.repeat_ani, btnCfg.repeat);    }    };   try{     CarNowPlugin.showMainButtons();   } catch (e){}    if(document.getElementById("cn-ani-css") == null){     if(cnAnimation.addEventListener){      cnAnimation.addEventListener("load", function(){       CarNowPlugin.showMainButtons();     });    } else if(cnAnimation.attachEvent){      cnAnimation.attachEvent("onload", function(){       CarNowPlugin.showMainButtons();     });    }    }    var offerDiv=document.createElement("div");   offerDiv.className="cn-www-widget";   offerDiv.innerHTML='<div id="cncb_offer" class="cn-offers-ctn"></div>';   document.getElementsByTagName('body')[0].appendChild(offerDiv);   innerHtml='';   var button=document.createElement("div");   button.id="cn_chat_my_dealer";   button.innerHTML=innerHtml;   document.getElementsByTagName('body')[0].appendChild(button);   var le=true;   var srcUrl=window.location.href;   var queryParams=CarNowPlugin.getQueryParams(window.location.search);   CarNowPlugin.campainMode=queryParams["cn_l"] != null;   if(CarNowPlugin.campainMode){     CarNowClient.setDepartmentId(14);    CarNowPlugin.launchChat(null, 812, null, true, false,{      src: queryParams["cn_s"],      src_url: queryParams["cn_su"],      src_m_yr: queryParams["cn_myr"],      src_m_mk: queryParams["cn_mmk"],      src_m_md: queryParams["cn_mmd"],      src_img: queryParams["cn_img"]     });   }    var pageInfo=CarNowClient.extractAutoInfo(CarNowPlugin.siteData.inv_map_vin_selector,                          CarNowPlugin.siteData.inv_map_vin_attr,                           CarNowPlugin.siteData.inv_map_search_vin_selector,                          CarNowPlugin.siteData.inv_map_search_vin_attr);   CarNowClient.$jsonp.send("https://app.carnow.com/dealers/update_visitor?o=26617&uvid=" + CarNowPlugin.getVstId() + pageInfo.vinsToQS() + pageInfo.vinsToQS(true) + "&t=" + encodeURIComponent(pageInfo.title) + "&d=" + encodeURIComponent(pageInfo.description) + "&referrer=" + encodeURIComponent(srcUrl) + "&orig-ref=" + encodeURIComponent(document.referrer ? document.referrer : "") + "&tz=" + encodeURIComponent(pageInfo.tz) + "&callback=handleUpdateVisitorResponse&vstid=" + CarNowPlugin.getVstId() + "&csid=" + (CarNowPlugin.getSessionId() ? CarNowPlugin.getSessionId() : ""),{     callbackName: 'handleUpdateVisitorResponse',     onSuccess: function(data){      var offersBadge=document.getElementById("offers_badge");     if(offersBadge){        offersBadge.innerHTML=data.offer_count;     }      CarNowPlugin.visitorId=data.vsid;     CarNowPlugin.addLiveFrame();     CarNowPlugin.ui=data.ui.value ? data.ui.value :{};     if(data.no_buttons && !data.in_session){       CarNowPlugin.hideAllButtons(true);     } else if(data.in_session){       CarNowPlugin.inSession=true;      CarNowPlugin.deptCookieUrls ={};      CarNowPlugin.showMainButtons();     } else{       CarNowPlugin.drawPokePanel();     }      if(data.invid != null && data.invid != "" && data.agent == null){       setTimeout(function(){        var b=document.getElementById("cncb9");       if(b != null){         CarNowPlugin.hideBottomButtons();        b.style.display="block";       }        b=document.getElementById("cnb11_dealnow_btn");       if(b != null){         b.style.display="table-cell";        b=document.getElementById("cnb11_chat_btn");        b.style.display="none";       }        CarNowClient.invDepartmentId=data.invdeptid;       CarNowPlugin.pageSpecificButton=true;      }, 1000);     }      if(data.deptid != null){       CarNowClient.setDepartmentId(data.deptid);     }      if(data.agent == null){       if(data.offers != null && !CarNowPlugin.noButtons){        CarNowPlugin.offerCount=data.offer_count;       var el=document.getElementById("cnb11_offer_list");       if(el != null){         el.innerHTML=data.offers;       }        if(data.auto_show_offer){         setTimeout(function(){          CarNowPlugin.showOfferList('cnb11_offer_list', 1000, data.auto_show_offer_el);        }, 2000);       }       } if(data.offer != null && !CarNowPlugin.noButtons){        CarNowClient.showOffer({ type:"new-offer", pkid: data.pkid, vsid: data.vsid, embededHtml: data.offer, contactForm: data.contact_form });      } else if(data.poke_enabled && data.poke_html != null && data.poke_html != "" && !CarNowPlugin.noButtons){        CarNowPlugin.showPokePanel(data.pkid, data.poke_html);      } else if(data.poke_enabled && data.poke_delay > 0 && !CarNowPlugin.noButtons && !data.in_session){        CarNowPlugin.pokeCheckTimer=setTimeout(function(){         CarNowClient.$jsonp.send("https://app.carnow.com/dealers/poke_check?o=26617&uvid=" + CarNowPlugin.getVstId() + "&callback=handlePokeCheckResponse" ,{          callbackName: 'handlePokeCheckResponse',          onSuccess: function(data){           if(data.html != null && data.html != ""){            CarNowPlugin.showPokePanel(data.pkid, data.html);          }           if(data.deptid != null){            CarNowClient.setDepartmentId(data.deptid);          }          },          timeout: 5         });       }, data.poke_delay * 1000);      }      }     },     timeout: 5    });   this.backdropEl=document.createElement("div");   this.backdropEl.id="cn_backdrop";   this.backdropEl.className="cn-page-backdrop";   this.backdropEl.onclick=function(){ CarNowPlugin.hideModal();};   document.getElementsByTagName('body')[0].appendChild(this.backdropEl);  },   addLiveFrame: function(){    var div=document.createElement("div");   div.id="cn_bpadn";   div.className="cn-www-widget cn-bpadn";   document.getElementsByTagName('body')[0].appendChild(div);   this.liveFrame=document.createElement("iframe");   this.liveFrame.id="cn_live_frame";   this.liveFrame.style="display:none;";   this.liveFrame.width="0";   this.liveFrame.height="0";   this.liveFrame.frameBorder="0";   div.appendChild(this.liveFrame);   this.liveFrame.src="https://app.carnow.com/chat/live?key=J3ImLFLBaEBfFoKc5Lng5yHn2t8tKK6nuy10wkayeIKjH8Gy&uvid=" + CarNowPlugin.getVstId();   this.liveFrame.onload=function(){     CarNowPlugin.sendMessageToLiveFrame("enable");   };  }, showMainButtons: function(){  if(CarNowPlugin.noButtons)   return; if(CarNowPlugin.buttonsVisible || CarNowPlugin.promptVisible || CarNowPlugin.frameOpen || CarNowPlugin.pageSpecificButton){   return; }  var agentAvailable=false; for (var i=0;i<CarNowPlugin.buttons.length;i++){   var btnCfg=CarNowPlugin.buttons[i];  if(btnCfg.start && !!CarNowPlugin.shouldShowButton(btnCfg.id) &&      ((!CarNowPlugin.inSession && !btnCfg.session) || (CarNowPlugin.inSession && btnCfg.session))){    CarNowPlugin.buttonsVisible=true;   var ela=document.getElementById(btnCfg.id);   if(ela != null){     ela.style.display="block";    if(CarNowPlugin.animationEnabled && btnCfg.show != ""){      CarNowClient.removeClass(ela, btnCfg.hide);     CarNowClient.addClass(ela, btnCfg.show);     CarNowClient.addClass(ela, "cn-animated");    }    }    if(btnCfg.agents){     agentAvailable=true;   }   }  }  if(agentAvailable){   CarNowPlugin.cycleAgents(); } }, hideAllButtons: function(permanently){  CarNowPlugin.hideButtons({ removeAll: true }); CarNowPlugin.buttonsVisible=false; if(permanently){   try{    CarNowClient.$jsonp.send("https://app.carnow.com/dealers/update_button_states?key=J3ImLFLBaEBfFoKc5Lng5yHn2t8tKK6nuy10wkayeIKjH8Gy&uvid=" + CarNowPlugin.getVstId() + "&type=buttons&value=0&callback=handleHideButtonResponse" ,{     callbackName: 'handleHideButtonResponse',     onSuccess: function(data){},     timeout: 5    });  } catch (e){}  } }, hideMainButtons: function(){  if(CarNowPlugin.inSession){   CarNowPlugin.hideButtons({ poke: false, onlyBottom: false });  CarNowPlugin.buttonsVisible=false; } }, hideBottomButtons: function(options){  if(CarNowPlugin.inSession){   CarNowPlugin.hideButtons({ poke: false, onlyBottom: true });  CarNowPlugin.buttonsVisible=false; } }, hideButtons: function(options){  if(!CarNowPlugin.buttonsVisible && !options.removeAll){   return; }  if(options.id){   var ela=document.getElementById(options.id);  if(ela != null){    ela.style.display="none";  }  }  if(CarNowPlugin.inSession || options.removeAll){   for (var i=0;i<CarNowPlugin.buttons.length;i++){    var btnCfg=CarNowPlugin.buttons[i];   var hideButtonFlag=true;   hideButtonFlag=btnCfg.start && ((CarNowPlugin.inSession && btnCfg.session) || (!CarNowPlugin.inSession && !btnCfg.session));   hideButtonFlag=hideButtonFlag && (options.poke == null || !options.poke || (options.poke && btnCfg.hide_on_poke));   hideButtonFlag=hideButtonFlag && (options.onlyBottom == null || !options.onlyBottom || (options.onlyBottom && btnCfg.bottom));   hideButtonFlag=hideButtonFlag && (options.id == null || (options.id == btnCfg.id));   hideButtonFlag=hideButtonFlag || options.removeAll;   if(hideButtonFlag){     var ela=document.getElementById(btnCfg.id);    if(ela != null){      if(CarNowPlugin.buttonAniTimers[btnCfg.id] != null){       clearTimeout(CarNowPlugin.buttonAniTimers[btnCfg.id]);     }      if(CarNowPlugin.animationEnabled){       CarNowClient.removeClass(ela, btnCfg.show);      CarNowClient.addClass(ela, btnCfg.hide);      CarNowClient.addClass(ela, "cn-animated");     }      ela.style.display="none";    }    }   }   CarNowPlugin.closePokePanel(false); } }, turnOffPokeChecker: function(){  if(CarNowPlugin.pokeCheckTimer != null)   clearTimeout(CarNowPlugin.pokeCheckTimer);}, showOfferList: function(id, bottom, containerId, hideElementId){  if(hideElementId){   var m=document.getElementById(hideElementId);  if(m){    m.style.display="none";  }  }  if(containerId != null){   var m=document.getElementById(containerId);  m.style.display="block";  var children=m.children;  for (var i=0;i < children.length;i++){    var liChild=children[i];   CarNowClient.removeClass(liChild, "selected");  }   CarNowClient.removeClass(m, "selected"); }  CarNowPlugin.turnOffPokeChecker(); var m=document.getElementById(id); m.style.display='block'; CarNowClient.offerId=null;}, closeOfferList: function(id){  var m=document.getElementById(id); m.style.display='none'; CarNowClient.offerId=null;}, scrollOffer: function(prefix, next){  var currIdx=CarNowPlugin.offerIndexes[prefix]; if(currIdx == null)   currIdx=0; var currEl=document.getElementById(prefix + currIdx); var newIdx=currIdx; if(next){   newIdx=currIdx + 1; } else{   newIdx=currIdx - 1; }  if(newIdx >= CarNowPlugin.offerCount){   return; }  var newEl=document.getElementById(prefix + newIdx); if(newEl != null){   currEl.style.display="none";  document.getElementById(prefix + currIdx + "_claimit").style.display="none";  newEl.style.display="block";  document.getElementById(prefix + newIdx + "_claimit").style.display="block";  if(document.getElementById(prefix + "counter")){    document.getElementById(prefix + "counter").innerHTML=newIdx + 1;  }   CarNowPlugin.offerIndexes[prefix]=newIdx; } }, nextOffer: function(prefix){  CarNowPlugin.scrollOffer(prefix, true);}, previousOffer: function(prefix){  CarNowPlugin.scrollOffer(prefix, false);}, showBtnOfferContactForm: function(btn, containerId, offerElId, offerId, formId){  if(containerId != null){   var m=document.getElementById(containerId);  var children=m.children;  for (var i=0;i < children.length;i++){    var liChild=children[i];   if(liChild.id == offerElId){     CarNowClient.addClass(liChild, "selected");   } else{     CarNowClient.removeClass(m, "selected");   }   }   CarNowClient.addClass(m, "selected"); }  CarNowClient.offerId=offerId; CarNowPlugin.hideWhenScrollToBottom=false; CarNowPlugin.turnOffPokeChecker(); CarNowClient.addClass(btn, "cn-open");}, hideBtnOfferContactForm: function(containerId){  if(containerId != null){   var m=document.getElementById(containerId);  var children=m.children;  for (var i=0;i < children.length;i++){    var liChild=children[i];   CarNowClient.removeClass(liChild, "selected");  }   CarNowClient.removeClass(m, "selected"); }  CarNowClient.offerId=null;}, showSmsContactForm: function(btn, formId, btnContainer){  CarNowPlugin.hideWhenScrollToBottom=false; CarNowPlugin.turnOffPokeChecker(); CarNowClient.addClass(btn, "cn-open"); if(btnContainer && document.querySelectorAll(btnContainer) != null){   var c=document.querySelectorAll(btnContainer);  CarNowClient.addClass(c[0],"cn-open"); }  CarNowPlugin.showContactForm(true, formId);}, showContactForm: function(nonOfferClick, id){  CarNowPlugin.turnOffPokeChecker(); var m=document.getElementById(id ? id : "cn_offer_contact"); m.style.display='block'; var c=document.getElementById(id ? id + "_c" : "cn_offer_contact_c"); if(c){   c.style.display='block'; }  if(nonOfferClick){   document.getElementById("cn_offer_contact_skip").style.display="block"; } else{   document.getElementById("cn_offer_contact_skip").style.display="none"; } }, closeContactForm: function(id, btnContainer){  CarNowPlugin.hideWhenScrollToBottom=true; var m=document.getElementById(id ? id : "cn_offer_contact"); m.style.display='none'; if(btnContainer && document.querySelectorAll(btnContainer) != null){   var c=document.querySelectorAll(btnContainer);  CarNowClient.removeClass(c[0],"cn-open"); } }, submitContactForm: function(elem, formId, pokeId, deptId){  var valid=true; var name=document.getElementById(formId + "_name").value; if(name == ""){   var lbl=document.getElementById(formId + "_name_lbl");  lbl.innerHTML="Please provide a name";  lbl.style.color="#BB0000";  valid=false; }  var mobile=document.getElementById(formId + "_mobile") ? document.getElementById(formId + "_mobile").value : null; var email=document.getElementById(formId + "_email") ? document.getElementById(formId + "_email").value : null; if(mobile != null && mobile != "" && !CarNowClient.validPhone(mobile)){   var lbl=document.getElementById(formId + "_mobile_lbl");  lbl.innerHTML="Invalid phone number";  lbl.style.color="#BB0000";  document.getElementById(formId + "_mobile").style.color="#BB0000";  valid=false; }  if(email != null && email != "" && !CarNowClient.validEmail(email)){   var lbl=document.getElementById(formId + "_email_lbl");  lbl.innerHTML="Invalid email address";  lbl.style.color="#BB0000";  document.getElementById(formId + "_email").style.color="#BB0000";  valid=false; }  if(mobile != null && mobile == ""){   var lbl=document.getElementById(formId + "_mobile_lbl");  lbl.innerHTML="Please provide a mobile phone";  lbl.style.color="#BB0000";  valid=false; }  if(email != null && email == ""){   lbl=document.getElementById(formId + "_email_lbl");  lbl.innerHTML="Please provide an email";  lbl.style.color="#BB0000";  valid=false; }  if(valid){   CarNowClient.contactData ={    ttc: document.getElementById(formId + "_ttc").value,    ccn: name,    ccmp: mobile,    cce: email   };  if(document.getElementById(formId + "_message") != null){    CarNowClient.contactData["q"]=document.getElementById(formId + "_message").value;  }   CarNowClient.setPokeId(pokeId);  if(deptId){    CarNowClient.setDepartmentId(deptId);  } else{    if(document.getElementById(formId + "_dept") && document.getElementById(formId + "_dept").value){     CarNowClient.setDepartmentId(document.getElementById(formId + "_dept").value);   }   }   var extraVars ={};  if(CarNowClient.offerId){    extraVars["ofrid"]=CarNowClient.offerId;  }   CarNowPlugin.launchChatWithParams(elem, formId == "cn_offer_contact" ? 121 : 125, extraVars);  if(document.getElementById(formId)){    document.getElementById(formId).style.display='none';   setTimeout(function(){     if(document.getElementById(formId + "_mobile")){      document.getElementById(formId + "_mobile").value="";    }     if(document.getElementById(formId + "_email")){      document.getElementById(formId + "_email").value="";    }     if(document.getElementById(formId + "_name")){      document.getElementById(formId + "_name").value="";    }    }, 1000)   }  }  return false;}, hideModal: function(){  var m=document.getElementById("cn_contact"); CarNowClient.removeClass(m, "zoomIn"); CarNowClient.addClass(m, "zoomOut"); CarNowPlugin.backdropEl.style.display="none";}, drawPokePanel: function(cfg){  var innerHtml='<div id="cnpoke" class="cn-pk1 cn-topbar-bdr"> <div class="cn-disbl cn-topbar">  <div class="cn-distb">   <div class="cn-distc cn-p5 cn-w100 cn-vam">Chat</div>   <div class="cn-distc cn-p5 cn-vam"><a onclick="CarNowPlugin.closePokePanel();return false;" class="cls" style="font-size:16px !important;">&#215;</a></div>  </div> </div> <div class="cn-disbl cn-bg-w">  <input id="cn-poke-vsid" name="vstid" type="hidden">  <input id="cn-poke-agid" name="agid" type="hidden">  <input id="cn-poke-pokeid" name="pokeid" type="hidden">  <div class="cn-disbl cn-p10">   <div id="cnpoke-embed" class="embed"></div>  </div>  <div class="cn-disbl cn-form-bg cn-p5">   <table cellpadding="0" cellspacing="0" border="0" class="cn-w100"><tr><td class="cn-w100 cn-vat">    <input class="cn-input cn-w100" id="cn-poke-ans" name="ans" placeholder="Enter your message" type="text">   </td><td class="cn-pl5">    <a href="javascript:void(0);" onclick="CarNowPlugin.launchChat(this,11);return false;" data-name="Poke Design 1" class="cn-button" style="width:auto !important;">Send</a>   </td></tr></table>  </div> </div></div>'; var button=document.createElement("div"); button.id="cn_chat_poke"; button.className="cn-www-widget"; button.innerHTML=innerHtml; document.getElementsByTagName('body')[0].appendChild(button);}, showPokePanel: function(pokeId, html){  if(CarNowPlugin.noButtons)   return; CarNowPlugin.hideButtons({ poke: true } ); CarNowPlugin.buttonsVisible=false; if(html != null){   if(document.getElementById("cn-poke-pokeid") != null)    document.getElementById("cn-poke-pokeid").value=pokeId;  if(document.getElementById("cn-poke-vsid") != null)    document.getElementById("cn-poke-vsid").value=CarNowPlugin.getVstId();  if(document.getElementById("cnpoke-embed") != null)    document.getElementById("cnpoke-embed").innerHTML=html; } else{   return; }    var flyAni="cn-fadeInUpBig"; var ela=document.getElementById("cnpoke"); if(ela){   ela.style.display="block";  if(CarNowPlugin.animationEnabled){    CarNowClient.removeClass(ela, "cn-fadeOutDownBig");   CarNowClient.addClass(ela, flyAni);   CarNowClient.addClass(ela, "cn-animated");  }  }  CarNowPlugin.promptVisible=true;}, closePokePanel: function(showMain){  CarNowPlugin.promptVisible=false; var flyAni="cn-fadeOutDownBig"; var ela=document.getElementById("cnpoke"); if(ela){   if(CarNowPlugin.animationEnabled){    CarNowClient.removeClass(ela, "cn-fadeInUpBig");   CarNowClient.addClass(ela, flyAni);   CarNowClient.addClass(ela, "cn-animated");  }   ela.style.display="none"; }  if(showMain == null || showMain){   CarNowPlugin.showMainButtons(); } }, cycleAgents: function(){  if(CarNowPlugin.agents.length > 1){   CarNowPlugin.cycleAgentImages(); } }, cycleAgentImages: function(){  if(document.getElementById("cn-chat-agent-photo") != null){   var index=CarNowPlugin.agentIndex;  var img=CarNowPlugin.agents[index][1];  var name=CarNowPlugin.agents[index][0];  document.getElementById("cn-chat-agent-photo").src=img;  if(document.getElementById("cn-chat-agent-name") != null)    document.getElementById("cn-chat-agent-name").innerHTML=name;  CarNowPlugin.agentIndex=CarNowPlugin.agentIndex + 1;  if(CarNowPlugin.agentIndex >= CarNowPlugin.agents.length)    CarNowPlugin.agentIndex=0;  setTimeout(function(){ CarNowPlugin.cycleAgents() }, 4000); } }, fldKeyUp: function(e){  var ev=window.event? event : e; if(ev.keyCode == 13){   CarNowPlugin.launchChat(null,4); }; return false;}, launchChatWithParams: function(el, idx, additionalParams){  if(additionalParams.ofrid != null){   CarNowClient.setDepartmentId(14); }  var chatKey="J3ImLFLBaEBfFoKc5Lng5yHn2t8tKK6nuy10wkayeIKjH8Gy"; if(CarNowClient.groupDealerKey){   chatKey=CarNowClient.groupDealerKey + "|J3ImLFLBaEBfFoKc5Lng5yHn2t8tKK6nuy10wkayeIKjH8Gy"; }  CarNowPlugin.launchChatWithKey(el,chatKey, idx, null, null, null, null, additionalParams);}, launchChat: function(el, idx, aId, forceLaunch, deptUsrSel, additionalParams){  CarNowPlugin.launchChatWithKey(el,"J3ImLFLBaEBfFoKc5Lng5yHn2t8tKK6nuy10wkayeIKjH8Gy", idx, aId, null, forceLaunch, deptUsrSel, additionalParams);}, launchChatWithKey: function(ctxEl, key, idx, aId, deptId, forceLaunch, deptUsrSel, additionalParams){  if(CarNowClient.offerShown &&    document.getElementById("cn_contact_name") != null &&    (document.getElementById("cn_contact_name").value == null || document.getElementById("cn_contact_name").value == "") &&   !forceLaunch && !CarNowPlugin.inSession){   CarNowPlugin.showContactForm(true);  return; }  var gaParams=['send', 'event', 'CarNow Chat Lead']; var params=""; var ctxToName=null; if(idx == 11 && aId == null && document.getElementById("cn-poke-agid") != null){   aId=document.getElementById("cn-poke-agid").value;  if(aId == "") aId=null; }  var pokeId=""; if(idx == 11 && document.getElementById("cn-poke-pokeid") != null){   pokeId=document.getElementById("cn-poke-pokeid").value; }  var pokeAns=""; if(idx == 11 && document.getElementById("cn-poke-ans") != null){   pokeAns=document.getElementById("cn-poke-ans").value; }  if(deptId == null && CarNowClient.getDepartmentId() != null){   params += '&dept=' + CarNowClient.getDepartmentId();  ctxToName=this.deptNames[CarNowClient.getDepartmentId()]; } else if((aId == null || aId == "") && (CarNowPlugin.directAgentId == null) && !CarNowPlugin.inSession){   gaParams.push('click');  if(ctxEl != null){    gaParams.push(ctxEl.getAttribute("data-name"));  } else{    gaParams.push("Chat Button");  }   this.sendGA(gaParams);  CarNowPlugin.turnOffPokeChecker();  CarNowClient.showDepartmentSelector();  this.deptSelectorLaunchedFromIdx=idx;  return false; } else{   CarNowPlugin.directAgentId=aId;  CarNowPlugin.selectDepartmentCancel();  if(deptId != null){    ctxToName=this.deptNames[deptId]   }  }  params += '&dept=' + CarNowClient.getDepartmentId(); var q=null; var pq=null; if(pokeId != "")   params += '&poke=' + pokeId; if(idx == 11 && document.getElementById("cn-poke-vsid") != null){   params += '&vstid=' + document.getElementById("cn-poke-vsid").value;  if(document.getElementById("cn-poke-ans")){    var pq=document.getElementById("cn-poke-ans").value;   if(pq != null && pq != undefined && pq != "")     params += '&q=' + encodeURIComponent(pq);   if(pq == "")     pq=null;  }  }  if(pq == null && q == null && document.getElementById("cn-chat-question") != null && document.getElementById("cn-chat-question").value != ""){   q=document.getElementById("cn-chat-question").value;  document.getElementById("cn-chat-question").value="";  if(q != null && q != undefined && q != "")    params += '&q=' + encodeURIComponent(q); }  if(pq == null && q == null && document.getElementById("cn-chat-question2") != null && document.getElementById("cn-chat-question2").value != ""){   q=document.getElementById("cn-chat-question2").value;  document.getElementById("cn-chat-question2").value="";  if(q != null && q != undefined)    params += '&q=' + encodeURIComponent(q); }  if(aId != null){   params += '&ag=' + aId;  ctxToName=aId; }  gaParams.push('submit'); if(ctxEl != null && ctxEl.getAttribute("data-name") != null && ctxEl.getAttribute("data-name") != ""){   gaParams.push(ctxEl.getAttribute("data-name")); } else{   gaParams.push(ctxToName); }  this.sendGA(gaParams); CarNowPlugin.hideMyDealerhip(); var ww="1124"; params += "&src=" + encodeURIComponent(window.location.href); params += "&click=" + idx; Object.keys(CarNowClient.contactData).forEach(function (key){   var value=CarNowClient.contactData[key];  params += "&" + encodeURIComponent(key) + "=" + (value == null ? "" : encodeURIComponent(value)); }); if(deptUsrSel){   params += "&deptUsrSel=true"; }  if(additionalParams != null){   Object.keys(additionalParams).forEach(function (key){    var value=additionalParams[key];   params += "&" + encodeURIComponent("_"+ key) + "=" + encodeURIComponent(value);  }); }  var url='https://app.carnow.com/dealers/chat_request?key=' + encodeURIComponent(key) + params + "&" + "&vstid=" + CarNowPlugin.getVstId(); if(document.cookie == ""){   url += "&nocookies=1"; }  var queryParams=CarNowPlugin.getQueryParams(window.location.search); if(queryParams.light){   url += "&light=1"; }  CarNowPlugin.turnOffPokeChecker(); var sms=CarNowClient.contactData["ccmp"] != null && CarNowClient.contactData["ccmp"] != ""; if(CarNowClient.isMobile() && sms){   CarNowClient.$jsonp.send(url + "&_init=1&callback=handleChatRequestResponse" ,{    callbackName: 'handleChatRequestResponse',    onSuccess: function(data){     if(data.sms){      window.location="sms:8554345548";    } else{      if(CarNowPlugin.ui.force_popup != "1" && (false || CarNowPlugin.campainMode)){       CarNowPlugin.setupNoCookieUrls();      CarNowPlugin.openChatInFrame(url + "&frame=1", false, ww);     } else{       CarNowPlugin.setupNoCookieUrls();      var win=window.open(url, 'CarNowChat', 'height=600, width=' + ww + ',left=30,top=30,menubar=no,location=no,scrollbars=no,status=no,toolbar=no');      CarNowPlugin.chatWindow=win.window;      CarNowPlugin.setupChatWinRef(win, win.window);      win.focus();     }     }    },    timeout: 5   }); } else{   sms=false;  if(CarNowPlugin.ui.force_popup != "1" && (false || CarNowPlugin.campainMode)){    CarNowPlugin.setupNoCookieUrls();   CarNowPlugin.openChatInFrame(url + "&frame=1", false, ww);  } else{    CarNowPlugin.setupNoCookieUrls();   var win=window.open(url, 'CarNowChat', 'height=600, width=' + ww + ',left=30,top=30,menubar=no,location=no,scrollbars=no,status=no,toolbar=no');   CarNowPlugin.chatWindow=win.window;   CarNowPlugin.setupChatWinRef(win, win.window);   win.focus();  }  }  CarNowPlugin.promptVisible=false; CarNowPlugin.inSession=true; CarNowPlugin.websiteNotificationEnabled=false; CarNowPlugin.stopLiveBlinking(); CarNowPlugin.hideAllButtons(); CarNowClient.closeDepartmentSelector(); CarNowPlugin.closePokePanel(false); if(document.getElementById("cnpoke") != null)   document.getElementById("cnpoke").innerHTML=""; var hideLive=false; if(hideLive && !sms){   CarNowPlugin.hideLiveButton(); } else{   CarNowPlugin.showLiveButton(); }  var offerEl=document.getElementById("cncb_offer"); if(offerEl != null){   offerEl.style.display="none"; }  CarNowPlugin.inSession=true; CarNowPlugin.deptCookieUrls ={}; var dealNowBtn=document.getElementById("cncb9"); if(dealNowBtn != null){   dealNowBtn.style.display="none"; }  CarNowPlugin.sendMessageToLiveFrame("enable"); CarNowPlugin.sendParentWindowToChatWindow(1000); setTimeout(function(){   CarNowPlugin.sendParentWindowToChatWindow(1000); }, 2000); CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"popup-open"}));}, openChatInFrame: function(url, mobile, ww){  if(mobile){   CarNowPlugin.iframeWindow=CarNowClient.launchConvInFrame(url + "&view=frame", 0, 0,{ borderColor: "#325387", background: "#FFFFFF", animated: !CarNowPlugin.frameOpen });  CarNowPlugin.frameOpen=true;  CarNowPlugin.chatWindow=CarNowPlugin.iframeWindow.contentWindow;  return CarNowPlugin.chatWindow; } else{   var extraClazz="";  if(CarNowPlugin.ui != null && CarNowPlugin.ui.info_panel_hidden == "1")    extraClazz += " min";   var win=CarNowClient.launchConvInFrame(url + "&view=frame", ww, 600,{ extraClazz: extraClazz, borderColor: "#325387", background: "#FFFFFF", animated: !CarNowPlugin.frameOpen });  CarNowPlugin.frameOpen=true;  CarNowPlugin.setupChatWinRef(win, win.contentWindow);  return win.contentWindow; } }, setupNoCookieUrls: function(){  try{   deptId=CarNowClient.getDepartmentId() + "";  deptId=deptId + "";  if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){    if(this.deptCookieUrls[deptId]){     for (var i=0;i < this.deptCookieUrls[deptId].length;i++){      CarNowClient.openNewBackgroundTab(this.deptCookieUrls[deptId][i]);    }    }   }  } catch (e){  } }, setupChatWinRef: function(win, contentWindow){  if(win.addEventListener){   win.addEventListener("load", function(event){    CarNowPlugin.chatWindow=contentWindow;   CarNowPlugin.sendParentWindowToChatWindow(1000);  }, false); } else if(win.attachEvent){   win.attachEvent("onload", function(event){    CarNowPlugin.chatWindow=contentWindow;   CarNowPlugin.sendParentWindowToChatWindow(1000);  }, false); } }, showLiveButton: function(){  if(!CarNowPlugin.frameOpen){   var ela2=document.getElementById("cncbbn");  if(ela2 == null){    CarNowPlugin.showMainButtons();  } else{    ela2.style.display="block";   ela2.className="cn-fadeIn cn-animated";  }  } }, hideLiveButton: function(){  var ela2=document.getElementById("cncbbn"); ela2.className="cn-fadeOut cn-animated";}, removeLiveButton: function(){  var ela2=document.getElementById("cncbbn"); if(ela2){   ela2.parentNode.removeChild(ela2); } }, blinkLiveButton: function(defState){  var ela=document.getElementById("cncbbn"); if(ela){   if(defState){    ela.style.setProperty("background-color", "#325387", "important");  } else{    ela.style.setProperty("background-color", "#000000", "important");  }   if(CarNowPlugin.blinkTimer != null){    clearTimeout(CarNowPlugin.blinkTimer);  }   CarNowPlugin.blinkTimer=setTimeout(function(){    CarNowPlugin.blinkLiveButton(!defState);  }, 1000); } }, stopLiveBlinking: function(){  if(CarNowPlugin.blinkTimer != null){   clearTimeout(CarNowPlugin.blinkTimer); }  var ela=document.getElementById("cncbbn"); if(ela){   ela.style.setProperty("background-color", "#325387", "important"); } }, showMyDealerhip: function(){  var elacpp=document.getElementById("cnctmydlpop"); if(elacpp != null){   elacpp.style.display="block";  elacpp.className="zoomIn cn-animated"; } }, hideMyDealerhip: function(){  var elacpp=document.getElementById("cnctmydlpop"); if(elacpp != null)   elacpp.style.display="none";}, showMessageBubble: function(){  var el=document.getElementById("cp_mbx"); el.style.display="block"; CarNowClient.addClass(el, "cn-fadeIn"); CarNowClient.addClass(el, "cn-animated"); if(CarNowPlugin.messageBubbleTimer != null){   clearTimeout(CarNowPlugin.messageBubbleTimer); }  CarNowPlugin.messageBubbleTimer=setTimeout(function(){   var el2=document.getElementById("cp_mbx");  el2.style.display="none"; }, 15000);}, sendParentWindowToChatWindow: function(interval){  if(CarNowPlugin.chatWindowTimer != null){   clearTimeout(CarNowPlugin.chatWindowTimer); }  if(CarNowPlugin.chatWindow){   CarNowPlugin.chatWindowTimer=setTimeout(function(){    try{     CarNowPlugin.chatWindow.postMessage("parent", "https://app.carnow.com");    CarNowPlugin.sendParentWindowToChatWindow(1000);   } catch (e){     var errDesc=e.message ? e.message : e.description;    if(errDesc.indexOf("chatWindow.postMessage is not a function")){      setTimeout(function(){       CarNowPlugin.websiteNotificationEnabled=true;      CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"popup-closed"}));     }, 2000);    } else{      CarNowPlugin.logMessage("fn=sendParentWindowToChatWindow&ref=chatWindow&call=postMessage&baseUrl=https://app.carnow.com&err=" + e.description);    }     if(!CarNowPlugin.frameOpen && CarNowPlugin.ui["force_popup"] != "1"){      CarNowPlugin.websiteNotificationEnabled=true;     CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"popup-closed"}));    }    }   }, interval); } else{   CarNowPlugin.logMessage("fn=sendParentWindowToChatWindow&ref=chatWindow&call=postMessage&baseUrl=https://app.carnow.com&err=Chat window is not available"); } }, sendMessageToLiveFrame: function(data){  setTimeout(function(){   try{    if(CarNowPlugin.liveFrame){     CarNowPlugin.liveFrame.contentWindow.postMessage(data, "https://app.carnow.com");   } else{     CarNowPlugin.logMessage("fn=sendMessageToLiveFrame&ref=liveFrame&call=postMessage&baseUrl=https://app.carnow.com&err=Live frame is not available");   }   } catch (e){    CarNowPlugin.logMessage("fn=sendMessageToLiveFrame&ref=liveFrame&call=postMessage&baseUrl=https://app.carnow.com&err=" + e.description);  }  }, 1000);}, getQueryParams: function(qs){  qs=qs.split('+').join(' '); var params ={}, tokens, re=/[?&]?([^=]+)=([^&]*)/g; while (tokens=re.exec(qs)){   params[decodeURIComponent(tokens[1])]=decodeURIComponent(tokens[2]); }  return params;}, logMessage: function(message){  try{  }  catch(e){   console.log("CN: Error logging message with json=" + JSON.stringify(json)); } }, processLiveEvent: function(event){  var json ={ type: "unknown" }; try{   json=JSON.parse(event.data); } catch (e){}  if(json.type == "connected"){   if(document.getElementById("cp_dealer_agent_img") != null)    document.getElementById("cp_dealer_agent_img").src=json.img;  if(document.getElementById("cp_dealer_agent_name") != null)    document.getElementById("cp_dealer_agent_name").innerHTML=json.name;  if(document.getElementById("cp_dealer_agent_phone") != null)    document.getElementById("cp_dealer_agent_phone").innerHTML=json.phone;  if(document.getElementById("cp_du") != null)    document.getElementById("cp_du").style.display="block";  if(document.getElementById("cp_du_waiting") != null)    document.getElementById("cp_du_waiting").style.display="none"; } else if(json.type == "session"){   localStorage.setItem("cn_csid_26617", json.id);  CarNowPlugin.sendMessageToLiveFrame(event.data); } else if(json.type == "message"){   if(document.getElementById("cn_live_messages") != null && CarNowPlugin.websiteNotificationEnabled){    document.getElementById("cn_live_messages").innerHTML=json.html;   CarNowPlugin.showMessageBubble();   CarNowPlugin.blinkLiveButton();  }  } else if(json.type == "new-offer"){   CarNowClient.showOffer(json); } else if(json.type == "popup-focused"){   CarNowPlugin.websiteNotificationEnabled=false;  CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"popup-open"})); } else if(json.type == "popup-blurred"){   CarNowPlugin.websiteNotificationEnabled=true;  CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"popup-blurred"})); } else if(json.type == "popup-closed"){   CarNowPlugin.websiteNotificationEnabled=true;  CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"popup-closed"})); } else if(json.type == "users-list"){   if(document.getElementById("cnusltr") != null){    document.getElementById("cnusltr").innerHTML=json.embededHtml;  }  } else if(json.type == "blink-live"){   CarNowPlugin.blinkLiveButton(); } else if(json.type == "stop-live-blinking"){   CarNowPlugin.stopLiveBlinking(); } else if(json.type == "input-focus"){   var chatFrameDiv=document.getElementById("cn_chat_frame");  var chatFrame=document.getElementById("cn_chat_win");  if(/iPhone|iPod/i.test(navigator.userAgent)){    if(/Safari/i.test(navigator.userAgent) && !/CriOS/i.test(navigator.userAgent)){     var scrollHeight=0;    var divHeight=300 + 44 + (window.innerHeight - 559);     scrollHeight=44;    if(window.innerWidth > window.innerHeight){      if( screen.width <= 320 ){        divHeight=84;     }             if( screen.width > 375 ){       if(screen.width - window.innerHeight > 40){        divHeight=180;       } else{        divHeight=220;      }      }      else{       if(screen.width - window.innerHeight > 40){        divHeight=138;      } else{        divHeight=182;      }      }     }     else{      if( screen.height < 500 ){       divHeight += 44;     } else if( screen.height > 680 ){       divHeight -= 12;      }     }     chatFrameDiv.style.height=divHeight + 'px';    chatFrame.style.height=divHeight + 'px';    chatFrameDiv.style.top='0px';    window.scrollTo(0, scrollHeight);   }   }  } else if(json.type == "input-blur"){   var chatFrameDiv=document.getElementById("cn_chat_frame");  var chatFrame=document.getElementById("cn_chat_win");  if(/iPhone|iPod/i.test(navigator.userAgent)){    if(/Safari/i.test(navigator.userAgent) && !/CriOS/i.test(navigator.userAgent)){     chatFrameDiv.style.top='0px';    chatFrameDiv.style.height=window.innerHeight + "px";    chatFrame.style.height=window.innerHeight + "px";    window.scrollTo(0, 0);   }   }  } else if(json.type == "open-popup" || json.type == "close-frame"){   var frame=document.getElementById("cn_chat_frame");  if(frame != null){    frame.style.display="none";   CarNowClient.addClass(frame, "cn-fadeOutDownBig cn-animated");  }   CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"frame-closed"}));  CarNowPlugin.frameOpen=false;  CarNowPlugin.chatWindow=null;  CarNowPlugin.showMainButtons();  CarNowPlugin.showLiveButton();  setTimeout(function(){    var frame=document.getElementById("cn_chat_frame");   if(frame != null)     frame.parentNode.removeChild(frame);  }, 1000);  if(json.type == "open-popup"){    CarNowPlugin.ui["force_popup"]="1";  } else{    CarNowPlugin.websiteNotificationEnabled=true;  }  } else if(json.type == "poke"){   if(document.getElementById("cn-poke-vsid") != null)    document.getElementById("cn-poke-vsid").value=json.vid;  if(document.getElementById("cn-poke-agid") != null)    document.getElementById("cn-poke-agid").value=json.aid;  CarNowPlugin.showPokePanel(json.pokeId, json.embededHtml); } else if(json.type == "resize-frame"){   var el=document.getElementById("cn_chat_frame");  if(el != null){    if(json.width != null){     el.style.width=json.width + "px";   }    if(json.minified){     CarNowClient.addClass(el, "min");   } else{     CarNowClient.removeClass(el, "min");   }   }  } else if(json.type == "no-buttons"){   CarNowPlugin.removeLiveButton();  CarNowPlugin.hideButtons({removeAll:true}); } else if(json.type != "unknown"){   if(event.origin == "https://app.carnow.com")    CarNowPlugin.sendMessageToLiveFrame(event.data); } }, selectDepartment: function(val, deptUsrSel){  var aId; CarNowClient.setDepartmentId(val); CarNowPlugin.launchChat(null,this.deptSelectorLaunchedFromIdx || 104,aId,true,deptUsrSel);}, selectDepartmentCancel: function(){  CarNowClient.closeDepartmentSelector();}, hideButton: function(btn){  CarNowPlugin.hideButtons({id:btn}); document.cookie="_cn_hide_" + btn + "=1;expires=" + new Date(new Date().getTime() + 30*60000).toGMTString();}, shouldShowButton: function(btn){  return document.cookie.indexOf("_cn_hide_" + btn) == -1;}, sendGA: function(parameters){  if(this.gaEnabled){   window[this.gaFuncName].apply(this, Array.prototype.slice.call(parameters, 0)); }  if(this.gtmEnabled){   this.gtmFunction({'event': 'CarNow Chat Lead', 'eventCategory': 'CarNowLead', 'eventAction': parameters[3], 'eventLabel': parameters[4] || 'submit' }); }  if(typeof(window.XMLHttpRequest) !== "undefined"){   CarNowPlugin.sendMessageToLiveFrame(JSON.stringify({type:"tracking",params:"o=26617&e=" + parameters[3] + "&p=" + parameters[4]})); } }, setTopMargin: function(elId){  var id=elId; setTimeout(function(){   var el=document.getElementById(id);  var height=el.offsetHeight;  el.style.marginTop="-" + (height/2) + "px"; }, 500);}, setAniRepeat: function(id, ani, interval){  var el=document.getElementById(id); CarNowClient.removeClass(el, ani); CarNowClient.removeClass(el, "cn-animated"); CarNowPlugin.buttonAniTimers[id]=setTimeout(function(){   CarNowClient.addClass(el, ani);  CarNowClient.addClass(el, "cn-animated"); }, 1000); setTimeout(function(){ CarNowPlugin.setAniRepeat(id, ani, interval) }, interval*1000);}, /* register resource loaded callback */ whenAllResourcesLoaded: function(callback){  this.resourcesLoadedCallback=callback; var me=this; setTimeout(function(){   if(me.resourceQueue.length > 0){    console.log("[CN] Resources have not been loaded after 5 seconds");  }  }, 5000);}, /* each time a resource is loaded, check to see ifwe are done loading all resources */ onResourceLoaded : function(resourceId){     var me=this; setTimeout(function(){ /* make this async to insure on all browsers all resource get chance to start loading */   var index=me.resourceQueue.indexOf(resourceId);  if(index >= 0){    me.resourceQueue.splice(index, 1);  }   else{    console.log("[CN] Resource " + resourceId + " was loaded but not found in resource queue");  }   if(me.resourceQueue.length == 0){      me.resourcesLoadedCallback.call(me);  }  });}, /* dynamically add javascript resource to the page */ loadJavascript: function(id, url){  var cnHead=document.getElementsByTagName('head')[0]; if(document.getElementById(id)) return document.getElementById(id); var cnJS=document.createElement('script');  cnJS.id=id; cnJS.src=url; cnJS.type="text/javascript"; cnHead.appendChild(cnJS, cnHead); this.resourceQueue.push(cnJS.id); /* loaded callback */  var me=this; if(cnJS.readyState){ /* IE */   cnJS.onreadystatechange=function (){        if(cnJS.readyState == "loaded" || cnJS.readyState == "complete"){          cnJS.onreadystatechange=null;         me.onResourceLoaded(cnJS.id);       }      }; }  else{ /* Others */    cnJS.onload=function (){     me.onResourceLoaded(cnJS.id);   }; }  return cnJS;}, /* dynamically add a css resource to the page */ loadCss : function(id, url, media){   media=media || "screen";  var cnHead=document.getElementsByTagName('head')[0];  if(document.getElementById(id)) return document.getElementById(id);  var cnCss=document.createElement('link');  cnCss.id=id;  cnCss.href=url;  cnCss.type="text/css";  cnCss.rel="stylesheet";  cnCss.media=media;  cnHead.appendChild(cnCss, cnHead);  this.resourceQueue.push(cnCss.id);  /* loaded callback */   var me=this;  if(cnCss.readyState){ /* IE */    cnCss.onreadystatechange=function (){         if(cnCss.readyState == "loaded" || cnCss.readyState == "complete"){           cnCss.onreadystatechange=null;          me.onResourceLoaded(cnCss.id);        }       };  }   else{ /* Others */     cnCss.onload=function (){      me.onResourceLoaded(cnCss.id);    };  }   return cnCss;}};if(window.addEventListener){ window.addEventListener("message", function(event){  CarNowPlugin.processLiveEvent(event);}, false);} else if(window.attachEvent){ window.attachEvent("onmessage", function(event){  CarNowPlugin.processLiveEvent(event);});}if(window.addEventListener){} else if(window.attachEvent){ window.attachEvent("onscroll", function(event){  if(CarNowPlugin.hideWhenScrollToBottom){   if((window.scrollY + window.innerHeight) + 40 > document.height){    CarNowPlugin.hideBottomButtons();  } else{    CarNowPlugin.showMainButtons();  }  } }, false);}